System.register("chunks:///_virtual/AirFan.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseObject.ts","./GameObject.ts"],(function(e){var t,n,i,o,r,c,a,l,s,u,d,f,p,h,v,y,C,O,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inherits,i=e.createSuper,o=e.classCallCheck,r=e.initializerDefineProperty,c=e.assertThisInitialized,a=e.createClass,l=e.get,s=e.getPrototypeOf},function(e){u=e.cclegacy,d=e._decorator,f=e.CCInteger,p=e.Vec2,h=e.Collider2D,v=e.Contact2DType,y=e.RigidBody2D,C=e.math},function(e){O=e.BaseObject},function(e){b=e.ObjectNames}],execute:function(){var g,F,m,k,D;u._RF.push({},"15b7bvQaXpFgItiEHCr7GsP","AirFan",void 0);var A=d.ccclass,B=d.property;e("AirFan",(g=A("AirFan"),F=B(f),g((D=t((k=function(e){n(u,e);var t=i(u);function u(){var e;o(this,u);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),r(e,"pushForce",D,c(e)),e.force=new p(0,0),e.affectedObjects=[],e.colliders=[],e.onBeginContact=function(t,n){e.affectedObjects.includes(n.node.name)&&-1==e.colliders.findIndex((function(e){return e.node==n.node}))&&e.colliders.push(n)},e.onEndContact=function(t,n){var i=e.colliders.indexOf(n);-1!=i&&e.colliders.splice(i,1)},e}return a(u,[{key:"onLoad",value:function(){this.collider=this.getComponent(h),this.validateRequiredComponents()}},{key:"validateRequiredComponents",value:function(){if(!this.collider)throw new Error("AirFan: Collider2D not found")}},{key:"start",value:function(){this.colliders=[],this.affectedObjects=[b.DOGE,b.THORN_BALL,b.LINE,b.WOOD,b.BALLON],this.collider.on(v.BEGIN_CONTACT,this.onBeginContact),this.collider.on(v.END_CONTACT,this.onEndContact)}},{key:"update",value:function(e){var t=this;this.colliders.forEach((function(e){var n=e.getComponent(y);n&&n.applyForceToCenter(t.force,!0)}))}},{key:"setForceDirection",value:function(e){var t=new p(0,1).rotate(C.toRadian(e));this.force=t.clone().normalize().multiplyScalar(this.pushForce)}},{key:"sleep",value:function(){l(s(u.prototype),"sleep",this).call(this),this.enabled=!1}},{key:"wake",value:function(){l(s(u.prototype),"wake",this).call(this),this.enabled=!0}}]),u}(O)).prototype,"pushForce",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 400}}),m=k))||m));u._RF.pop()}}}));

System.register("chunks:///_virtual/AttackingState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Music.ts","./Sound.ts","./BaseState.ts","./DeathState.ts","./EscapeState.ts","./LoadingState.ts","./ReadyState.ts"],(function(e){var n,t,a,u,i,s,o,l,c,r,d,v,g;return{setters:[function(e){n=e.inherits,t=e.createSuper,a=e.classCallCheck,u=e.createClass},function(e){i=e.cclegacy,s=e.find},function(e){o=e.Music},function(e){l=e.Sound},function(e){c=e.default},function(e){r=e.default},function(e){d=e.default},function(e){v=e.default},function(e){g=e.default}],execute:function(){i._RF.push({},"a79a7LT0s5BuZrk5mvYsyKr","AttackingState",void 0);e("default",function(e){n(c,e);var i=t(c);function c(e){var n;return a(this,c),(n=i.call(this,e)).stopHint(),n.stopDrawing(),n.wakeUpObjects(),n.spawnEnemies(),n.startCountdown(),n.turnDownBackgroundMusic(),n}return u(c,[{key:"load",value:function(){var e=new v(this.manager);this.manager.change(e)}},{key:"ready",value:function(){var e=new g(this.manager);this.manager.change(e)}},{key:"draw",value:function(){}},{key:"attack",value:function(){}},{key:"escape",value:function(){var e=new d(this.manager);this.manager.change(e)}},{key:"death",value:function(){var e=new r(this.manager);this.manager.change(e)}},{key:"finish",value:function(){}},{key:"update",value:function(){}},{key:"stopDrawing",value:function(){var e,n;null===(e=this.game)||void 0===e||null===(n=e.lineDrawer)||void 0===n||n.endDraw()}},{key:"stopHint",value:function(){var e,n;null===(e=this.game)||void 0===e||null===(n=e.hint)||void 0===n||n.hideHint()}},{key:"wakeUpObjects",value:function(){var e,n;null===(e=this.game)||void 0===e||null===(n=e.gameObjects)||void 0===n||n.wakeUpObjects()}},{key:"spawnEnemies",value:function(){this.game&&this.game.gameObjects&&(this.game.gameObjects.spawnBees(),this.game.gameObjects.reviveBigBees(),this.playSound("sounds/bee-flying"),this.playSound("sounds/end-draw"))}},{key:"startCountdown",value:function(){var e;null===(e=this.game)||void 0===e||e.uiManager.startCountdown()}},{key:"turnDownBackgroundMusic",value:function(){var e,n;null===(e=s("Music"))||void 0===e||null===(n=e.getComponent(o))||void 0===n||n.setVolume(.3)}},{key:"playSound",value:function(e){var n,t;null===(n=s("Sound"))||void 0===n||null===(t=n.getComponent(l))||void 0===t||t.play(e)}}]),c}(c));i._RF.pop()}}}));

System.register("chunks:///_virtual/AudioChannel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioPlayer.ts"],(function(e){var r,n,o,t,u,i,a,c,d,s,l;return{setters:[function(e){r=e.inherits,n=e.createSuper,o=e.classCallCheck,t=e.createClass,u=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){a=e.cclegacy,c=e.AudioSource,d=e.resources,s=e.AudioClip},function(e){l=e.default}],execute:function(){a._RF.push({},"8b5ecHv/+BJiorK1kiVbTcf","AudioChannel",void 0);var f=GameCore.Plugins.Audio.BaseChannelManager;e("default",function(e){r(v,e);var a,f=n(v);function v(e,r){var n;return o(this,v),(n=f.call(this,r)).handleLoadedAudio=function(e,r,o){var t=n.node.addComponent(c);t.clip=r;var u=new l(e,t);if(o){var i=o.checkList,a=void 0===i?[]:i,d=o.volume,s=void 0===d?1:d;if(a.some((function(e){var r=n.getAudioClip(e);return!!r&&r.audioPlayer.getAudioSource().state===c.AudioState.PLAYING})))throw n.setAudioClip(e,{volume:s,audioPlayer:u}),new Error("EXPECTED_ERROR")}return u},n.node=e,n}return t(v,[{key:"onLoadAudio",value:(a=u(i().mark((function e(r,n){var o=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){d.load(r,s,(function(u,i){try{if(u)throw u;var a=o.handleLoadedAudio(r,i,n);e(a)}catch(u){t(u)}}))})));case 1:case"end":return e.stop()}}),e)}))),function(e,r){return a.apply(this,arguments)})}]),v}(f));a._RF.pop()}}}));

System.register("chunks:///_virtual/AudioDemo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Music.ts","./Sound.ts"],(function(s){var o,u,n,t,i,e,a,d,c,l;return{setters:[function(s){o=s.inherits,u=s.createSuper,n=s.classCallCheck,t=s.createClass},function(s){i=s.cclegacy,e=s._decorator,a=s.find,d=s.Component},function(s){c=s.Music},function(s){l=s.Sound}],execute:function(){var r;i._RF.push({},"a3b8adQtftPmKSSoumHWY1e","AudioDemo",void 0);var m=e.ccclass;s("AudioDemo",m("AudioDemo")(r=function(s){o(e,s);var i=u(e);function e(){var s;n(this,e);for(var o=arguments.length,u=new Array(o),t=0;t<o;t++)u[t]=arguments[t];return(s=i.call.apply(i,[this].concat(u))).isMusicMute=!1,s.isSoundMute=!1,s.listSounds=[],s}return t(e,[{key:"onLoad",value:function(){var s,o;this.musicComp=null===(s=a("Music"))||void 0===s?void 0:s.getComponent(c),this.soundComp=null===(o=a("Sound"))||void 0===o?void 0:o.getComponent(l),this.validateRequiredComponents(),this.listSounds=["sounds/bee-flying","sounds/bee-sting-doge","sounds/button-click","sounds/collecting-coins","sounds/doge-dies","sounds/doge-hurt","sounds/end-draw","sounds/hand-clap","sounds/level-fail","sounds/level-pass","sounds/lost-star-in-gameplay","sounds/raise-star","sounds/spawn-coins","sounds/star-raise"]}},{key:"validateRequiredComponents",value:function(){if(!this.musicComp)throw new Error("AudioDemo: Music not found");if(!this.soundComp)throw new Error("AudioDemo: Sound not found")}},{key:"playBackgroundMusic",value:function(){this.musicComp.play("sounds/bg-music")}},{key:"pauseBackgroundMusic",value:function(){this.musicComp.pause("sounds/bg-music")}},{key:"stopBackgroundMusic",value:function(){this.musicComp.stop("sounds/bg-music")}},{key:"randomMusicChannelVolume",value:function(){var s=Math.random();this.musicComp.setVolume(s)}},{key:"toggleMuteMusicChannel",value:function(){this.isMusicMute?(this.musicComp.mute(!1),this.isMusicMute=!1):(this.musicComp.mute(!0),this.isMusicMute=!0)}},{key:"playRandomSound",value:function(){this.soundComp.play(this.listSounds[Math.floor(Math.random()*this.listSounds.length)])}},{key:"toggleMuteSoundChannel",value:function(){this.isSoundMute?(this.soundComp.mute(!1),this.isSoundMute=!1):(this.soundComp.mute(!0),this.isSoundMute=!0)}},{key:"randomSoundChannelVolume",value:function(){var s=Math.random();this.soundComp.setVolume(s)}}]),e}(d))||r);i._RF.pop()}}}));

System.register("chunks:///_virtual/AudioPlayer.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(u){var e,o,i,t,a,c;return{setters:[function(u){e=u.inherits,o=u.createSuper,i=u.classCallCheck,t=u.createClass},function(u){a=u.cclegacy,c=u.AudioSource}],execute:function(){a._RF.push({},"cc0a5OvhdRCMZRZuRscaz+7","AudioPlayer",void 0);u("default",function(u){e(r,u);var a=o(r);function r(u,e){var o;return i(this,r),(o=a.call(this,u)).audioSource=e,o}return t(r,[{key:"play",value:function(u){if(u){var e=u.volume,o=void 0===e?1:e,i=u.loop,t=void 0!==i&&i;this.audioSource.volume=o,this.audioSource.loop=t}this.audioSource.play()}},{key:"pause",value:function(){this.audioSource.pause()}},{key:"resume",value:function(){this.audioSource.state===c.AudioState.PAUSED&&this.audioSource.play()}},{key:"stop",value:function(){this.audioSource.stop()}},{key:"setVolume",value:function(u){this.audioSource.volume=u}},{key:"getAudioSource",value:function(){return this.audioSource}}]),r}(GameCore.Plugins.Audio.BaseAudioPlayer));a._RF.pop()}}}));

System.register("chunks:///_virtual/BackgroundMask.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(a){var t,n,e,c,o,r,s,u;return{setters:[function(a){t=a.inherits,n=a.createSuper,e=a.classCallCheck,c=a.createClass},function(a){o=a.cclegacy,r=a._decorator,s=a.UIOpacity,u=a.Component}],execute:function(){var i;o._RF.push({},"f3521L4Mn5I3bhxr0QZJ9y9","BackgroundMask",void 0);var p=r.ccclass,l=r.requireComponent;a("BackgroundMask",p("BackgroundMask")(i=l([s])(i=function(a){t(r,a);var o=n(r);function r(){return e(this,r),o.apply(this,arguments)}return c(r,[{key:"onLoad",value:function(){var a=this.getComponent(s);a?(this.opacity=a,this.updateMaskAlpha()):console.warn("BackgroundMask: UIOpacity not found")}},{key:"updateMaskAlpha",value:function(){var a,t,n=this.opacity.opacity/255;a=n,(t=document.getElementById("app-mask"))&&(t.style.background="rgb(0 0 0 / ".concat(a,")"))}}]),r}(u))||i)||i);o._RF.pop()}}}));

System.register("chunks:///_virtual/Balloon.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseObject.ts","./GameObject.ts","./SpineAnimationName.ts","./Rope.ts"],(function(e){var n,o,t,i,r,a,l,c,s,u,p,d,f,h,B,y,g,C;return{setters:[function(e){n=e.applyDecoratedDescriptor,o=e.inherits,t=e.createSuper,i=e.classCallCheck,r=e.initializerDefineProperty,a=e.assertThisInitialized,l=e.createClass},function(e){c=e.cclegacy,s=e._decorator,u=e.Prefab,p=e.Collider2D,d=e.RigidBody2D,f=e.Contact2DType,h=e.instantiate},function(e){B=e.BaseObject},function(e){y=e.ObjectNames},function(e){g=e.default},function(e){C=e.Rope}],execute:function(){var b,m,v,O,R;c._RF.push({},"a8a47NhLJ9C1ahfjfiJ2xjc","Balloon",void 0);var A=s.ccclass,D=s.property;e("Balloon",(b=A("Balloon"),m=D(u),b((R=n((O=function(e){o(c,e);var n=t(c);function c(){var e;i(this,c);for(var o=arguments.length,t=new Array(o),l=0;l<o;l++)t[l]=arguments[l];return e=n.call.apply(n,[this].concat(t)),r(e,"ropePrefab",R,a(e)),e.rope=null,e.onBeginContact=function(n,o){e.rope&&([y.BEE,y.THORN,y.THORN_BALL].includes(o.node.name)&&(e.rope.disconnect(),e.setSpineAnimation(g.BALLOON.EXPLODE,!1),e.scheduleOnce((function(){e.rigidBody.enabled=!1}))))},e}return l(c,[{key:"onLoad",value:function(){this.collider=this.getComponent(p),this.rigidBody=this.getComponent(d),this.validateRequiredComponents()}},{key:"validateRequiredComponents",value:function(){if(!this.ropePrefab)throw new Error("Balloon: Rope prefab is not assigned");if(!this.collider)throw new Error("Balloon: Collider2D not found");if(!this.rigidBody)throw new Error("Balloon: RigidBody2D not found")}},{key:"start",value:function(){this.setSpineAnimation(g.BALLOON.APPEAR,!0),this.collider.on(f.BEGIN_CONTACT,this.onBeginContact)}},{key:"connectToDoge",value:function(e){var n=h(this.ropePrefab).getComponent(C);if(n)return n.headJoint=this.node,n.tailJoint=e,n.node.parent=e.parent,this.rope=n,n;console.warn("Balloon: Rope component not found")}}]),c}(B)).prototype,"ropePrefab",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=O))||v));c._RF.pop()}}}));

System.register("chunks:///_virtual/BaseBehavior.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BeeRole.ts","./NormalBehavior.ts","./PusherBehavior.ts"],(function(e){var t,i,a,n,o,s;return{setters:[function(e){t=e.createClass,i=e.classCallCheck},function(e){a=e.cclegacy},function(e){n=e.default},function(e){o=e.default},function(e){s=e.default}],execute:function(){a._RF.push({},"19c52/F5VRPcbm2BqdbChIp","BaseBehavior",void 0);e("default",function(){function e(t){i(this,e),this.bee=t,this.normalBehavior=new o(t),this.pusherBehavior=new s(t),this.seekingPathBehavior=null}return t(e,[{key:"onBeginContact",value:function(e,t){switch(this.bee.role){case n.NORMAL:this.normalBehavior.onBeginContact();break;case n.PATH_SEEKER:if(!this.seekingPathBehavior)return void console.warn("Bee: Seeking path behavior is null");this.seekingPathBehavior.onBeginContact(e,t);break;case n.PUSHER:this.pusherBehavior.onBeginContact()}}},{key:"update",value:function(e){0==this.updateSpecialRole(e)&&this.normalBehavior.update(e)}},{key:"updateSpecialRole",value:function(e){switch(this.bee.role){case n.PATH_SEEKER:return!!this.seekingPathBehavior&&this.seekingPathBehavior.update(e);default:return!1}}}]),e}());a._RF.pop()}}}));

System.register("chunks:///_virtual/BaseObject.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,i,o,a,s,l,r,u,y,c,d;return{setters:[function(e){t=e.inherits,n=e.createSuper,i=e.createClass,o=e.classCallCheck},function(e){a=e.cclegacy,s=e._decorator,l=e.ERigidBody2DType,r=e.RigidBody2D,u=e.sp,y=e.Sprite,c=e.Vec2,d=e.Component}],execute:function(){var h;a._RF.push({},"476e6UyMHFJyI2GmFP4KpHY","BaseObject",void 0);var p=s.ccclass;e("BaseObject",p("BaseObject")(h=function(e){t(s,e);var a=n(s);function s(){var e;o(this,s);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(e=a.call.apply(a,[this].concat(n))).id=0,e.points=[],e.body=null,e.bodyType=l.Static,e}return i(s,[{key:"sleep",value:function(){if(!this.body){if(this.body=this.getComponent(r),!this.body)return;this.bodyType=this.body.type}this.enabled=!1,this.body.sleep(),this.body.type=l.Static}},{key:"wake",value:function(){if(this.enabled=!0,this.body)this.body.wakeUp(),this.body.type=this.bodyType;else{if(this.body=this.getComponent(r),!this.body)return;this.bodyType=this.body.type}}},{key:"hide",value:function(){var e;this.enabled=!1,null===(e=this.body)||void 0===e||e.sleep();var t=this.getComponent(u.Skeleton);t&&(t.enabled=!1);var n=this.getComponent(y);n&&(n.enabled=!1)}},{key:"preHide",value:function(){var e;this.enabled=!1,null===(e=this.body)||void 0===e||e.sleep(),this.scheduleOnce(this.hide,.2)}},{key:"appear",value:function(){this.enabled=!0;var e=this.getComponent(u.Skeleton);e&&(e.enabled=!0)}},{key:"setSpineAnimation",value:function(e,t){var n=this.getComponent(u.Skeleton);n&&n.setAnimation(0,e,t)}},{key:"getCurrentSpineAnimation",value:function(){var e=this.getComponent(u.Skeleton);return e?e.animation:null}},{key:"setEnable",value:function(e){this.enabled=e}},{key:"angle",value:function(e,t){var n=Math.atan2(t,e);return n<0&&(n+=2*Math.PI),n}},{key:"getVectorDataFromAToB",value:function(e,t){var n=t.x-e.x,i=t.y-e.y;return{vector:new c(n,i).normalize(),dx:n,dy:i}}},{key:"kill",value:function(){this.node.active=!1}},{key:"revive",value:function(){this.node.active=!0}}]),s}(d))||h);a._RF.pop()}}}));

System.register("chunks:///_virtual/BaseScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,t,i,a,o,r,c,s,l,u,p,h,v;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inherits,i=e.createSuper,a=e.classCallCheck,o=e.initializerDefineProperty,r=e.assertThisInitialized,c=e.createClass},function(e){s=e.cclegacy,l=e._decorator,u=e.Node,p=e.Animation,h=e.UIOpacity,v=e.Component}],execute:function(){var m,g,d,f,y,k,w;s._RF.push({},"acb0egHPppFmYJalVNrDDv/","BaseScreen",void 0);var C=l.ccclass,S=l.property,E=l.disallowMultiple,b=GameCore.Events,O=globalThis.game.event;e("BaseScreen",(m=C("BaseScreen"),g=S(u),d=S(u),m(f=E((k=n((y=function(e){t(s,e);var n=i(s);function s(){var e;a(this,s);for(var t=arguments.length,i=new Array(t),c=0;c<t;c++)i[c]=arguments[c];return e=n.call.apply(n,[this].concat(i)),o(e,"container",k,r(e)),o(e,"backgroundMask",w,r(e)),e.data={},e}return c(s,[{key:"onLoad",value:function(){this.animation=this.getComponent(p),this.validateRequiredComponents(),this.initializeNodes()}},{key:"initializeNodes",value:function(){var e=this.getMaskOpacity(),n=this.getContainerOpacity();e&&n&&(e.opacity=0,n.opacity=0)}},{key:"validateRequiredComponents",value:function(){if(!this.animation)throw new Error("".concat(this.node.name,": animation not found"));if(!this.container)throw new Error("".concat(this.node.name,": container not found"));if(!this.backgroundMask)throw new Error("".concat(this.node.name,": backgroundMask not found"))}},{key:"open",value:function(e){e&&(this.data=e),this.runAnimation("OpenScreen"),this.logEventOpenScreen()}},{key:"close",value:function(){var e=this;this.animation.once(p.EventType.FINISHED,(function(){O.emit(b.CLOSED_SCREEN,{screenName:e.node.name}),e.node.active=!1})),this.runAnimation("CloseScreen"),this.logEventCloseScreen()}},{key:"runAnimation",value:function(e){if(!this.isAnimationExist(e))throw new Error("".concat(this.node.name,": Animation component must have ").concat(e," clip"));this.animation.play(e)}},{key:"isAnimationExist",value:function(e){return this.animation.clips.some((function(n){return!(!n||n.name!==e)}))}},{key:"getMaskOpacity",value:function(){var e=this.backgroundMask.getComponent(h);return e||(console.warn("BaseScreen: maskOpacity not found"),null)}},{key:"getContainerOpacity",value:function(){var e=this.container.getComponent(h);return e||(console.warn("BaseScreen: containerOpacity not found"),null)}},{key:"logEventOpenScreen",value:function(){var e=this.node.name;this.logPageview(e)}},{key:"logEventCloseScreen",value:function(e){e&&this.logPageview(e)}},{key:"logPageview",value:function(e){var n=globalThis.game.analytics;n.setPlacement(e),n.pageview(e)}}]),s}(v)).prototype,"container",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=n(y.prototype,"backgroundMask",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=y))||f)||f));s._RF.pop()}}}));

System.register("chunks:///_virtual/BaseState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Gameplay.ts"],(function(t){var e,a,n,s;return{setters:[function(t){e=t.createClass,a=t.classCallCheck},function(t){n=t.cclegacy},function(t){s=t.Gameplay}],execute:function(){n._RF.push({},"e6116mseMNPD6VcLUtkvez6","BaseState",void 0);t("default",function(){function t(e){if(a(this,t),this.game=null,this.data={},this.game=e.node.getComponent(s),!this.game)throw new Error("Gameplay component not found");this.manager=e,this.updateStateData(),this.logDebug()}return e(t,[{key:"logDebug",value:function(){var t=this.constructor.name;console.info("[STATE] ".concat(t),this.data)}},{key:"updateStateData",value:function(){if(this.game){var t=this.game.getGameData();t&&(this.data=t)}}},{key:"updateGameData",value:function(t){var e;null===(e=this.game)||void 0===e||e.setGameData(t)}}]),t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/Bee.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Sound.ts","./BaseObject.ts","./GameObjects.ts","./BeeRole.ts","./BeeState.ts","./GameEvents2.ts","./GameObject.ts","./SpineAnimationName.ts","./BaseBehavior.ts"],(function(e){var t,i,n,o,a,s,r,l,u,c,d,h,f,g,p,v,y,m,B,S,k,D,C;return{setters:[function(e){t=e.inherits,i=e.createSuper,n=e.classCallCheck,o=e.assertThisInitialized,a=e.createClass,s=e.get,r=e.getPrototypeOf},function(e){l=e.cclegacy,u=e._decorator,c=e.math,d=e.Collider2D,h=e.RigidBody2D,f=e.Contact2DType,g=e.find},function(e){p=e.Sound},function(e){v=e.BaseObject},function(e){y=e.GameObjects},function(e){m=e.default},function(e){B=e.default},function(e){S=e.default},function(e){k=e.ObjectNames},function(e){D=e.default},function(e){C=e.default}],execute:function(){var E;l._RF.push({},"0b146P+xAlN5LGe2MJHlJDc","Bee",void 0);var O=u.ccclass;e("Bee",O("Bee")(E=function(e){t(u,e);var l=i(u);function u(){var e;n(this,u);for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return(e=l.call.apply(l,[this].concat(i))).target=null,e.isSpawnLeftSide=!1,e.role=m.NORMAL,e.state=B.IDLE,e.behavior=new C(o(e)),e.speed=0,e.onBeginContact=function(t,i){e.rigidBody.linearDamping=c.randomRangeInt(6,8),i.node.name!=k.THORN&&i.node.name!=k.POISON?(i.node.name==k.DOGE&&e.playSound("sounds/bee-sting-doge",{volume:.3}),e.behavior.onBeginContact(t,i)):e.smokeDisappear()},e}return a(u,[{key:"onLoad",value:function(){var e;this.collider=this.getComponent(d),this.rigidBody=this.getComponent(h),this.gameObjects=null===(e=this.node.parent)||void 0===e?void 0:e.getComponent(y),this.validateRequiredComponents()}},{key:"validateRequiredComponents",value:function(){if(!this.gameObjects)throw new Error("Bee: GameObjects not found");if(!this.collider)throw new Error("Bee: Collider2D not found");if(!this.rigidBody)throw new Error("Bee: RigidBody2D not found")}},{key:"start",value:function(){this.setState(B.IDLE),this.collider.on(f.BEGIN_CONTACT,this.onBeginContact)}},{key:"followTarget",value:function(e){this.target=e,this.attackTarget()}},{key:"findTarget",value:function(){var e=this.gameObjects.getNearestDogeToBee(this);e&&(e.isCantBeTargeted()?this.target=null:this.target=e.node)}},{key:"smokeDisappear",value:function(){this.preHide(),this.setSpineAnimation(D.BEE.SMOKE_DISAPPEAR,!1),this.setState(B.DIE),this.node.scene.emit(S.BEE_DIE)}},{key:"flap",value:function(){this.setSpineAnimation(D.BEE.FLAP_WINGS,!0)}},{key:"attackTarget",value:function(){if(this.target){this.speed=c.randomRange(20,30);var e=this.getVectorDataFromAToB(this.node.getWorldPosition(),this.target.getWorldPosition());e.vector.rotate(c.randomRange(-.3,.3)).multiplyScalar(this.speed),this.move(e),this.rigidBody.linearDamping=0,this.setState(B.ATTACKING)}}},{key:"sleep",value:function(){s(r(u.prototype),"sleep",this).call(this),this.target=null}},{key:"rotateToVector",value:function(e){this.node.angle=c.toDegree(this.angle(e.x,e.y)),this.isSpawnLeftSide&&(this.node.angle+=180)}},{key:"move",value:function(e){this.rigidBody.linearVelocity=e.vector,this.rotateToVector({x:e.dx,y:e.dy})}},{key:"fly",value:function(e){this.rigidBody.linearVelocity=e,this.rigidBody.linearDamping=0,this.flap(),this.setState(B.FLYING)}},{key:"setState",value:function(e){this.state=e}},{key:"setRole",value:function(e){this.role=e}},{key:"update",value:function(e){this.behavior.update(e)}},{key:"playSound",value:function(e,t){var i,n;null===(i=g("Sound"))||void 0===i||null===(n=i.getComponent(p))||void 0===n||n.play(e,t)}}]),u}(v))||E);l._RF.pop()}}}));

System.register("chunks:///_virtual/Beehive.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseObject.ts","./GameObjects.ts","./BeeRole.ts","./Bee.ts","./SeekingPathBehavior.ts"],(function(e){var t,n,a,i,o,s,r,c,l,h,u,d,f,v;return{setters:[function(e){t=e.inherits,n=e.createSuper,a=e.classCallCheck,i=e.createClass},function(e){o=e.cclegacy,s=e._decorator,r=e.math,c=e.Vec3,l=e.Vec2},function(e){h=e.BaseObject},function(e){u=e.GameObjects},function(e){d=e.default},function(e){f=e.Bee},function(e){v=e.default}],execute:function(){var S;o._RF.push({},"2181aAj+ElOoL2tBGH10euY","Beehive",void 0);var k=s.ccclass;e("Beehive",k("Beehive")(S=function(e){t(s,e);var o=n(s);function s(){var e;a(this,s);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(e=o.call.apply(o,[this].concat(n))).totalPathSeekers=0,e.isSeekToLastPoint=!0,e}return i(s,[{key:"onLoad",value:function(){var e;this.gameObjects=null===(e=this.node.parent)||void 0===e?void 0:e.getComponent(u),this.validateRequiredComponents()}},{key:"validateRequiredComponents",value:function(){if(!this.gameObjects)throw new Error("Beehive: GameObjects not found")}},{key:"releaseBee",value:function(e){var t=this;this.updateTotalPathSeekers(),this.scheduleOnce((function(){var n=e.getComponent(f);if(n){t.createPathSeeker(n),"isRightSide"in t.node&&!0===t.node.isRightSide?t.spawnInRightSide(n):t.spawnInLeftSide(n),n.wake();var a=t.gameObjects.getRandomDogeToBee();a&&t.scheduleOnce((function(){return n.followTarget(a.node)}),.4)}}),r.randomRange(.2,.6))}},{key:"updateTotalPathSeekers",value:function(){"totalPathSeekers"in this.node&&"number"==typeof this.node.totalPathSeekers&&(this.totalPathSeekers=this.node.totalPathSeekers)}},{key:"spawnInLeftSide",value:function(e){var t=this.node.getPosition(),n=t.x,a=t.y,i=r.randomRangeInt(-30,0),o=r.randomRangeInt(38,48);e.isSpawnLeftSide=!0,e.node.setScale(new c(1,1,1)),e.node.setPosition(n+i,a+o),e.fly(new l(-2,-1).normalize().multiplyScalar(10))}},{key:"spawnInRightSide",value:function(e){var t=this.node.getPosition(),n=t.x,a=t.y,i=r.randomRangeInt(0,30),o=r.randomRangeInt(38,48);e.isSpawnLeftSide=!1,e.node.setScale(new c(-1,1,1)),e.node.setPosition(n+i,a+o),e.fly(new l(2,-1).normalize().multiplyScalar(10))}},{key:"createPathSeeker",value:function(e){0!==this.totalPathSeekers&&(e.setRole(d.PATH_SEEKER),e.behavior.seekingPathBehavior=new v(e,this.isSeekToLastPoint),this.isSeekToLastPoint=!this.isSeekToLastPoint,this.totalPathSeekers-=1)}}]),s}(h))||S);o._RF.pop()}}}));

System.register("chunks:///_virtual/BeeRole.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"27033qxh65F25R336CXMYGV","BeeRole",void 0);var c=e("default",function(e){return e[e.NORMAL=0]="NORMAL",e[e.PATH_SEEKER=1]="PATH_SEEKER",e[e.PUSHER=2]="PUSHER",e}(c||{}));t._RF.pop()}}}));

System.register("chunks:///_virtual/BeeState.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"ab23abxgeZD0KDVdLYEeAQS","BeeState",void 0);var I=e("default",function(e){return e[e.IDLE=0]="IDLE",e[e.FLYING=1]="FLYING",e[e.WAITING_TO_SEEK_PATH=2]="WAITING_TO_SEEK_PATH",e[e.SEEKING_PATH=3]="SEEKING_PATH",e[e.ATTACKING=4]="ATTACKING",e[e.DIE=5]="DIE",e}(I||{}));t._RF.pop()}}}));

System.register("chunks:///_virtual/BigBee.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameObjects.ts","./BeeState.ts","./BigBeeBullet.ts"],(function(e){var t,n,o,i,a,r,l,s,u,c,h,f,g,B,d,m,p,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inherits,o=e.createSuper,i=e.classCallCheck,a=e.initializerDefineProperty,r=e.assertThisInitialized,l=e.createClass},function(e){s=e.cclegacy,u=e._decorator,c=e.Prefab,h=e.sp,f=e.Vec3,g=e.math,B=e.instantiate,d=e.Component},function(e){m=e.GameObjects},function(e){p=e.default},function(e){v=e.BigBeeBullet}],execute:function(){var k,b,T,y,P;s._RF.push({},"2b15b1CihdEf60Zy/wIYirK","BigBee",void 0);var w=u.ccclass,A=u.property;e("BigBee",(k=w("BigBee"),b=A(c),k((P=t((y=function(e){n(s,e);var t=o(s);function s(){var e;i(this,s);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o)),a(e,"bulletPrefab",P,r(e)),e.state=p.IDLE,e.target=null,e.bulletPool=[],e.timeToAttack=0,e.countTimeToAttack=0,e}return l(s,[{key:"onLoad",value:function(){var e;this.skeleton=this.getComponent(h.Skeleton),this.gameObjects=null===(e=this.node.parent)||void 0===e?void 0:e.getComponent(m),this.validateRequiredComponents()}},{key:"validateRequiredComponents",value:function(){if(!this.gameObjects)throw new Error("BigBee: GameObjects not found");if(!this.bulletPrefab)throw new Error("BigBee: Bullet prefab not found");if(!this.skeleton)throw new Error("BigBee: Skeleton not found")}},{key:"start",value:function(){this.node.setScale(new f(.5,.5,.5)),this.timeToAttack=g.randomRange(1,2),this.countTimeToAttack=0,this.createBulletPool();var e=this.gameObjects.getRandomDogeToBee();e?(this.target=e.node,this.state=p.FLYING):console.warn("BigBee: Target not found")}},{key:"update",value:function(e){this.state===p.ATTACKING&&(this.countTimeToAttack+=e,this.countTimeToAttack>this.timeToAttack&&(this.attackTarget(),this.timeToAttack=g.randomRange(1,2),this.countTimeToAttack=0))}},{key:"createBulletPool",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;this.bulletPool=[];for(var t=0;t<e;t++)this.createBullet()}},{key:"createBullet",value:function(){if(!this.node.parent)return console.warn("BigBee: Parent not found"),null;var e=B(this.bulletPrefab),t=e.getComponent(v);return t&&t.kill(),this.node.parent.addChild(e),this.bulletPool.push(e),e}},{key:"attackTarget",value:function(){var e=this;this.skeleton.setAnimation(0,"attack",!1),this.skeleton.setCompleteListener((function(){e.skeleton.setAnimation(0,"fly",!0)})),this.scheduleOnce((function(){if(e.target){var t=e.bulletPool.filter((function(e){return 0==e.active}))[0];if(t||(t=e.createBullet())){var n=t.getComponent(v);if(n){n.revive();var o=e.node.getPosition(),i=o.x,a=o.y;t.setPosition(i,a),n.forwardToDoge(e.target)}else console.warn("BigBee: Bullet component not found")}}else console.warn("BigBee: Target not found")}),.5)}}]),s}(d)).prototype,"bulletPrefab",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=y))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/BigBeeBullet.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseObject.ts"],(function(e){var t,i,o,n,r,l,a,c,s,u,g,d,h,B,p,v,f,y,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inherits,o=e.createSuper,n=e.classCallCheck,r=e.initializerDefineProperty,l=e.assertThisInitialized,a=e.createClass,c=e.get,s=e.getPrototypeOf},function(e){u=e.cclegacy,g=e._decorator,d=e.Sprite,h=e.sp,B=e.Collider2D,p=e.RigidBody2D,v=e.Vec3,f=e.Contact2DType,y=e.math},function(e){m=e.BaseObject}],execute:function(){var C,k,w,D,b,R,S;u._RF.push({},"a17a07Pu/tAGb4MdM3jxHke","BigBeeBullet",void 0);var P=g.ccclass,T=g.property;e("BigBeeBullet",(C=P("BigBeeBullet"),k=T(d),w=T(h.Skeleton),C((R=t((b=function(e){i(u,e);var t=o(u);function u(){var e;n(this,u);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),r(e,"stinger",R,l(e)),r(e,"ci",S,l(e)),e.onBeginContact=function(){e.stinger.active=!1,e.ci.active=!0;var t=e.ci.getComponent(h.Skeleton);t?(t.setAnimation(0,"animation",!1),t.setCompleteListener((function(){e.kill()}))):console.warn("BigBeeBullet: ske not found")},e}return a(u,[{key:"onLoad",value:function(){this.collider=this.getComponent(B),this.rigidBody=this.getComponent(p),this.validateRequiredComponents()}},{key:"validateRequiredComponents",value:function(){if(!this.stinger)throw new Error("BigBeeBullet: stinger not found");if(!this.ci)throw new Error("BigBeeBullet: ci not found");if(!this.collider)throw new Error("BigBeeBullet: Collider2D not found");if(!this.rigidBody)throw new Error("BigBeeBullet: RigidBody2D not found")}},{key:"start",value:function(){this.ci.setScale(new v(.5,.5,.5)),this.revive()}},{key:"revive",value:function(){c(s(u.prototype),"revive",this).call(this),this.stinger.active=!0,this.ci.active=!1,this.collider.once(f.BEGIN_CONTACT,this.onBeginContact)}},{key:"kill",value:function(){c(s(u.prototype),"kill",this).call(this),this.stinger.active=!1,this.ci.active=!1}},{key:"forwardToDoge",value:function(e){var t=y.randomRange(20,30),i=this.getVectorDataFromAToB(this.node.getWorldPosition(),e.getWorldPosition());i.vector.rotate(y.randomRange(-.3,.3)).multiplyScalar(t),this.rigidBody.linearVelocity=i.vector,this.node.angle=y.toDegree(this.angle(i.dx,i.dy))}}]),u}(m)).prototype,"stinger",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(b.prototype,"ci",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=b))||D));u._RF.pop()}}}));

System.register("chunks:///_virtual/BubbleAnimation.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var i,n,t,a,o,r,l,u,c,p,s,m,b;return{setters:[function(e){i=e.applyDecoratedDescriptor,n=e.inherits,t=e.createSuper,a=e.classCallCheck,o=e.initializerDefineProperty,r=e.assertThisInitialized,l=e.createClass},function(e){u=e.cclegacy,c=e._decorator,p=e.Animation,s=e.CCString,m=e.CCInteger,b=e.Component}],execute:function(){var h,f,v,y,d,C,A,g,B,R;u._RF.push({},"60ac3vor0dMT5bXi8D3VSJN","BubbleAnimation",void 0);var w=c.ccclass,k=c.requireComponent,N=c.property;e("BubbleAnimation",(h=w("BubbleAnimation"),f=k([p]),v=N(p),y=N(s),d=N(m),h(C=f((g=i((A=function(e){n(u,e);var i=t(u);function u(){var e;a(this,u);for(var n=arguments.length,t=new Array(n),l=0;l<n;l++)t[l]=arguments[l];return e=i.call.apply(i,[this].concat(t)),o(e,"animation",g,r(e)),o(e,"clipName",B,r(e)),o(e,"repeat",R,r(e)),e.currentRepeat=-1,e}return l(u,[{key:"onLoad",value:function(){this.animation=this.getComponent(p),this.validateRequiredComponents()}},{key:"validateRequiredComponents",value:function(){if(!this.animation)throw new Error("BubbleAnimation: Animation component not found")}},{key:"play",value:function(){var e=this;this.animation&&(this.animation.clips.find((function(i){return(null==i?void 0:i.name)===e.clipName}))?(this.currentRepeat=-1,this.animation.play(this.clipName)):console.warn("BubbleAnimation: Animation component must have ".concat(this.clipName," clip")))}},{key:"onBubbleAnimationLoop",value:function(){this.animation&&-1!==this.repeat&&(this.currentRepeat++,this.currentRepeat>this.repeat&&this.animation.stop())}}]),u}(b)).prototype,"animation",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=i(A.prototype,"clipName",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Bubble"}}),R=i(A.prototype,"repeat",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),C=A))||C)||C));u._RF.pop()}}}));

System.register("chunks:///_virtual/ButtonReleased.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundKeys.ts","./CocosUtils.ts","./Sound.ts"],(function(n){var t,o,e,i,a,u,r,s,c,l,p,h,d,m,C,f,v,y,T,E,b,w,A;return{setters:[function(n){t=n.applyDecoratedDescriptor,o=n.inherits,e=n.createSuper,i=n.classCallCheck,a=n.initializerDefineProperty,u=n.assertThisInitialized,r=n.createClass},function(n){s=n.cclegacy,c=n._decorator,l=n.UITransform,p=n.Button,h=n.Animation,d=n.CCString,m=n.CCBoolean,C=n.EventTouch,f=n.Input,v=n.Node,y=n.find,T=n.Component},function(n){E=n.default,b=n.SoundKeysMapping},function(n){w=n.default},function(n){A=n.Sound}],execute:function(){var B,S,U,g,D,k,N,_,H,R,x,I,O;s._RF.push({},"4b299Dv1kVGcqQmJC9yBPAV","ButtonReleased",void 0);var z=c.ccclass,K=c.requireComponent,L=c.property,q=c.disallowMultiple,F=c.executionOrder;n("ButtonReleased",(B=z("ButtonReleased"),S=K([l,p,h]),U=F(111),g=L(d),D=L(d),k=L(m),N=L({visible:function(){return this.useSound},type:E}),B(_=q(_=S(_=U((R=t((H=function(n){o(s,n);var t=e(s);function s(){var n;i(this,s);for(var o=arguments.length,e=new Array(o),r=0;r<o;r++)e[r]=arguments[r];return n=t.call.apply(t,[this].concat(e)),a(n,"downClipName",R,u(n)),a(n,"upClipName",x,u(n)),a(n,"useSound",I,u(n)),a(n,"soundKey",O,u(n)),n.currentClickBoundingBox=null,n.hasDown=!1,n.hasUp=!1,n.onTouchStart=function(t){n.buttonComponent.interactable&&(n.hasDown||(n.currentClickBoundingBox=w.getBoundingBoxToWorld(n.node),n.hasDown=!0,n.runAnimation(n.downClipName),n.useSound&&n.playSound(b[n.soundKey])))},n.onTouchEnd=function(t){n.buttonComponent.interactable&&n.hasDown&&(n.hasUp||n.handleUp(t))},n.onTouchCancel=function(t){var o;n.buttonComponent.interactable&&n.hasDown&&(n.hasUp||(t instanceof C&&null!==(o=n.currentClickBoundingBox)&&void 0!==o&&o.contains(t.getUILocation())?n.handleUp(t):(n.hasUp=!0,n.runAnimation(n.upClipName),n.animationComponent.once(h.EventType.FINISHED,(function(){n.hasDown=!1,n.hasUp=!1})))))},n}return r(s,[{key:"onLoad",value:function(){this.buttonComponent=this.getComponent(p),this.animationComponent=this.getComponent(h),this.validateRequiredComponents()}},{key:"validateRequiredComponents",value:function(){if(!this.buttonComponent)throw new Error("ButtonAnimAddition: Button component not found");if(!this.animationComponent)throw new Error("ButtonAnimAddition: Animation component not found")}},{key:"onEnable",value:function(){this.animationComponent.clips.length<2?console.warn("ButtonAnimAddition: Animation component must have 2 clips in ".concat(this.node.name)):(this.node.off(f.EventType.TOUCH_END,this.buttonComponent._onTouchEnded,this.buttonComponent),this.node.on(v.EventType.TOUCH_START,this.onTouchStart),this.node.on(v.EventType.TOUCH_END,this.onTouchEnd),this.node.on(v.EventType.TOUCH_CANCEL,this.onTouchCancel))}},{key:"onDisable",value:function(){this.node.off(v.EventType.TOUCH_START,this.onTouchStart),this.node.off(v.EventType.TOUCH_END,this.onTouchEnd),this.node.off(v.EventType.TOUCH_CANCEL,this.onTouchCancel)}},{key:"handleUp",value:function(n){var t=this;this.hasUp=!0,this.runAnimation(this.upClipName),this.animationComponent.once(h.EventType.FINISHED,(function(){var o;t.hasDown=!1,t.hasUp=!1,null===(o=t.buttonComponent)||void 0===o||o.clickEvents.forEach((function(t){t.emit([n,t.customEventData])}))}))}},{key:"playSound",value:function(n){var t,o;null===(t=y("Sound"))||void 0===t||null===(o=t.getComponent(A))||void 0===o||o.play(n)}},{key:"runAnimation",value:function(n){if(!this.isAnimationExist(n))throw new Error("".concat(this.node.name,": Animation component must have ").concat(n," clip"));this.animationComponent.play(n)}},{key:"isAnimationExist",value:function(n){return this.animationComponent.clips.some((function(t){return!(!t||t.name!==n)}))}}]),s}(T)).prototype,"downClipName",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"ButtonDown"}}),x=t(H.prototype,"upClipName",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"ButtonUp"}}),I=t(H.prototype,"useSound",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),O=t(H.prototype,"soundKey",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return E["sounds/button-click"]}}),_=H))||_)||_)||_)||_));s._RF.pop()}}}));

System.register("chunks:///_virtual/Clock.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEvents2.ts"],(function(e){var i,t,n,a,o,l,s,r,c,u,h,m,k,p,f,g,v;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inherits,n=e.createSuper,a=e.classCallCheck,o=e.initializerDefineProperty,l=e.assertThisInitialized,s=e.createClass},function(e){r=e.cclegacy,c=e._decorator,u=e.Label,h=e.Node,m=e.Sprite,k=e.Animation,p=e.tween,f=e.Vec3,g=e.Component},function(e){v=e.default}],execute:function(){var y,b,S,d,w,T,C,I,z,M,F,x,A,D,L;r._RF.push({},"9e40aEq56tMKLFoeACyl+eH","Clock",void 0);var _=c.ccclass,E=c.disallowMultiple,R=c.property;e("Clock",(y=_("Clock"),b=R(u),S=R(h),d=R(m),w=R(h),T=R(h),C=R(k),y(I=E((M=i((z=function(e){t(r,e);var i=n(r);function r(){var e;a(this,r);for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return e=i.call.apply(i,[this].concat(n)),o(e,"timeText",M,l(e)),o(e,"clockContainer",F,l(e)),o(e,"clockFill",x,l(e)),o(e,"successIcon",A,l(e)),o(e,"failIcon",D,l(e)),o(e,"animation",L,l(e)),e.time=0,e.remaining=0,e.running=!1,e.timeShake=0,e.remainingToShake=0,e}return s(r,[{key:"start",value:function(){this.init(),this.setTime(6),this.setTimeToShake(1)}},{key:"init",value:function(){this.remaining=0,this.running=!1,this.node.active=!1}},{key:"setTime",value:function(e){this.time=e,this.timeText.string=Math.ceil(e).toString()}},{key:"setTimeToShake",value:function(e){this.timeShake=e,this.remainingToShake=0}},{key:"startCountdown",value:function(){this.running=!0,this.remaining=this.time,this.remainingToShake=this.timeShake,this.node.active=!0,this.failIcon.active=!1,this.successIcon.active=!1}},{key:"pause",value:function(){this.running=!1}},{key:"resume",value:function(){this.running=!0}},{key:"showUncompletedMark",value:function(){this.failIcon.active=!0,p(this.failIcon).set({scale:new f(0,0,1)}).to(.5,{scale:new f(1,1,1)},{easing:"smooth"}).start()}},{key:"showCompletedMark",value:function(){this.successIcon.active=!0,p(this.successIcon).set({scale:new f(0,0,1)}).to(.5,{scale:new f(1,1,1)},{easing:"smooth"}).start()}},{key:"endCountDown",value:function(){this.running=!1,this.node.scene.emit(v.TIME_OUT,{})}},{key:"update",value:function(e){if(this.running){if(this.remaining<=0)return this.endCountDown();this.remainingToShake<=0&&(this.playShakeAnimation(),this.remainingToShake=this.timeShake),this.remaining-=e,this.remainingToShake-=e,this.updateLabel(),this.clockFill.fillRange=this.remaining/this.time}}},{key:"updateLabel",value:function(){var e=Math.ceil(this.remaining).toString();this.timeText.string=e}},{key:"playShakeAnimation",value:function(){var e="Shake";this.animation.clips.some((function(i){return!(!i||i.name!==e)}))?this.animation.play(e):console.warn("SettingsScreen: clip not found")}}]),r}(g)).prototype,"timeText",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=i(z.prototype,"clockContainer",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=i(z.prototype,"clockFill",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=i(z.prototype,"successIcon",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=i(z.prototype,"failIcon",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=i(z.prototype,"animation",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=z))||I)||I));r._RF.pop()}}}));

System.register("chunks:///_virtual/CocosUtils.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,o,r,a,i;return{setters:[function(t){e=t.createClass,n=t.classCallCheck,o=t.createForOfIteratorHelper},function(t){r=t.cclegacy,a=t.UITransform,i=t.math}],execute:function(){r._RF.push({},"05faedSJ2NHFqLe9b3g4RIl","CocosUtils",void 0);t("default",function(){function t(){n(this,t)}return e(t,null,[{key:"getBoundingBoxToWorld",value:function(t){if(t.parent){var e=t.parent.getWorldMatrix();return this.getBoundingBoxTo(e,t)}var n=t.getComponent(a);if(!n)throw new Error("Node must have UITransform component");return n.getBoundingBox()}},{key:"getBoundingBoxTo",value:function(t,e){var n=i.mat4();i.Mat4.fromRTS(n,e.getRotation(),e.getPosition(),e.getScale());var r=e.getComponent(a);if(!r)throw new Error("Node must have UITransform component");var c=r.contentSize.width,u=r.contentSize.height,l=new i.Rect(-r.anchorPoint.x*c,-r.anchorPoint.y*u,c,u),s=i.mat4();if(i.Mat4.multiply(s,t,n),l.transformMat4(s),!e.children||0===e.children.length)return l;var f,g=e.children,h=o(g);try{for(h.s();!(f=h.n()).done;){var d=f.value;if(d&&d.active)if(d.getComponent(a)){var m=this.getBoundingBoxTo(e.getWorldMatrix(),d);m&&i.Rect.union(l,l,m)}}}catch(t){h.e(t)}finally{h.f()}return l}}]),t}());r._RF.pop()}}}));

System.register("chunks:///_virtual/CollisionDetectLine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseObject.ts"],(function(e){var t,i,n,o,c,r,s,a;return{setters:[function(e){t=e.inherits,i=e.createSuper,n=e.classCallCheck,o=e.createClass},function(e){c=e.cclegacy,r=e._decorator,s=e.Graphics},function(e){a=e.BaseObject}],execute:function(){var l;c._RF.push({},"33281kEO4dMXLCvmfkrwqQM","CollisionDetectLine",void 0);var u=r.ccclass;e("CollisionDetectLine",u("CollisionDetectLine")(l=function(e){t(r,e);var c=i(r);function r(){return n(this,r),c.apply(this,arguments)}return o(r,[{key:"onLoad",value:function(){this.graphic=this.getComponent(s),this.validateRequiredComponents()}},{key:"validateRequiredComponents",value:function(){if(!this.graphic)throw new Error("CollisionDetectLine: Graphics not found")}},{key:"drawFromTo",value:function(e,t){this.graphic.clear(),this.graphic.moveTo(e.x,e.y),this.graphic.lineTo(t.x,t.y),this.graphic.stroke()}}]),r}(a))||l);c._RF.pop()}}}));

System.register("chunks:///_virtual/CongratulationScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEvents2.ts","./BaseScreen.ts"],(function(e){var n,t,a,o,i,r,l,c,s,u,v,d,h,f,p,E;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inherits,a=e.createSuper,o=e.classCallCheck,i=e.initializerDefineProperty,r=e.assertThisInitialized,l=e.createClass},function(e){c=e.cclegacy,s=e._decorator,u=e.Node,v=e.UIOpacity,d=e.tween,h=e.Vec3,f=e.Component},function(e){p=e.default},function(e){E=e.BaseScreen}],execute:function(){var m,y,g,C,S,k,w,_;c._RF.push({},"cecf2nUBzhIWZw7uJgVliXz","CongratulationScreen",void 0);var b=s.ccclass,N=s.property,R=s.disallowMultiple,O=s.requireComponent,P=GameCore.Events,A=globalThis.game.event;e("CongratulationScreen",(m=b("CongratulationScreen"),y=O(E),g=N(u),C=N(u),m(S=R(S=y((w=n((k=function(e){t(c,e);var n=a(c);function c(){var e;o(this,c);for(var t=arguments.length,a=new Array(t),l=0;l<t;l++)a[l]=arguments[l];return e=n.call.apply(n,[this].concat(a)),i(e,"congratulation",w,r(e)),i(e,"confirmation",_,r(e)),e}return l(c,[{key:"__preload",value:function(){this.getBaseScreen(),this.listenScreenEvents()}},{key:"getBaseScreen",value:function(){var e=this.getComponent(E);e?this.screen=e:console.warn("CongratulationScreen: BaseScreen not found")}},{key:"onLoad",value:function(){this.enabled=!1,this.validateRequiredComponents()}},{key:"validateRequiredComponents",value:function(){if(!this.congratulation)throw new Error("CongratulationScreen: congratulation not found");if(!this.confirmation)throw new Error("CongratulationScreen: confirmation not found")}},{key:"listenScreenEvents",value:function(){var e=this;A.on(P.OPENING_SCREEN,(function(n){e.validateEventPayload(n)&&(e.enabled=!0)})),A.on(P.OPENED_SCREEN,(function(n){e.validateEventPayload(n)&&e.open()})),A.on(P.CLOSING_SCREEN,(function(n){e.validateEventPayload(n)&&e.unscheduleAllCallbacks()})),A.on(P.CLOSED_SCREEN,(function(n){e.validateEventPayload(n)&&(e.enabled=!1)}))}},{key:"validateEventPayload",value:function(e){return e.screenName===this.node.name}},{key:"open",value:function(){this.enabled&&(this.confirmation.active=!1,this.congratulation.active=!0)}},{key:"close",value:function(){A.emit(P.CLOSE_SCREEN,{screenName:this.node.name})}},{key:"handleStartOver",value:function(){this.confirmation.active=!0,this.congratulation.active=!1;var e=this.confirmation.getComponent(v);e?(d(e).set({opacity:0}).to(.2,{opacity:255},{easing:"smooth"}).start(),d(this.confirmation).set({scale:new h(0,0,0)}).to(.2,{scale:new h(1,1,1)},{easing:"smooth"}).start()):console.warn("CongratulationScreen: UIOpacity not found")}},{key:"handleYesStartOver",value:function(){this.close(),this.node.scene.emit(p.START_OVER)}},{key:"handleNoStartOver",value:function(){this.close(),this.node.scene.emit(p.GAME_REPLAY,{level:this.screen.data.level})}},{key:"handleClickedClose",value:function(){this.close(),this.node.scene.emit(p.GAME_REPLAY,{level:this.screen.data.level})}}]),c}(f)).prototype,"congratulation",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=n(k.prototype,"confirmation",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=k))||S)||S)||S));c._RF.pop()}}}));

System.register("chunks:///_virtual/DeathState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Sound.ts","./Vibrate.ts","./ScreenKeys.ts","./Doge.ts","./BaseState.ts","./FinishState.ts"],(function(e){var n,t,a,o,u,l,i,s,c,v,r,d;return{setters:[function(e){n=e.inherits,t=e.createSuper,a=e.classCallCheck,o=e.createClass},function(e){u=e.cclegacy,l=e.find},function(e){i=e.Sound},function(e){s=e.Vibrate},function(e){c=e.default},function(e){v=e.Doge},function(e){r=e.default},function(e){d=e.default}],execute:function(){u._RF.push({},"17461foCjdJ276bG2jcxA06","DeathState",void 0);var f=GameCore.Events,g=globalThis.game.event;e("default",function(e){n(r,e);var u=t(r);function r(e){var n,t,o;return a(this,r),(o=u.call(this,e)).disableUI(),o.sleepObjects(),o.stopAllSounds(),o.vibrateDevice(),o.pauseCountdown(),null===(n=o.game)||void 0===n||n.scheduleOnce((function(){o.stopDogesLooking(),o.showUncompletedMark(),o.playSound("sounds/level-fail",{volume:.3})}),.5),null===(t=o.game)||void 0===t||t.scheduleOnce((function(){o.manager.finish(),o.showLoseScreen()}),1.8),o}return o(r,[{key:"load",value:function(){}},{key:"ready",value:function(){}},{key:"draw",value:function(){}},{key:"attack",value:function(){}},{key:"escape",value:function(){}},{key:"death",value:function(){}},{key:"finish",value:function(){var e=new d(this.manager);this.manager.change(e)}},{key:"update",value:function(){}},{key:"disableUI",value:function(){var e;null===(e=this.game)||void 0===e||e.uiManager.disableUI()}},{key:"sleepObjects",value:function(){var e,n;null===(e=this.game)||void 0===e||null===(n=e.gameObjects)||void 0===n||n.sleepObjects()}},{key:"stopAllSounds",value:function(){var e,n;null===(e=l("Sound"))||void 0===e||null===(n=e.getComponent(i))||void 0===n||n.stopAll()}},{key:"pauseCountdown",value:function(){var e;null===(e=this.game)||void 0===e||e.uiManager.pauseCountdown()}},{key:"stopDogesLooking",value:function(){var e;null!==(e=this.game)&&void 0!==e&&e.gameObjects&&this.game.gameObjects.getComponentsInChildren(v).forEach((function(e){var n;null===(n=e.eyes)||void 0===n||n.stopLook(),e.setEnable(!1)}))}},{key:"vibrateDevice",value:function(){var e,n;null===(e=l("Vibrate"))||void 0===e||null===(n=e.getComponent(s))||void 0===n||n.vibrate(500)}},{key:"showUncompletedMark",value:function(){var e;null===(e=this.game)||void 0===e||e.uiManager.showUncompletedMark()}},{key:"showLoseScreen",value:function(){var e=this.data.level;g.emit(f.OPEN_SCREEN,{screenName:c.LOSE_SCREEN,screenData:{level:e}})}},{key:"playSound",value:function(e,n){var t,a;null===(t=l("Sound"))||void 0===t||null===(a=t.getComponent(i))||void 0===a||a.play(e,n)}}]),r}(r));u._RF.pop()}}}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,o,i,n,s,l,r,a,g,h,c,p,C,d,u,m,v,f,L,M;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inherits,i=e.createSuper,n=e.classCallCheck,s=e.initializerDefineProperty,l=e.assertThisInitialized,r=e.createClass},function(e){a=e.cclegacy,g=e._decorator,h=e.Node,c=e.Color,p=e.Canvas,C=e.UITransform,d=e.instantiate,u=e.Label,m=e.RichText,v=e.Toggle,f=e.Button,L=e.director,M=e.Component}],execute:function(){var b,T,S,x,y,E,I,A,D;a._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);var B=g.ccclass,k=g.property;e("DebugViewRuntimeControl",(b=B("internal.DebugViewRuntimeControl"),T=k(h),S=k(h),x=k(h),b((I=t((E=function(e){o(a,e);var t=i(a);function a(){var e;n(this,a);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return e=t.call.apply(t,[this].concat(i)),s(e,"compositeModeToggle",I,l(e)),s(e,"singleModeToggle",A,l(e)),s(e,"EnableAllCompositeModeButton",D,l(e)),e._single=0,e.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct Internal Specular","Env Internal Specular","Internal All","Fog"],e.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","Internal Specular","TT"],e.strMisc=["CSM Layer Coloration","Lighting With Albedo"],e.compositeModeToggleList=[],e.singleModeToggleList=[],e.miscModeToggleList=[],e.textComponentList=[],e.labelComponentList=[],e.textContentList=[],e._currentColorIndex=0,e.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],e.color=[c.WHITE,c.BLACK,c.RED,c.GREEN,c.BLUE],e}return r(a,[{key:"start",value:function(){if(this.node.parent.getComponent(p)){var e=this.node.parent.getComponent(C),t=.5*e.width,o=.5*e.height,i=.1*t-t,n=o-.1*o,s=this.node.getChildByName("MiscMode"),l=d(s);l.parent=this.node,l.name="Buttons";var r=d(s);r.parent=this.node,r.name="Titles";for(var a=0;a<2;a++){var g=d(this.EnableAllCompositeModeButton.getChildByName("Label"));g.setPosition(i+(a>0?450:150),n,0),g.setScale(.75,.75,.75),g.parent=r;var h=g.getComponent(u);h.string=a?"----------Composite Mode----------":"----------Single Mode----------",h.color=c.WHITE,h.overflow=0,this.labelComponentList[this.labelComponentList.length]=h}n-=20;for(var L=0,M=0;M<this.strSingle.length;M++,L++){M===this.strSingle.length>>1&&(i+=200,L=0);var b=M?d(this.singleModeToggle):this.singleModeToggle;b.setPosition(i,n-20*L,0),b.setScale(.5,.5,.5),b.parent=this.singleModeToggle.parent;var T=b.getComponentInChildren(m);T.string=this.strSingle[M],this.textComponentList[this.textComponentList.length]=T,this.textContentList[this.textContentList.length]=T.string,b.on(v.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[M]=b}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(f.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;var S=this.EnableAllCompositeModeButton.getComponentInChildren(u);this.labelComponentList[this.labelComponentList.length]=S;var x=d(this.EnableAllCompositeModeButton);x.setPosition(i+90,n,0),x.setScale(.5,.5,.5),x.on(f.EventType.CLICK,this.changeTextColor,this),x.parent=l,(S=x.getComponentInChildren(u)).string="TextColor",this.labelComponentList[this.labelComponentList.length]=S;var y=d(this.EnableAllCompositeModeButton);y.setPosition(i+200,n,0),y.setScale(.5,.5,.5),y.on(f.EventType.CLICK,this.hideUI,this),y.parent=this.node.parent,(S=y.getComponentInChildren(u)).string="Hide UI",this.labelComponentList[this.labelComponentList.length]=S,this.hideButtonLabel=S,n-=40;for(var E=0;E<this.strMisc.length;E++){var I=d(this.compositeModeToggle);I.setPosition(i,n-20*E,0),I.setScale(.5,.5,.5),I.parent=s;var A=I.getComponentInChildren(m);A.string=this.strMisc[E],this.textComponentList[this.textComponentList.length]=A,this.textContentList[this.textContentList.length]=A.string,I.getComponent(v).isChecked=!!E,I.on(v.EventType.TOGGLE,E?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[E]=I}n-=150;for(var D=0;D<this.strComposite.length;D++){var B=D?d(this.compositeModeToggle):this.compositeModeToggle;B.setPosition(i,n-20*D,0),B.setScale(.5,.5,.5),B.parent=this.compositeModeToggle.parent;var k=B.getComponentInChildren(m);k.string=this.strComposite[D],this.textComponentList[this.textComponentList.length]=k,this.textContentList[this.textContentList.length]=k.string,B.on(v.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[D]=B}}else console.error("debug-view-runtime-control should be child of Canvas")}},{key:"isTextMatched",value:function(e,t){var o=new String(e),i=o.search(">");return-1===i?e===t:(o=(o=o.substr(i+1)).substr(0,o.search("<")))===t}},{key:"toggleSingleMode",value:function(e){for(var t=L.root.debugView,o=e.getComponentInChildren(m),i=0;i<this.strSingle.length;i++)this.isTextMatched(o.string,this.strSingle[i])&&(t.singleMode=i)}},{key:"toggleCompositeMode",value:function(e){for(var t=L.root.debugView,o=e.getComponentInChildren(m),i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&t.enableCompositeMode(i,e.isChecked)}},{key:"toggleLightingWithAlbedo",value:function(e){L.root.debugView.lightingWithAlbedo=e.isChecked}},{key:"toggleCSMColoration",value:function(e){L.root.debugView.csmLayerColoration=e.isChecked}},{key:"enableAllCompositeMode",value:function(e){var t=L.root.debugView;t.enableAllCompositeMode(!0);for(var o=0;o<this.compositeModeToggleList.length;o++){this.compositeModeToggleList[o].getComponent(v).isChecked=!0}var i=this.miscModeToggleList[0].getComponent(v);i.isChecked=!1,t.csmLayerColoration=!1,(i=this.miscModeToggleList[1].getComponent(v)).isChecked=!0,t.lightingWithAlbedo=!0}},{key:"hideUI",value:function(e){var t=this.node.getChildByName("Titles"),o=!t.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,t.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"}},{key:"changeTextColor",value:function(e){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(var t=0;t<this.textComponentList.length;t++)this.textComponentList[t].string=this.strColor[this._currentColorIndex]+this.textContentList[t]+"</color>";for(var o=0;o<this.labelComponentList.length;o++)this.labelComponentList[o].color=this.color[this._currentColorIndex]}},{key:"onLoad",value:function(){}},{key:"update",value:function(e){}}]),a}(M)).prototype,"compositeModeToggle",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(E.prototype,"singleModeToggle",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(E.prototype,"EnableAllCompositeModeButton",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=E))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/DevToolsContainer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ObjectIds.ts"],(function(t){var n,e,i,o,a,l,r,u,s,h,c,B;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inherits,i=t.createSuper,o=t.classCallCheck,a=t.initializerDefineProperty,l=t.assertThisInitialized,r=t.createClass},function(t){u=t.cclegacy,s=t._decorator,h=t.Node,c=t.Component},function(t){B=t.default}],execute:function(){var p,b,d,v,T,y,g,k,O,S,f,w,C,j,A,m,R,I,D,E,_,H,P,M,z,U,F,G,x,N,L,q,W;u._RF.push({},"151afQBVDpOYpTjtwP+wYH+","DevToolsContainer",void 0);var K=s.ccclass,V=s.property;t("DevToolsContainer",(p=K("DevToolsContainer"),b=V(h),d=V(h),v=V(h),T=V(h),y=V(h),g=V(h),k=V(h),O=V(h),S=V(h),f=V(h),w=V(h),C=V(h),j=V(h),A=V(h),m=V(h),p((D=n((I=function(t){e(u,t);var n=i(u);function u(){var t;o(this,u);for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return t=n.call.apply(n,[this].concat(i)),a(t,"devToolsButton",D,l(t)),a(t,"beehiveButton",E,l(t)),a(t,"dogeButton",_,l(t)),a(t,"thornBallButton",H,l(t)),a(t,"bigBeeButton",P,l(t)),a(t,"thornButton",M,l(t)),a(t,"airFanButton",z,l(t)),a(t,"brickButton",U,l(t)),a(t,"grassButton",F,l(t)),a(t,"grassDarkButton",G,l(t)),a(t,"lineButton",x,l(t)),a(t,"poisonButton",N,l(t)),a(t,"poisonSurfaceButton",L,l(t)),a(t,"waterButton",q,l(t)),a(t,"dangerAreaButton",W,l(t)),t.isActive=!0,t.gameObjectManager=null,t.currentSpawnObjId=-1,t}return r(u,[{key:"start",value:function(){this.devToolsButton.on(h.EventType.TOUCH_START,this.handleClickDevToolsButton,this),this.beehiveButton.on(h.EventType.TOUCH_START,this.handleClickBeehiveButton,this),this.dogeButton.on(h.EventType.TOUCH_START,this.handleClickDogeButton,this),this.thornBallButton.on(h.EventType.TOUCH_START,this.handleClickThornBallButton,this),this.bigBeeButton.on(h.EventType.TOUCH_START,this.handleClickBigBeeButton,this),this.thornButton.on(h.EventType.TOUCH_START,this.handleClickThornButton,this),this.airFanButton.on(h.EventType.TOUCH_START,this.handleClickAirFanButton,this),this.brickButton.on(h.EventType.TOUCH_START,this.handleClickBrickButton,this),this.grassButton.on(h.EventType.TOUCH_START,this.handleClickGrassButton,this),this.grassDarkButton.on(h.EventType.TOUCH_START,this.handleClickGrassDarkButton,this),this.lineButton.on(h.EventType.TOUCH_START,this.handleClickLineButton,this),this.poisonButton.on(h.EventType.TOUCH_START,this.handleClickPoisonButton,this),this.poisonSurfaceButton.on(h.EventType.TOUCH_START,this.handleClickPoisonSurfaceButton,this),this.waterButton.on(h.EventType.TOUCH_START,this.handleClickWaterButton,this),this.dangerAreaButton.on(h.EventType.TOUCH_START,this.handleClickDangerAreaButton,this)}},{key:"assignGameObjects",value:function(t){this.gameObjectManager=t}},{key:"hideAllButtons",value:function(){this.beehiveButton.active=!1,this.dogeButton.active=!1,this.thornBallButton.active=!1,this.bigBeeButton.active=!1,this.thornButton.active=!1,this.airFanButton.active=!1,this.brickButton.active=!1,this.grassButton.active=!1,this.grassDarkButton.active=!1,this.lineButton.active=!1,this.poisonButton.active=!1,this.poisonSurfaceButton.active=!1,this.waterButton.active=!1,this.dangerAreaButton.active=!1}},{key:"showAllButtons",value:function(){this.beehiveButton.active=!0,this.dogeButton.active=!0,this.thornBallButton.active=!0,this.bigBeeButton.active=!0,this.thornButton.active=!0,this.airFanButton.active=!0,this.brickButton.active=!0,this.grassButton.active=!0,this.grassDarkButton.active=!0,this.lineButton.active=!0,this.poisonButton.active=!0,this.poisonSurfaceButton.active=!0,this.waterButton.active=!0,this.dangerAreaButton.active=!0}},{key:"handleClickDevToolsButton",value:function(){this.isActive?(this.hideAllButtons(),this.isActive=!1):(this.showAllButtons(),this.isActive=!0)}},{key:"handleSpawnObject",value:function(){var t;if(this.validateRequiredComponents(),-1!==this.currentSpawnObjId){var n={x:Math.floor(40*Math.random()),y:Math.floor(40*Math.random())},e={id:this.currentSpawnObjId,point:n};null===(t=this.gameObjectManager)||void 0===t||t.spawnObjectForDevTools(e)}}},{key:"handleSpawnPolygonObject",value:function(){var t;if(this.validateRequiredComponents(),-1!==this.currentSpawnObjId){var n={x:Math.floor(40*Math.random()),y:Math.floor(40*Math.random())},e={x:n.x+Math.floor(10*Math.random()),y:n.y},i={x:n.x,y:n.y+Math.floor(10*Math.random())},o=[n,e,i,{x:e.x,y:i.y}],a={id:this.currentSpawnObjId,point:o};null===(t=this.gameObjectManager)||void 0===t||t.spawnPolygonObjectForDevTools(a)}}},{key:"validateRequiredComponents",value:function(){if(!this.gameObjectManager)throw new Error("DevTools: GameObjects is not assigned")}},{key:"handleClickBeehiveButton",value:function(){this.currentSpawnObjId=B.BEEHIVE_A,this.handleSpawnObject()}},{key:"handleClickDogeButton",value:function(){this.currentSpawnObjId=B.DOGE_A,this.handleSpawnObject()}},{key:"handleClickThornBallButton",value:function(){this.currentSpawnObjId=B.THORN_BALL,this.handleSpawnObject()}},{key:"handleClickBigBeeButton",value:function(){this.currentSpawnObjId=B.BIG_BEE,this.handleSpawnObject()}},{key:"handleClickThornButton",value:function(){this.currentSpawnObjId=B.THORN,this.handleSpawnObject()}},{key:"handleClickAirFanButton",value:function(){this.currentSpawnObjId=B.AIR_FAN,this.handleSpawnObject()}},{key:"handleClickBrickButton",value:function(){this.currentSpawnObjId=B.BRICK,this.handleSpawnPolygonObject()}},{key:"handleClickGrassButton",value:function(){this.currentSpawnObjId=B.GRASS,this.handleSpawnPolygonObject()}},{key:"handleClickGrassDarkButton",value:function(){this.currentSpawnObjId=B.GRASS_DARK,this.handleSpawnPolygonObject()}},{key:"handleClickLineButton",value:function(){this.currentSpawnObjId=B.LINE,this.handleSpawnPolygonObject()}},{key:"handleClickPoisonButton",value:function(){this.currentSpawnObjId=B.POISON,this.handleSpawnPolygonObject()}},{key:"handleClickPoisonSurfaceButton",value:function(){this.currentSpawnObjId=B.POISON_SURFACE,this.handleSpawnPolygonObject()}},{key:"handleClickWaterButton",value:function(){this.currentSpawnObjId=B.WATER,this.handleSpawnPolygonObject()}},{key:"handleClickDangerAreaButton",value:function(){this.currentSpawnObjId=B.DANGER_AREA,this.handleSpawnPolygonObject()}}]),u}(c)).prototype,"devToolsButton",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=n(I.prototype,"beehiveButton",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=n(I.prototype,"dogeButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=n(I.prototype,"thornBallButton",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=n(I.prototype,"bigBeeButton",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=n(I.prototype,"thornButton",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=n(I.prototype,"airFanButton",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=n(I.prototype,"brickButton",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=n(I.prototype,"grassButton",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=n(I.prototype,"grassDarkButton",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=n(I.prototype,"lineButton",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=n(I.prototype,"poisonButton",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=n(I.prototype,"poisonSurfaceButton",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=n(I.prototype,"waterButton",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=n(I.prototype,"dangerAreaButton",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=I))||R));u._RF.pop()}}}));

System.register("chunks:///_virtual/Doge.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Sound.ts","./BaseObject.ts","./DogeState.ts","./GameEvents2.ts","./GameObject.ts","./ResourcePaths.ts","./SpineAnimationName.ts","./World.ts","./Bee.ts","./Eyes.ts"],(function(e){var t,i,n,s,o,a,r,u,d,l,h,c,E,f,y,v,S,p,O,D,g,m,N,T,I,B,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inherits,n=e.createSuper,s=e.classCallCheck,o=e.initializerDefineProperty,a=e.assertThisInitialized,r=e.createClass},function(e){u=e.cclegacy,d=e._decorator,l=e.Collider2D,h=e.find,c=e.UITransform,E=e.Contact2DType,f=e.Vec3,y=e.Node,v=e.sp,S=e.resources},function(e){p=e.Sound},function(e){O=e.BaseObject},function(e){D=e.default},function(e){g=e.default},function(e){m=e.ObjectNames},function(e){N=e.default},function(e){T=e.default},function(e){I=e.DISTANCE_NEAR_DOGE},function(e){B=e.Bee},function(e){C=e.Eyes}],execute:function(){var _,k,A,P,R;u._RF.push({},"14172TbYDBAeISJqcpvLYV7","Doge",void 0);var G=d.ccclass,b=d.property,w=[D.OVER_VIEW,D.BEE_STING,D.THORN_STAB,D.POISONED,D.OUT_OF_SCREEN];e("Doge",(_=G("Doge"),k=b(C),_((R=t((P=function(e){i(u,e);var t=n(u);function u(){var e;s(this,u);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return e=t.call.apply(t,[this].concat(n)),o(e,"eyes",R,a(e)),e.state=D.IDLE,e.dustParticle=null,e.gameHeight=0,e.onBeginContact=function(t,i){i.node.name!=m.BEE&&i.node.name!=m.BIG_BEE&&i.node.name!=m.BIG_BEE_BULLET||e.beeSting(),i.node.name!=m.THORN&&i.node.name!=m.THORN_BALL?i.node.name!=m.POISON?i.node.name==m.WATER&&e.drowning():e.poisoned():e.stabbedByThorn()},e}return r(u,[{key:"onLoad",value:function(){this.collider=this.getComponent(l),this.validateRequiredComponents()}},{key:"validateRequiredComponents",value:function(){if(!this.eyes)throw new Error("Doge: Eyes not found");if(!this.collider)throw new Error("Doge: Collider2D not found")}},{key:"start",value:function(){var e;this.initDustParticle(),this.idle();var t=null===(e=h("Canvas"))||void 0===e?void 0:e.getComponent(c);t&&(this.gameHeight=t.height),this.collider.on(E.BEGIN_CONTACT,this.onBeginContact)}},{key:"idle",value:function(){!1!==this.setState(D.IDLE)&&(this.hideEyes(),this.setSpineAnimation(T.DOGE.IDLE,!0))}},{key:"smile",value:function(){!1!==this.setState(D.SMILE)&&(this.hideEyes(),this.setSpineAnimation(T.DOGE.SMILE,!0))}},{key:"beeSting",value:function(){var e=this;!1!==this.setState(D.BEE_STING)&&(this.hideEyes(),this.setSpineAnimation(T.DOGE.HURT,!1),this.scheduleOnce((function(){e.state===D.BEE_STING&&e.setSpineAnimation(T.DOGE.INACTIVE,!1)}),.5),this.playSound("sounds/doge-hurt"))}},{key:"stabbedByThorn",value:function(){!1!==this.setState(D.THORN_STAB)&&(this.hideEyes(),this.createDust(),this.setSpineAnimation(T.DOGE.THORN_INACTIVE,!1),this.playSound("sounds/doge-dies"))}},{key:"poisoned",value:function(){!1!==this.setState(D.POISONED)&&(this.hide(),this.hideEyes(),this.createDust(),this.playSound("sounds/doge-dies"))}},{key:"drowning",value:function(){!1!==this.setState(D.DROWNING)&&(this.hideEyes(),this.setSpineAnimation(T.DOGE.DROWNING,!1),this.playSound("sounds/doge-dies"))}},{key:"isCantBeTargeted",value:function(){return-1!=[D.THORN_STAB,D.OUT_OF_SCREEN,D.POISONED,D.DROWNING].indexOf(this.state)}},{key:"scare",value:function(){var e;!1!==this.setState(D.SCARE)&&(this.showEyes(),null===(e=this.eyes)||void 0===e||e.look(),this.setSpineAnimation(T.DOGE.FREAK_OUT,!0))}},{key:"hideEyes",value:function(){this.eyes.hide()}},{key:"showEyes",value:function(){this.eyes.show()}},{key:"setState",value:function(e){return-1==w.indexOf(e)?-1==w.indexOf(this.state)&&(this.state=e,!0):w.indexOf(e)>w.indexOf(this.state)&&(this.state=e,this.node.scene.emit(g.DOGE_DIE),!0)}},{key:"update",value:function(){var e=this.node.worldPosition.y;(e>this.gameHeight||e<0)&&this.setState(D.OUT_OF_SCREEN),this.isBeeNearBy()&&this.scare()}},{key:"isBeeNearBy",value:function(){return this.state===D.IDLE&&!w.includes(this.state)&&!!this.getNearbyBee()}},{key:"getNearbyBee",value:function(){var e=this;if(!this.node.parent)return null;var t=this.node.parent.getComponentsInChildren(B).find((function(t){var i=f.distance(e.node.getWorldPosition(),t.node.getWorldPosition());if(t.enabled&&i<=I)return!0}));return t||null}},{key:"createDust",value:function(){var e=this;if(this.dustParticle){this.dustParticle.active=!0;var t=this.node.getWorldPosition(),i=t.x,n=t.y;this.dustParticle.setWorldPosition(new f(i,n)),this.scheduleOnce((function(){e.dustParticle&&(e.dustParticle.active=!1)}),.5)}}},{key:"initDustParticle",value:function(){if(this.node.parent){var e=new y(m.DUST_PARTICLE);e.layer=Math.pow(2,25),e.active=!1;var t=e.addComponent(v.Skeleton);S.load(N.DUST_PARTICLE_SPINE,v.SkeletonData,(function(e,i){e?console.error("initDustParticle",e):(t.skeletonData=i,t.setAnimation(0,"animation",!1))})),this.node.parent.addChild(e),this.dustParticle=e}}},{key:"playSound",value:function(e){var t,i;null===(t=h("Sound"))||void 0===t||null===(i=t.getComponent(p))||void 0===i||i.play(e)}}]),u}(O)).prototype,"eyes",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=P))||A));u._RF.pop()}}}));

System.register("chunks:///_virtual/DogeState.ts",["cc"],(function(E){var t;return{setters:[function(E){t=E.cclegacy}],execute:function(){t._RF.push({},"169a1O0ruFLoI6OnJUZap7V","DogeState",void 0);var e=E("default",function(E){return E[E.IDLE=0]="IDLE",E[E.SMILE=1]="SMILE",E[E.SCARE=2]="SCARE",E[E.BEE_STING=3]="BEE_STING",E[E.THORN_STAB=4]="THORN_STAB",E[E.OUT_OF_SCREEN=5]="OUT_OF_SCREEN",E[E.POISONED=6]="POISONED",E[E.DROWNING=7]="DROWNING",E[E.OVER_VIEW=8]="OVER_VIEW",E}(e||{}));t._RF.pop()}}}));

System.register("chunks:///_virtual/DrawingState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Sound.ts","./GameEvents2.ts","./AttackingState.ts","./BaseState.ts","./ReadyState.ts"],(function(e){var t,a,n,i,r,s,u,o,l,c,d;return{setters:[function(e){t=e.inherits,a=e.createSuper,n=e.classCallCheck,i=e.createClass},function(e){r=e.cclegacy,s=e.find},function(e){u=e.Sound},function(e){o=e.default},function(e){l=e.default},function(e){c=e.default},function(e){d=e.default}],execute:function(){r._RF.push({},"71778iMCmVDQKkpW1Ag0dZz","DrawingState",void 0);e("default",function(e){t(c,e);var r=a(c);function c(e){var t;return n(this,c),(t=r.call(this,e)).dist=0,t.initDrawer(),t}return i(c,[{key:"load",value:function(){}},{key:"ready",value:function(){var e=new d(this.manager);this.manager.change(e)}},{key:"draw",value:function(){}},{key:"attack",value:function(){var e=new l(this.manager);this.manager.change(e)}},{key:"escape",value:function(){}},{key:"death",value:function(){}},{key:"finish",value:function(){}},{key:"update",value:function(){var e;this.isInkEmpty()?null===(e=this.game)||void 0===e||e.node.scene.emit(o.BEE_ATTACK,{}):(this.updateStateData(),this.drawLines(),this.updateInkLevel(),this.updateProgressBar())}},{key:"initDrawer",value:function(){var e;if(null!==(e=this.game)&&void 0!==e&&e.lineDrawer){var t=this.data.pointer;this.game.lineDrawer.beginDraw(t.getUILocation()),this.playSound("sounds/button-click")}}},{key:"isInkEmpty",value:function(){return!!this.game&&this.game.inkCapacityController.isInkEmpty()}},{key:"drawLines",value:function(){var e;if(null!==(e=this.game)&&void 0!==e&&e.lineDrawer){var t=this.data.pointer.getUILocation();if(this.dist=this.game.lineDrawer.draw(t)||0,this.dist>0){var a=["sounds/writing-1","sounds/writing-2","sounds/writing-3","sounds/writing-4"],n=a[Math.floor(Math.random()*a.length)];this.playSound(n,{checkList:a})}}}},{key:"updateInkLevel",value:function(){var e;null===(e=this.game)||void 0===e||e.inkCapacityController.removeInkLevel(this.dist)}},{key:"updateProgressBar",value:function(){if(this.game){var e=this.game.inkCapacityController.getStarRating();this.game.uiManager.setProgressStars(e);var t=this.game.inkCapacityController.getInkLevelPercentage();this.game.uiManager.setProgressBarPercentage(t)}}},{key:"playSound",value:function(e,t){var a,n;null===(a=s("Sound"))||void 0===a||null===(n=a.getComponent(u))||void 0===n||n.play(e,t)}}]),c}(c));r._RF.pop()}}}));

System.register("chunks:///_virtual/EscapeState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Sound.ts","./Vibrate.ts","./ScreenKeys.ts","./Doge.ts","./BaseState.ts","./FinishState.ts"],(function(e){var a,n,t,l,o,i,u,s,r,v,c,d,g;return{setters:[function(e){a=e.inherits,n=e.createSuper,t=e.classCallCheck,l=e.createClass,o=e.objectSpread2},function(e){i=e.cclegacy,u=e.find},function(e){s=e.Sound},function(e){r=e.Vibrate},function(e){v=e.default},function(e){c=e.Doge},function(e){d=e.default},function(e){g=e.default}],execute:function(){i._RF.push({},"d600e+7dHhGOYCGrcOjxVcl","EscapeState",void 0);var f=GameCore.Events,p=globalThis.game,m=p.player,h=p.event;e("default",function(e){a(d,e);var i=n(d);function d(e){var a,n;return t(this,d),(n=i.call(this,e)).disableUI(),n.sleepObjects(),n.stopAllSounds(),n.vibrateDevice(),n.makeDogesSmile(),n.pauseCountdown(),n.showCompletedMark(),n.updatePlayerProgress(),null===(a=n.game)||void 0===a||a.scheduleOnce((function(){n.manager.finish(),n.showWiningScreen()}),.5),n.playSound("sounds/level-pass"),n.stopSound("sounds/bee-flying"),n}return l(d,[{key:"load",value:function(){}},{key:"ready",value:function(){}},{key:"draw",value:function(){}},{key:"attack",value:function(){}},{key:"escape",value:function(){}},{key:"death",value:function(){}},{key:"finish",value:function(){var e=new g(this.manager);this.manager.change(e)}},{key:"update",value:function(){}},{key:"disableUI",value:function(){var e;null===(e=this.game)||void 0===e||e.uiManager.disableUI()}},{key:"sleepObjects",value:function(){var e,a;null===(e=this.game)||void 0===e||null===(a=e.gameObjects)||void 0===a||a.sleepObjects()}},{key:"stopAllSounds",value:function(){var e,a;null===(e=u("Sound"))||void 0===e||null===(a=e.getComponent(s))||void 0===a||a.stopAll()}},{key:"makeDogesSmile",value:function(){var e;null!==(e=this.game)&&void 0!==e&&e.gameObjects&&this.game.gameObjects.getComponentsInChildren(c).forEach((function(e){e.smile(),e.setEnable(!1)}))}},{key:"vibrateDevice",value:function(){var e,a;null===(e=u("Vibrate"))||void 0===e||null===(a=e.getComponent(r))||void 0===a||a.vibrate(500)}},{key:"pauseCountdown",value:function(){var e;null===(e=this.game)||void 0===e||e.uiManager.pauseCountdown()}},{key:"showCompletedMark",value:function(){var e;null===(e=this.game)||void 0===e||e.uiManager.showCompletedMark()}},{key:"updatePlayerProgress",value:function(){if(this.game){var e=this.data.level;if(e){var a=this.game.inkCapacityController.getStarRating(),n=m.getGameData();if(n){var t=n.levelProgress[e]||0,l=n.totalLevel,i=o({},n);e>=l?i.passAllLevels=!0:e<n.level&&(i.level=e+1);var u=Math.max(t,a);i.levelProgress[e]=u,m.setGameData(i)}}}}},{key:"showWiningScreen",value:function(){if(this.game){var e=this.data.level,a=this.game.inkCapacityController.getStarRating();h.emit(f.OPEN_SCREEN,{screenName:v.WINNING_SCREEN,screenData:{level:e,stars:a}})}}},{key:"playSound",value:function(e){var a,n;null===(a=u("Sound"))||void 0===a||null===(n=a.getComponent(s))||void 0===n||n.play(e)}},{key:"stopSound",value:function(e){var a,n;null===(a=u("Sound"))||void 0===a||null===(n=a.getComponent(s))||void 0===n||n.stop(e)}}]),d}(d));i._RF.pop()}}}));

System.register("chunks:///_virtual/Eye.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var e,t,n,o,a,s,l,c,r;return{setters:[function(i){e=i.inherits,t=i.createSuper,n=i.classCallCheck,o=i.createClass},function(i){a=i.cclegacy,s=i._decorator,l=i.tween,c=i.Vec3,r=i.Component}],execute:function(){var u;a._RF.push({},"852f9XjNUVJ3Zt1Kd/EbqXU","Eye",void 0);var h=s.ccclass;i("Eye",h("Eye")(u=function(i){e(s,i);var a=t(s);function s(){var i;n(this,s);for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return(i=a.call.apply(a,[this].concat(t))).scaleTween=null,i.initialPosition=null,i}return o(s,[{key:"createScaleAnimation",value:function(){var i=l(this.node).to(.3,{scale:new c(1.1,1.1,1)},{easing:"smooth"});this.scaleTween=l(this.node).reverseTime(i).repeatForever()}},{key:"saveInitialPosition",value:function(){this.initialPosition||(this.initialPosition=this.node.position.clone())}},{key:"show",value:function(){this.node.active=!0,this.playAnimation()}},{key:"hide",value:function(){this.stopAnimation(),this.node.active=!1}},{key:"toward",value:function(i){this.initialPosition&&(this.node.setPosition(this.initialPosition),this.node.position.add(i))}},{key:"playAnimation",value:function(){var i;this.scaleTween||this.createScaleAnimation(),null===(i=this.scaleTween)||void 0===i||i.start()}},{key:"stopAnimation",value:function(){var i;null===(i=this.scaleTween)||void 0===i||i.stop()}}]),s}(r))||u);a._RF.pop()}}}));

System.register("chunks:///_virtual/Eyes.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Doge.ts","./Eye.ts"],(function(e){var i,t,n,r,o,s,a,l,h,u,y,c,f;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inherits,n=e.createSuper,r=e.classCallCheck,o=e.initializerDefineProperty,s=e.assertThisInitialized,a=e.createClass},function(e){l=e.cclegacy,h=e._decorator,u=e.Vec3,y=e.Component},function(e){c=e.Doge},function(e){f=e.Eye}],execute:function(){var g,v,E,p,d,m,w;l._RF.push({},"df218vrmOtEH5vRQXxIZ3yS","Eyes",void 0);var k=h.ccclass,C=h.property;e("Eyes",(g=k("Eyes"),v=C(f),E=C(f),g((m=i((d=function(e){t(l,e);var i=n(l);function l(){var e;r(this,l);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=i.call.apply(i,[this].concat(n)),o(e,"leftEye",m,s(e)),o(e,"rightEye",w,s(e)),e.time=0,e.remaining=0,e.running=!1,e}return a(l,[{key:"onLoad",value:function(){this.validateRequiredComponents()}},{key:"validateRequiredComponents",value:function(){if(!this.leftEye)throw new Error("Eyes: leftEye not found");if(!this.rightEye)throw new Error("Eyes: rightEye not found")}},{key:"start",value:function(){this.remaining=0,this.running=!1,this.setTimeChangeDirection(.8),this.leftEye.saveInitialPosition(),this.rightEye.saveInitialPosition()}},{key:"setTimeChangeDirection",value:function(e){this.time=e}},{key:"show",value:function(){this.running=!0,this.remaining=this.time,this.leftEye.show(),this.rightEye.show()}},{key:"hide",value:function(){this.running=!1,this.leftEye.hide(),this.rightEye.hide()}},{key:"stopLook",value:function(){this.running=!1}},{key:"look",value:function(){if(this.node.parent){var e=this.node.parent.getComponent(c);if(e){var i=e.getNearbyBee();if(i){var t=this.leftEye.initialPosition;if(t){var n=t.x,r=t.y,o=new u;this.leftEye.node.inverseTransformPoint(o,i.node.worldPosition);var s=new u(o.x-n,o.y-r,0).normalize().multiplyScalar(5);this.leftEye.toward(s),this.rightEye.toward(s)}}}}}},{key:"update",value:function(e){this.running&&(this.remaining<=0&&(this.look(),this.remaining=this.time),this.remaining-=e)}}]),l}(y)).prototype,"leftEye",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=i(d.prototype,"rightEye",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=d))||p));l._RF.pop()}}}));

System.register("chunks:///_virtual/FinishState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Music.ts","./BaseState.ts","./LoadingState.ts","./ReadyState.ts"],(function(t){var e,a,n,i,c,u,r,s,o,l,f,h;return{setters:[function(t){e=t.inherits,a=t.createSuper,n=t.classCallCheck,i=t.createClass,c=t.asyncToGenerator,u=t.regeneratorRuntime},function(t){r=t.cclegacy,s=t.find},function(t){o=t.Music},function(t){l=t.default},function(t){f=t.default},function(t){h=t.default}],execute:function(){r._RF.push({},"a9bc11SkV9L/5L+Y+fhswfJ","FinishState",void 0);var v=GameCore.Utils.Facebook,d=globalThis.game,y=d.match,g=d.analytics;t("default",function(t){e(d,t);var r,l=a(d);function d(t){var e;return n(this,d),(e=l.call(this,t)).turnUpBackgroundMusic(),e.finishMatchAsync(),e.logAnalytics(),e.attemptCallCreateShortcut(),e}return i(d,[{key:"load",value:function(){var t=new f(this.manager);this.manager.change(t)}},{key:"ready",value:function(){var t=new h(this.manager);this.manager.change(t)}},{key:"draw",value:function(){}},{key:"attack",value:function(){}},{key:"escape",value:function(){}},{key:"death",value:function(){}},{key:"finish",value:function(){}},{key:"update",value:function(){}},{key:"turnUpBackgroundMusic",value:function(){var t,e;null===(t=s("Music"))||void 0===t||null===(e=t.getComponent(o))||void 0===e||e.setVolume(.8)}},{key:"finishMatchAsync",value:(r=c(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.single.finish.processAsync();case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.warn("FinishState",t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])}))),function(){return r.apply(this,arguments)})},{key:"logAnalytics",value:function(){if(this.game){var t=this.game.inkCapacityController;if(t){var e=this.data.level,a=void 0===e?0:e,n=t.getStarRating();g.levelFail(a,n)}}}},{key:"attemptCallCreateShortcut",value:function(){var t=this.data.level;(void 0===t?0:t)>=3&&v.createShortcut().catch((function(t){console.warn("attemptToAddShortcut",t)}))}}]),d}(l));r._RF.pop()}}}));

System.register("chunks:///_virtual/FlowChallenge.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ScreenKeys.ts"],(function(e){var n,r,t,a,s,c,i,o,l,h,u;return{setters:[function(e){n=e.inherits,r=e.createSuper,t=e.classCallCheck,a=e.createClass,s=e.asyncToGenerator,c=e.regeneratorRuntime,i=e.objectSpread2},function(e){o=e.cclegacy,l=e._decorator,h=e.Component},function(e){u=e.default}],execute:function(){var p;o._RF.push({},"9e6b330nHBK2oNz8N9/lpDx","FlowChallenge",void 0);var f=l.ccclass,v=globalThis.game,g=v.match,d=v.player,y=v.event;e("FlowChallenge",f("FlowChallenge")(p=function(e){n(w,e);var o,l,h,p,f,v=r(w);function w(){var e;t(this,w);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=v.call.apply(v,[this].concat(r))).playerId="",e}return a(w,[{key:"onLoad",value:function(){this.playerId=d.getPlayerId()}},{key:"showLoadingScreen",value:function(e){y.emit(GameCore.Events.OPEN_SCREEN,{screenName:u.LOADING_SCREEN,screenData:{duration:e}})}},{key:"closeLoadingScreen",value:function(){y.emit(GameCore.Events.CLOSE_SCREEN,{screenName:u.LOADING_SCREEN})}},{key:"showNotificationScreen",value:function(e){y.emit(GameCore.Events.OPEN_SCREEN,{screenName:u.NOTIFICATION_SCREEN,screenData:{message:e}})}},{key:"inviteFriends",value:(f=s(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.showLoadingScreen(0),e.next=4,g.challenge.invite.processAsync({playerId:this.playerId});case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.warn("inviteFriends",e.t0),e.t0 instanceof Error&&this.showNotificationScreen(e.t0.message);case 10:return e.prev=10,this.closeLoadingScreen(),e.finish(10);case 13:case"end":return e.stop()}}),e,this,[[0,6,10,13]])}))),function(){return f.apply(this,arguments)})},{key:"challengeFriend",value:(p=s(c().mark((function e(n,r){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.parse(r),e.prev=1,this.showLoadingScreen(0),e.next=5,g.challenge.friend.processAsync(i(i({},t),{},{playerId:this.playerId}));case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.warn("challengeFriend",e.t0),e.t0 instanceof Error&&this.showNotificationScreen(e.t0.message);case 11:return e.prev=11,this.closeLoadingScreen(),e.finish(11);case 14:case"end":return e.stop()}}),e,this,[[1,7,11,14]])}))),function(e,n){return p.apply(this,arguments)})},{key:"joinChallenge",value:(h=s(c().mark((function e(n,r){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.parse(r),e.prev=1,this.showLoadingScreen(0),e.next=5,g.challenge.join.processAsync(i(i({},t),{},{playerId:this.playerId}));case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.warn("joinChallenge",e.t0),e.t0 instanceof Error&&this.showNotificationScreen(e.t0.message);case 11:return e.prev=11,this.closeLoadingScreen(),e.finish(11);case 14:case"end":return e.stop()}}),e,this,[[1,7,11,14]])}))),function(e,n){return h.apply(this,arguments)})},{key:"continueChallenge",value:(l=s(c().mark((function e(n,r){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.parse(r),e.prev=1,this.showLoadingScreen(0),e.next=5,g.challenge.continue.processAsync(i(i({},t),{},{playerId:this.playerId}));case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.warn("continueChallenge",e.t0),e.t0 instanceof Error&&this.showNotificationScreen(e.t0.message);case 11:return e.prev=11,this.closeLoadingScreen(),e.finish(11);case 14:case"end":return e.stop()}}),e,this,[[1,7,11,14]])}))),function(e,n){return l.apply(this,arguments)})},{key:"finishChallenge",value:(o=s(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.showLoadingScreen(0),d.setPlayerDataByName("score",Math.floor(2*Math.random())),e.next=5,g.challenge.finish.processAsync({});case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.warn("finishChallenge",e.t0),e.t0 instanceof Error&&this.showNotificationScreen(e.t0.message);case 11:return e.prev=11,this.closeLoadingScreen(),e.finish(11);case 14:case"end":return e.stop()}}),e,this,[[0,7,11,14]])}))),function(){return o.apply(this,arguments)})}]),w}(h))||p);o._RF.pop()}}}));

System.register("chunks:///_virtual/FlowContext.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ScreenKeys.ts"],(function(e){var t,n,r,o,a,c,s,i,u,l,h;return{setters:[function(e){t=e.inherits,n=e.createSuper,r=e.classCallCheck,o=e.createClass,a=e.asyncToGenerator,c=e.regeneratorRuntime,s=e.objectSpread2},function(e){i=e.cclegacy,u=e._decorator,l=e.Component},function(e){h=e.default}],execute:function(){var p;i._RF.push({},"f3decJ3ZlRLt6CDMHpl1XCe","FlowContext",void 0);var y=u.ccclass,C=globalThis.game,d=C.match,x=C.player,f=C.context,v=C.event;e("FlowContext",y("FlowContext")(p=function(e){t(p,e);var i,u,l=n(p);function p(){var e;r(this,p);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return(e=l.call.apply(l,[this].concat(n))).playerId="",e.changeContext=function(){var e=a(c().mark((function e(t,n,r){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f.receiveContext(t,n,r),e.next=3,f.detectContextSessionType();case 3:game.context.detectContextGameMode();case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),e}return o(p,[{key:"onLoad",value:function(){this.playerId=x.getPlayerId()}},{key:"showLoadingScreen",value:function(e){v.emit(GameCore.Events.OPEN_SCREEN,{screenName:h.LOADING_SCREEN,screenData:{duration:e}})}},{key:"closeLoadingScreen",value:function(){v.emit(GameCore.Events.CLOSE_SCREEN,{screenName:h.LOADING_SCREEN})}},{key:"showNotificationScreen",value:function(e){v.emit(GameCore.Events.OPEN_SCREEN,{screenName:h.NOTIFICATION_SCREEN,screenData:{message:e}})}},{key:"chooseFriends",value:(u=a(c().mark((function e(t,n){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=JSON.parse(n),e.prev=1,this.showLoadingScreen(0),e.next=5,d.context.choose.processAsync(s(s({},r),{},{playerId:this.playerId}));case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.warn("chooseFriends",e.t0),e.t0 instanceof Error&&this.showNotificationScreen(e.t0.message);case 11:return e.prev=11,this.closeLoadingScreen(),e.finish(11);case 14:case"end":return e.stop()}}),e,this,[[1,7,11,14]])}))),function(e,t){return u.apply(this,arguments)})},{key:"processContextData",value:(i=a(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.showLoadingScreen(0),e.next=4,f.processContextData();case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.warn("processContext",e.t0),e.t0 instanceof Error&&this.showNotificationScreen(e.t0.message);case 10:return e.prev=10,this.closeLoadingScreen(),e.finish(10);case 13:case"end":return e.stop()}}),e,this,[[0,6,10,13]])}))),function(){return i.apply(this,arguments)})},{key:"setSingleContext",value:function(){this.changeContext("","SOLO",{})}},{key:"setTournamentContext",value:function(){this.changeUrl("/?context_source_id=123&context_type=GENERIC&tournament=true"),this.changeContext("mocked-context-id-tournament","THREAD",{})}},{key:"setShareInviteContext",value:function(){var e={type:f.getSessionContextTypes().SHARE_INVITE,playerId:"4766619483409000",playerName:"Player",playerPhoto:""};this.changeContext("mocked-context-id-share-invite","THREAD",e)}},{key:"setMatchingGroupContext",value:function(){var e={type:f.getSessionContextTypes().MATCHING_GROUP,playerId:"4766619483409000",playerName:"Player",playerPhoto:"",playerScore:100};this.changeContext("mocked-context-id-matching-group","GROUP",e)}},{key:"setChallengeFriendContext",value:function(){var e={type:f.getSessionContextTypes().CHALLENGE_FRIEND,playerId:"4766619483409000",playerName:"Player",playerPhoto:""};this.changeContext("mocked-context-id-challenge-friend","THREAD",e)}},{key:"changeUrl",value:function(e){window.history.pushState({},"",e)}}]),p}(l))||p);i._RF.pop()}}}));

System.register("chunks:///_virtual/FlowGroup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ScreenKeys.ts"],(function(e){var r,n,t,a,s,o,c,i,u,p,l;return{setters:[function(e){r=e.inherits,n=e.createSuper,t=e.classCallCheck,a=e.createClass,s=e.asyncToGenerator,o=e.regeneratorRuntime,c=e.objectSpread2},function(e){i=e.cclegacy,u=e._decorator,p=e.Component},function(e){l=e.default}],execute:function(){var h;i._RF.push({},"36562c8k/RF2p/1aLUWFaf8","FlowGroup",void 0);var f=u.ccclass,v=globalThis.game,y=v.match,d=v.player,S=v.event;e("FlowGroup",f("FlowGroup")(h=function(e){r(f,e);var i,u,p,h=n(f);function f(){var e;t(this,f);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(e=h.call.apply(h,[this].concat(n))).playerId="",e}return a(f,[{key:"onLoad",value:function(){this.playerId=d.getPlayerId()}},{key:"showLoadingScreen",value:function(e){S.emit(GameCore.Events.OPEN_SCREEN,{screenName:l.LOADING_SCREEN,screenData:{duration:e}})}},{key:"closeLoadingScreen",value:function(){S.emit(GameCore.Events.CLOSE_SCREEN,{screenName:l.LOADING_SCREEN})}},{key:"showNotificationScreen",value:function(e){S.emit(GameCore.Events.OPEN_SCREEN,{screenName:l.NOTIFICATION_SCREEN,screenData:{message:e}})}},{key:"startGroup",value:(p=s(o().mark((function e(r,n){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.parse(n),e.prev=1,this.showLoadingScreen(0),e.next=5,y.group.start.processAsync(c(c({},t),{},{playerId:this.playerId}));case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.warn("startGroup",e.t0),e.t0 instanceof Error&&this.showNotificationScreen(e.t0.message);case 11:return e.prev=11,this.closeLoadingScreen(),e.finish(11);case 14:case"end":return e.stop()}}),e,this,[[1,7,11,14]])}))),function(e,r){return p.apply(this,arguments)})},{key:"joinGroup",value:(u=s(o().mark((function e(r,n){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.parse(n),e.prev=1,this.showLoadingScreen(0),e.next=5,y.group.join.processAsync(c(c({},t),{},{playerId:this.playerId}));case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.warn("joinGroup",e.t0),e.t0 instanceof Error&&this.showNotificationScreen(e.t0.message);case 11:return e.prev=11,this.closeLoadingScreen(),e.finish(11);case 14:case"end":return e.stop()}}),e,this,[[1,7,11,14]])}))),function(e,r){return u.apply(this,arguments)})},{key:"finishGroup",value:(i=s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.showLoadingScreen(0),d.setPlayerDataByName("score",Math.floor(2*Math.random())),e.next=5,y.group.finish.processAsync();case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.warn("finishGroup",e.t0),e.t0 instanceof Error&&this.showNotificationScreen(e.t0.message);case 11:return e.prev=11,this.closeLoadingScreen(),e.finish(11);case 14:case"end":return e.stop()}}),e,this,[[0,7,11,14]])}))),function(){return i.apply(this,arguments)})}]),f}(p))||h);i._RF.pop()}}}));

System.register("chunks:///_virtual/FlowSingle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ScreenKeys.ts"],(function(e){var n,t,r,a,s,c,i,o,l,u;return{setters:[function(e){n=e.inherits,t=e.createSuper,r=e.classCallCheck,a=e.createClass,s=e.asyncToGenerator,c=e.regeneratorRuntime},function(e){i=e.cclegacy,o=e._decorator,l=e.Component},function(e){u=e.default}],execute:function(){var h;i._RF.push({},"46e6dOzDGJMa48+tVKTAEIT","FlowSingle",void 0);var f=o.ccclass,p=globalThis.game,g=p.match,v=p.player,S=p.event;e("FlowSingle",f("FlowSingle")(h=function(e){n(h,e);var i,o,l=t(h);function h(){var e;r(this,h);for(var n=arguments.length,t=new Array(n),a=0;a<n;a++)t[a]=arguments[a];return(e=l.call.apply(l,[this].concat(t))).playerId="",e}return a(h,[{key:"onLoad",value:function(){this.playerId=v.getPlayerId()}},{key:"showLoadingScreen",value:function(e){S.emit(GameCore.Events.OPEN_SCREEN,{screenName:u.LOADING_SCREEN,screenData:{duration:e}})}},{key:"closeLoadingScreen",value:function(){S.emit(GameCore.Events.CLOSE_SCREEN,{screenName:u.LOADING_SCREEN})}},{key:"showNotificationScreen",value:function(e){S.emit(GameCore.Events.OPEN_SCREEN,{screenName:u.NOTIFICATION_SCREEN,screenData:{message:e}})}},{key:"startSingle",value:(o=s(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.showLoadingScreen(0),e.next=4,g.single.start.processAsync({playerId:this.playerId});case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.warn("startSingle",e.t0),e.t0 instanceof Error&&this.showNotificationScreen(e.t0.message);case 10:return e.prev=10,this.closeLoadingScreen(),e.finish(10);case 13:case"end":return e.stop()}}),e,this,[[0,6,10,13]])}))),function(){return o.apply(this,arguments)})},{key:"finishSingle",value:(i=s(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v.setPlayerDataByName("score",Math.floor(2*Math.random())),e.next=4,g.single.finish.processAsync();case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.warn("finishSingle",e.t0),e.t0 instanceof Error&&this.showNotificationScreen(e.t0.message);case 10:return e.prev=10,this.closeLoadingScreen(),e.finish(10);case 13:case"end":return e.stop()}}),e,this,[[0,6,10,13]])}))),function(){return i.apply(this,arguments)})}]),h}(l))||h);i._RF.pop()}}}));

System.register("chunks:///_virtual/FlowTournament.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ScreenKeys.ts"],(function(e){var n,t,r,a,s,o,c,i,u,h,p;return{setters:[function(e){n=e.inherits,t=e.createSuper,r=e.classCallCheck,a=e.createClass,s=e.asyncToGenerator,o=e.regeneratorRuntime,c=e.objectSpread2},function(e){i=e.cclegacy,u=e._decorator,h=e.Component},function(e){p=e.default}],execute:function(){var l;i._RF.push({},"943b1Zkv9BAaZVhinus8Bkv","FlowTournament",void 0);var f=u.ccclass,m=globalThis.game,v=m.match,y=m.player,d=m.event;e("FlowTournament",f("FlowTournament")(l=function(e){n(w,e);var i,u,h,l,f,m=t(w);function w(){var e;r(this,w);for(var n=arguments.length,t=new Array(n),a=0;a<n;a++)t[a]=arguments[a];return(e=m.call.apply(m,[this].concat(t))).playerId="",e}return a(w,[{key:"onLoad",value:function(){this.playerId=y.getPlayerId()}},{key:"showLoadingScreen",value:function(e){d.emit(GameCore.Events.OPEN_SCREEN,{screenName:p.LOADING_SCREEN,screenData:{duration:e}})}},{key:"closeLoadingScreen",value:function(){d.emit(GameCore.Events.CLOSE_SCREEN,{screenName:p.LOADING_SCREEN})}},{key:"showNotificationScreen",value:function(e){d.emit(GameCore.Events.OPEN_SCREEN,{screenName:p.NOTIFICATION_SCREEN,screenData:{message:e}})}},{key:"startTournament",value:(f=s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.showLoadingScreen(0),e.next=4,v.tournament.start.processAsync({playerId:this.playerId});case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.warn("startTournament",e.t0),e.t0 instanceof Error&&this.showNotificationScreen(e.t0.message);case 10:return e.prev=10,this.closeLoadingScreen(),e.finish(10);case 13:case"end":return e.stop()}}),e,this,[[0,6,10,13]])}))),function(){return f.apply(this,arguments)})},{key:"joinTournament",value:(l=s(o().mark((function e(n,t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=JSON.parse(t),e.prev=1,this.showLoadingScreen(0),e.next=5,v.tournament.join.processAsync(c(c({},r),{},{playerId:this.playerId}));case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.warn("joinTournament",e.t0),e.t0 instanceof Error&&this.showNotificationScreen(e.t0.message);case 11:return e.prev=11,this.closeLoadingScreen(),e.finish(11);case 14:case"end":return e.stop()}}),e,this,[[1,7,11,14]])}))),function(e,n){return l.apply(this,arguments)})},{key:"continueTournament",value:(h=s(o().mark((function e(n,t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=JSON.parse(t),e.prev=1,this.showLoadingScreen(0),e.next=5,v.tournament.continue.processAsync(c(c({},r),{},{playerId:this.playerId}));case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.warn("continueTournament",e.t0),e.t0 instanceof Error&&this.showNotificationScreen(e.t0.message);case 11:return e.prev=11,this.closeLoadingScreen(),e.finish(11);case 14:case"end":return e.stop()}}),e,this,[[1,7,11,14]])}))),function(e,n){return h.apply(this,arguments)})},{key:"finishTournament",value:(u=s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.showLoadingScreen(0),y.setPlayerDataByName("score",Math.floor(2*Math.random())),e.next=5,v.single.finish.processAsync();case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.warn("finishTournament",e.t0),e.t0 instanceof Error&&this.showNotificationScreen(e.t0.message);case 11:return e.prev=11,this.closeLoadingScreen(),e.finish(11);case 14:case"end":return e.stop()}}),e,this,[[0,7,11,14]])}))),function(){return u.apply(this,arguments)})},{key:"createTournament",value:(i=s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.showLoadingScreen(0),e.next=4,v.tournament.create.processAsync({playerId:this.playerId});case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.warn("createTournament",e.t0),e.t0 instanceof Error&&this.showNotificationScreen(e.t0.message);case 10:return e.prev=10,this.closeLoadingScreen(),e.finish(10);case 13:case"end":return e.stop()}}),e,this,[[0,6,10,13]])}))),function(){return i.apply(this,arguments)})}]),w}(h))||l);i._RF.pop()}}}));

System.register("chunks:///_virtual/GameCoreEditor.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameCore.mjs_cjs=&original=.js","./fbinstant.mock.mjs_cjs=&original=.js","./en.json","./ru.json"],(function(e){var r,n,t,a,o,u,i,l,c,s,g,p,d;return{setters:[function(e){r=e.applyDecoratedDescriptor,n=e.inherits,t=e.createSuper,a=e.classCallCheck,o=e.initializerDefineProperty,u=e.assertThisInitialized,i=e.createClass},function(e){l=e.cclegacy,c=e._decorator,s=e.CCString,g=e.Component},null,null,function(e){p=e.default},function(e){d=e.default}],execute:function(){var y,f,m,L,h,v,C,b,k,_,j;l._RF.push({},"5cfb3U22hlL0LxL9FAJLOlF","GameCoreEditor",void 0);var w=c.ccclass,O=c.executeInEditMode,E=c.disallowMultiple,D=c.executionOrder,G=c.property;globalThis.game.language,e("GameCoreEditor",(y=w("GameCoreEditor"),f=D(-1),m=O(!0),L=G({group:{name:"Current language",id:"languages",displayOrder:1},type:s}),h=G({group:{name:"Supported languages",id:"languages",displayOrder:1},readonly:!0}),v=G({group:{name:"Supported languages",id:"languages",displayOrder:2},readonly:!0}),y(C=f(C=E(C=m(((j=function(e){n(l,e);var r=t(l);function l(){var e;a(this,l);for(var n=arguments.length,t=new Array(n),i=0;i<n;i++)t[i]=arguments[i];return e=r.call.apply(r,[this].concat(t)),o(e,"enLang",k,u(e)),o(e,"ruLang",_,u(e)),e}return i(l,[{key:"currentLang",get:function(){return l._key},set:function(e){l._key=e,this.setLanguage(e)}},{key:"__preload",value:function(){}},{key:"start",value:function(){}},{key:"setLanguage",value:function(e){}},{key:"getLangData",value:function(e){switch(e){case"en":return p;case"ru":return d;default:throw new Error("Language ".concat(e," not supported"))}}}]),l}(g))._key="en",r((b=j).prototype,"currentLang",[L],Object.getOwnPropertyDescriptor(b.prototype,"currentLang"),b.prototype),k=r(b.prototype,"enLang",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"en"}}),_=r(b.prototype,"ruLang",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"ru"}}),C=b))||C)||C)||C)||C));l._RF.pop()}}}));

System.register("chunks:///_virtual/GameEvents.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"244e9OHsmpDnpHQKeLzgiiX","GameEvents",void 0);e("default",{});t._RF.pop()}}}));

System.register("chunks:///_virtual/GameEvents2.ts",["cc"],(function(e){var E;return{setters:[function(e){E=e.cclegacy}],execute:function(){E._RF.push({},"ca922n1V0RLioEyUJg8hQXH","GameEvents",void 0);var t=e("default",function(e){return e.NEXT_LEVEL="next-level",e.START_OVER="start-over",e.SELECT_LEVEL="select-level",e.GAME_START="game-start",e.GAME_PAUSE="game-pause",e.GAME_RESUME="game-resume",e.GAME_REPLAY="game-replay",e.SHOW_HINT="show-hint",e.SKIP_LEVEL="skip-level",e.TIME_OUT="time-out",e.DRAWING="drawing",e.DOGE_DIE="doge-die",e.DOGE_SURVIVE="doge-survive",e.BEE_DIE="bee-die",e.BEE_ATTACK="bee-attack",e}(t||{}));E._RF.pop()}}}));

System.register("chunks:///_virtual/GameObject.ts",["cc"],(function(e){var O;return{setters:[function(e){O=e.cclegacy}],execute:function(){O._RF.push({},"9ef7e8FlFJOS5DAWzwBrkww","GameObject",void 0);for(var E=e("ObjectNames",function(e){return e.AIR_FAN="air-fan",e.BALLOON="balloon",e.DOGE="doge",e.BEE="bee",e.BIG_BEE="big-bee",e.BIG_BEE_BULLET="big-bee-bullet",e.BEEHIVE="beehive",e.BRICK="brick",e.GRASS="grass",e.GRASS_DARK="grass-dark",e.COLLIDER="collider",e.THORN="thorn",e.THORN_BALL="thorn-ball",e.LINE="line",e.WOOD="wood",e.WOOD_STROKE="wood-stroke",e.BALLON="balloon",e.POISON="poison",e.POISON_BUBBLE="poison-bubble",e.POISON_SURFACE="poison-surface",e.WATER="water",e.WATER_SURFACE="water-surface",e.DANGER_AREA="danger-area",e.DUST_PARTICLE="dust-particle",e.ROPE="rope",e.JOINT="joint",e}({})),R=E.COLLIDER,A=E.DANGER_AREA,r=E.DOGE,o=[R,A,E.GRASS,E.GRASS_DARK,E.BRICK,E.LINE,r,E.POISON,E.POISON_SURFACE,E.POISON_BUBBLE,E.AIR_FAN,E.WOOD,E.WOOD_STROKE,E.THORN_BALL,E.THORN,E.BEE,E.BEEHIVE,E.ROPE,E.BALLOON,E.WATER,E.WATER_SURFACE,E.JOINT,E.DUST_PARTICLE],t={},S=0;S<o.length;S++)t[o[S]]=S;e("ObjectDepths",t);O._RF.pop()}}}));

System.register("chunks:///_virtual/GameObjects.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BeeState.ts","./GameObject.ts","./ObjectIds.ts","./PhysicsGroup.ts","./ResourcePaths.ts","./AirFan.ts","./Balloon.ts","./Bee.ts","./Beehive.ts","./BigBee.ts","./GraphicsPattern.ts","./Pattern.ts","./Poison.ts","./PoisonSurface.ts","./Water.ts","./Doge.ts","./MapTransformer.ts","./BaseObject.ts"],(function(e){var n,t,a,r,o,i,s,l,u,c,f,d,p,h,b,v,y,w,g,P,O,m,B,C,j,k,E,A,S,R,D,I,T,_,G,F,N,L,W,x,H,z,U,M;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inherits,a=e.createSuper,r=e.classCallCheck,o=e.initializerDefineProperty,i=e.assertThisInitialized,s=e.createClass,l=e.toConsumableArray,u=e.createForOfIteratorHelper},function(e){c=e.cclegacy,f=e._decorator,d=e.Prefab,p=e.instantiate,h=e.Node,b=e.ERigidBody2DType,v=e.Graphics,y=e.Color,w=e.UIOpacity,g=e.RigidBody2D,P=e.PolygonCollider2D,O=e.resources,m=e.SpriteFrame,B=e.Sprite,C=e.Vec2,j=e.Component},function(e){k=e.default},function(e){E=e.ObjectDepths,A=e.ObjectNames},function(e){S=e.default},function(e){R=e.default},function(e){D=e.default},function(e){I=e.AirFan},function(e){T=e.Balloon},function(e){_=e.Bee},function(e){G=e.Beehive},function(e){F=e.BigBee},function(e){N=e.GraphicsPattern},function(e){L=e.Pattern},function(e){W=e.Poison},function(e){x=e.PoisonSurface},function(e){H=e.Water},function(e){z=e.Doge},function(e){U=e.default},function(e){M=e.BaseObject}],execute:function(){var K,V,J,X,q,Q,Y,Z,$,ee,ne,te,ae,re,oe,ie,se,le,ue,ce,fe,de,pe,he,be;c._RF.push({},"75ad9uPflhLL4N96NmHF2Sk","GameObjects",void 0);var ve=f.ccclass,ye=f.property;e("GameObjects",(K=ve("GameObjects"),V=ye(d),J=ye(d),X=ye(d),q=ye(d),Q=ye(d),Y=ye(d),Z=ye(d),$=ye(d),ee=ye(d),ne=ye(d),te=ye(d),K((oe=n((re=function(e){t(c,e);var n=a(c);function c(){var e;r(this,c);for(var t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return e=n.call.apply(n,[this].concat(a)),o(e,"dogePrefab",oe,i(e)),o(e,"beePrefab",ie,i(e)),o(e,"beehivePrefab",se,i(e)),o(e,"bigBeePrefab",le,i(e)),o(e,"thornPrefab",ue,i(e)),o(e,"thornBallPrefab",ce,i(e)),o(e,"airFanPrefab",fe,i(e)),o(e,"balloonPrefab",de,i(e)),o(e,"brickPrefab",pe,i(e)),o(e,"arenaPrefab",he,i(e)),o(e,"woodPrefab",be,i(e)),e.objects=new Map,e}return s(c,[{key:"spawnObjects",value:function(e){for(var n=e.map,t=l(n).reverse(),a=0;a<t.length;a++){var r=t[a],o=null;(o=Array.isArray(r.point)?this.spawnPolygonObjectType(r):this.spawnPointObjectType(r))&&this.objects.set(a,o)}var i,s=u(n);try{for(s.s();!(i=s.n()).done;){var c=i.value;if(!Array.isArray(c.point)){var f=c;if(f.id==S.BALLOON){var d=U.getPointObject(f).point,p=d.x,h=d.y;if(!f.connect)continue;var b=this.findObjectIndex(n,f.connect);if(!b)continue;this.spawnBalloon(p,h,b)}}}}catch(e){s.e(e)}finally{s.f()}this.sortObjects(),this.sleepObjects()}},{key:"spawnPolygonObjectType",value:function(e){var n=U.getPolygonObject(e).point;if(0==n.length)return null;switch(e.id){case S.BRICK:return this.spawnBrick(n);case S.GRASS:return this.spawnGrass(n);case S.GRASS_DARK:return this.spawnGrassDark(n);case S.LINE:return this.spawnLine(n);case S.POISON:return this.spawnPoison(n);case S.POISON_SURFACE:return this.spawnPoisonSurface(n);case S.WATER:return this.spawnWater(n);case S.DANGER_AREA:return this.spawnDangerArea(n);case S.WOOD:var t=U.getDoublePolygon(e);return this.spawnWood(t.point);case S.COLLIDER:var a=U.getDoublePolygon(e);return this.spawnCollider(0,0,a.point);case S.STROKE:default:return null}}},{key:"spawnPointObjectType",value:function(e){var n=U.getPointObject(e).point,t=n.x,a=n.y;switch(e.id){case S.DOGE_A:return this.spawnDoge(t,a);case S.DOGE_B:return this.spawnDoge(t,a,!0);case S.BEEHIVE_A:case S.BEEHIVE_C:return this.spawnBeehive(t,a);case S.BEEHIVE_B:case S.BEEHIVE_D:return this.spawnBeehive(t,a,!0);case S.THORN_BALL:return this.spawnThornBall(t,a);case S.BIG_BEE:return this.spawnBigBee(t,a);case S.WATER_SURFACE:return this.spawnWaterSurface(t,a);case S.THORN:var r,o=(null===(r=e.data)||void 0===r?void 0:r.a)||0;return this.spawnThorn(t,a,o);case S.AIR_FAN:var i,s=(null===(i=e.data)||void 0===i?void 0:i.a)||0;return this.spawnAirFan(t,a,s);default:return null}}},{key:"spawnObjectForDevTools",value:function(e){this.spawnPointObjectType(e),this.sortObjects()}},{key:"spawnPolygonObjectForDevTools",value:function(e){this.spawnPolygonObjectType(e),this.sortObjects()}},{key:"addObject",value:function(e){this.node.insertChild(e,this.getSiblingIndex(e.name))}},{key:"sortObjects",value:function(){var e=l(this.node.children);e.sort((function(e,n){return E[e.name]-E[n.name]})),e.forEach((function(e,n){e.setSiblingIndex(n)}))}},{key:"findObjectIndex",value:function(e,n){var t=e.findIndex((function(e){return JSON.stringify(e)===JSON.stringify(n)}));return this.objects.get(t)}},{key:"getSiblingIndex",value:function(e){var n=this.node.children,t=E[e];if(!t)return n.length+1;var a=n.map((function(e){return E[e.name]})),r=a.findIndex((function(e){return t<e}));return r<0?a.length+1:r}},{key:"clearObjects",value:function(){this.node.removeAllChildren()}},{key:"sleepObjects",value:function(){this.getComponentsInChildren(M).forEach((function(e){return e.sleep()}))}},{key:"wakeUpObjects",value:function(){this.getComponentsInChildren(M).forEach((function(e){return e.wake()}))}},{key:"spawnBeehive",value:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=p(this.beehivePrefab);return a instanceof h?(a.name=A.BEEHIVE,a.setPosition(e,n),a.setScale(t?-1:1,1),a.attr({isRightSide:t}),this.addObject(a),a):null}},{key:"spawnBees",value:function(){var e=this,n=this.node.getComponentsInChildren(G),t=1==n.length?8:4;n.forEach((function(n){n.node.attr({totalPathSeekers:Math.floor(t/3)});for(var a=0;a<t;a++){var r=e.spawnBee();r&&n.releaseBee(r)}}))}},{key:"spawnBee",value:function(){var e=p(this.beePrefab);return e instanceof h?(e.name=A.BEE,this.addObject(e),e):null}},{key:"checkAllBeeDie",value:function(){return!this.node.getComponentsInChildren(_).some((function(e){return e.enabled}))}},{key:"spawnDoge",value:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=p(this.dogePrefab);return a instanceof h?(a.name=A.DOGE,a.setPosition(e,n),a.setScale(t?-1:1,1),this.addObject(a),a):null}},{key:"spawnBigBee",value:function(e,n){var t=p(this.bigBeePrefab);return t instanceof h?(t.name=A.BIG_BEE,t.setPosition(e,n),this.addObject(t),t):null}},{key:"reviveBigBees",value:function(){this.node.getComponentsInChildren(F).forEach((function(e){e.state=k.ATTACKING}))}},{key:"spawnBrick",value:function(e){var n=p(this.brickPrefab);if(!(n instanceof h))return null;n.name=A.BRICK;var t=n.getComponent(L);return t?(this.addObject(n),t.draw(e),t.applyCollider(e),t.setRigidBodyType(b.Static),n):(console.warn("Pattern not found"),null)}},{key:"spawnWood",value:function(e){var n=p(this.woodPrefab);if(!(n instanceof h))return null;n.name=A.WOOD;var t=n.getComponent(L);if(!t)return console.warn("Pattern not found"),null;this.addObject(n),t.draw(e),t.applyCollider(e),t.setRigidBodyType(b.Dynamic);var a=this.spawnWoodStroke(e);return a.setParent(n,!1),n.addChild(a),n}},{key:"spawnWoodStroke",value:function(e){var n=new h;n.name=A.WOOD_STROKE,n.layer=33554432,this.addObject(n);var t=n.addComponent(v);t.lineWidth=4;var a=new y;y.fromHEX(a,"#0d0d15"),t.strokeColor=a,t.moveTo(e[0].x,e[0].y);var r,o=u(e.slice(1));try{for(o.s();!(r=o.n()).done;){var i=r.value;t.lineTo(i.x,i.y)}}catch(e){o.e(e)}finally{o.f()}return t.close(),t.stroke(),n}},{key:"spawnGrass",value:function(e){var n=p(this.arenaPrefab);if(!(n instanceof h))return null;n.name=A.GRASS;var t=n.getComponent(N);return t?(this.addObject(n),t.setColor("#8bdd55"),t.draw(e),n):(console.warn("GraphicsPattern not found"),null)}},{key:"spawnGrassDark",value:function(e){var n=p(this.arenaPrefab);if(!(n instanceof h))return null;n.name=A.GRASS_DARK;var t=n.getComponent(N);return t?(this.addObject(n),t.setColor("#7ecf47"),t.draw(e),n):(console.warn("GraphicsPattern not found"),null)}},{key:"spawnPoison",value:function(e){var n=p(this.arenaPrefab);return n instanceof h?(n.name=A.POISON,this.addObject(n),n.addComponent(W).polygon=e,n):null}},{key:"spawnPoisonSurface",value:function(e){var n=p(this.arenaPrefab);return n instanceof h?(n.name=A.POISON_SURFACE,this.addObject(n),n.addComponent(x).polygon=e,n):null}},{key:"spawnWater",value:function(e){var n=p(this.arenaPrefab);return n instanceof h?(n.name=A.WATER,this.addObject(n),n.addComponent(H).polygon=e,n.addComponent(w).opacity=.75,n):null}},{key:"spawnDangerArea",value:function(e){var n=p(this.arenaPrefab);if(!(n instanceof h))return null;n.name=A.DANGER_AREA;var t=n.getComponent(N);if(!t)return console.warn("GraphicsPattern not found"),null;this.addObject(n),t.setColor("#fc03036d"),t.draw(e);var a=n.addComponent(g);return a.type=b.Static,a.group=R.DEFAULT,n.addComponent(P),t.applyCollider(e),n}},{key:"spawnWaterSurface",value:function(e,n){var t=new h;return t.name=A.WATER_SURFACE,t.layer=this.node.layer,t.setPosition(e,n),O.load(D.WATER_SURFACE_FRAME,m,(function(e,n){e?console.warn("spawnWaterSurface",e):t.addComponent(B).spriteFrame=n})),this.addObject(t),t}},{key:"spawnThorn",value:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=p(this.thornPrefab);return a instanceof h?(a.name=A.THORN,a.angle=t,a.setPosition(e,n),this.addObject(a),a):null}},{key:"spawnThornBall",value:function(e,n){var t=p(this.thornBallPrefab);return t instanceof h?(t.name=A.THORN_BALL,t.setPosition(e,n),this.addObject(t),t):null}},{key:"spawnAirFan",value:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=p(this.airFanPrefab);if(!(a instanceof h))return null;a.name=A.AIR_FAN,a.angle=t,a.setPosition(e,n),a.attr({id:S.AIR_FAN});var r=a.getComponent(I);return r?(r.setForceDirection(t),this.addObject(a),a):(console.warn("AirFan not found"),null)}},{key:"spawnCollider",value:function(e,n,t){var a=new h;a.name=A.COLLIDER,this.addObject(a),a.setPosition(e,n);var r=a.addComponent(g);r.type=b.Static,r.group=R.MAIN_OBJECT;var o=a.addComponent(P);return o.restitution=.2,o.points=t.map((function(e){var n=e.x,t=e.y;return new C(n,t)})),o.apply(),a}},{key:"spawnLine",value:function(e){var n=new h;n.name=A.LINE,n.layer=33554432,this.addObject(n);var t=n.addComponent(v);t.lineWidth=4;var a=new y;y.fromHEX(a,"#0d0d15"),t.strokeColor=a,t.lineJoin=v.LineJoin.ROUND,t.moveTo(e[0].x,e[0].y);var r,o=u(e.slice(1));try{for(o.s();!(r=o.n()).done;){var i=r.value;t.lineTo(i.x,i.y)}}catch(e){o.e(e)}finally{o.f()}return t.stroke(),n}},{key:"spawnBalloon",value:function(e,n,t){var a=p(this.balloonPrefab);if(!(a instanceof h))return null;a.name=A.BALLOON,a.setPosition(e,n);var r=a.getComponent(T);return r?(r.connectToDoge(t),this.addObject(a),a):(console.warn("Balloon not found"),null)}},{key:"getRandomDogeToBee",value:function(){if(!this.node.parent)return null;var e=this.node.parent.getComponentsInChildren(z),n=e.length;return e[Math.floor(Math.random()*n)]}},{key:"getNearestDogeToBee",value:function(e){if(!this.node.parent)return null;var n=this.node.parent.getComponentsInChildren(z);return n.sort((function(n,t){return C.distance(n.node.worldPosition,e.node.worldPosition)-C.distance(t.node.worldPosition,e.node.worldPosition)})),n[0]}}]),c}(j)).prototype,"dogePrefab",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=n(re.prototype,"beePrefab",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=n(re.prototype,"beehivePrefab",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=n(re.prototype,"bigBeePrefab",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=n(re.prototype,"thornPrefab",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=n(re.prototype,"thornBallPrefab",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=n(re.prototype,"airFanPrefab",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=n(re.prototype,"balloonPrefab",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=n(re.prototype,"brickPrefab",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=n(re.prototype,"arenaPrefab",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=n(re.prototype,"woodPrefab",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=re))||ae));c._RF.pop()}}}));

System.register("chunks:///_virtual/Gameplay.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SceneManager.ts","./Music.ts","./Sound.ts","./ScreenKeys.ts","./GameObjects.ts","./Hint.ts","./LineDrawer.ts","./MapLoader.ts","./GameEvents2.ts","./InkCapacityController.ts","./InputController.ts","./DevToolsContainer.ts","./StateManager.ts","./UIManager.ts","./MapTransformer.ts"],(function(e){var t,n,a,i,o,r,s,l,u,c,d,h,f,m,v,p,g,y,S,D,E,G,M,w,C,k,b,A,I;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inherits,a=e.createSuper,i=e.classCallCheck,o=e.initializerDefineProperty,r=e.assertThisInitialized,s=e.objectSpread2,l=e.createClass,u=e.asyncToGenerator,c=e.regeneratorRuntime},function(e){d=e.cclegacy,h=e._decorator,f=e.find,m=e.Component},function(e){v=e.SceneManager},function(e){p=e.Music},function(e){g=e.Sound},function(e){y=e.default},function(e){S=e.GameObjects},function(e){D=e.Hint},function(e){E=e.LineDrawer},function(e){G=e.MapLoader},function(e){M=e.default},function(e){w=e.InkCapacityController},function(e){C=e.InputController},function(e){k=e.DevToolsContainer},function(e){b=e.StateManager},function(e){A=e.UIManager},function(e){I=e.default}],execute:function(){var T,N,R,_,L,O,x,U,P,j,V,H,B,z;d._RF.push({},"157f203vjtMma2FDvAlyM6h","Gameplay",void 0);var F=h.ccclass,K=h.requireComponent,Y=h.property,W=globalThis.game,q=W.player,X=W.ads,J=W.event,Q=W.language;e("Gameplay",(T=F("Gameplay"),N=K([A,b,C,w]),R=Y(E),_=Y(G),L=Y(S),O=Y(D),x=Y(k),T(U=N((j=t((P=function(e){n(d,e);var t=a(d);function d(){var e;i(this,d);for(var n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return e=t.call.apply(t,[this].concat(a)),o(e,"lineDrawer",j,r(e)),o(e,"gameMap",V,r(e)),o(e,"gameObjects",H,r(e)),o(e,"hint",B,r(e)),o(e,"devTools",z,r(e)),e.gameData=null,e.defaultData=null,e.handleStartGame=function(t){e.setGameData(t),e.stateManager.draw()},e.handlePauseGame=function(t){e.pauseGame(),e.pauseSound("sounds/bee-flying")},e.handleResumeGame=function(t){e.resumeGame(),e.resumeSound("sounds/bee-flying")},e.handleReplayGame=function(t){var n=s(s({},e.defaultData),t);e.setGameData(n),e.stateManager.ready()},e.handleNextLevel=function(t){if(e.gameData){var n=e.gameData.level,a=t.level,i=void 0===a?n:a;if(!i)throw new Error("Level is not defined");var o=i+1;q.setGameData({level:o});var r=s(s(s({},e.defaultData),t),{},{level:o});e.setGameData(r),e.stateManager.load(),console.log("Next level",o)}},e.handleStartOver=function(t){q.setGameData({level:1,passAllLevels:!1});var n=s(s(s({},e.defaultData),t),{},{level:1});e.setGameData(n),e.stateManager.load()},e.handleSelectLevel=function(t){var n=t.level,a=s(s(s({},e.defaultData),t),{},{level:n});e.setGameData(a),e.stateManager.load()},e.handleClockTimeout=function(t){e.setGameData(t),e.stateManager.escape()},e.handleDrawing=function(t){e.setGameData(t)},e.handleBeeDie=function(t){var n;(null===(n=e.gameObjects)||void 0===n?void 0:n.checkAllBeeDie())&&(e.setGameData(t),e.stateManager.escape())},e.handleBeeAttack=function(t){e.setGameData(t),e.stateManager.attack()},e.handleDogeDie=function(t){e.setGameData(t),e.stateManager.death()},e.handleDogeSurvive=function(t){e.setGameData(t),e.stateManager.escape()},e.handleGameFinish=function(t){e.setGameData(t),e.stateManager.finish()},e.handleShowHint=function(){var t=u(c().mark((function t(n){var a,i,o,r,s,l,u;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(a=e.hint)||void 0===a||!a.getIsHintShow()){t.next=2;break}return t.abrupt("return");case 2:if(e.stateManager.isAttacking()||e.stateManager.isReady()){t.next=4;break}return t.abrupt("return");case 4:return e.uiManager.stopCountDownHeaderHintBubbleAnim(),t.prev=5,e.muteAudio(!0),e.node.scene.emit(M.GAME_PAUSE),o=Q.getText("loading"),e.showNotificationScreen(o),t.next=12,X.showRewardedVideoAsync();case 12:if(e.closeNotificationScreen(),e.setGameData(n),r=e.gameData||{},s=r.levelData){t.next=17;break}throw new Error("Level data is not defined");case 17:l=s.tips,u=I.transformPointsFromMapToDrawAreaCoordinate(l),null===(i=e.hint)||void 0===i||i.showHint(u,!1),t.next=29;break;case 22:if(t.prev=22,t.t0=t.catch(5),console.warn("showTips failed",t.t0),!(t.t0 instanceof Object&&"code"in t.t0&&"USER_INPUT"===t.t0.code)){t.next=28;break}return e.showNotificationScreen("Sorry, no rewards!\n You have cancelled the ad.",2),t.abrupt("return");case 28:e.showNotificationScreen("No ads to display.",2);case 29:return t.prev=29,e.muteAudio(!1),e.node.scene.emit(M.GAME_RESUME),X.preloadRewardedVideoAsync().catch((function(){})),t.finish(29);case 34:case"end":return t.stop()}}),t,null,[[5,22,29,34]])})));return function(e){return t.apply(this,arguments)}}(),e.handleSkipLevel=function(){var t=u(c().mark((function t(n){var a;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.stateManager.isAttacking()||e.stateManager.isReady()){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,e.muteAudio(!0),e.node.scene.emit(M.GAME_PAUSE),a=Q.getText("loading"),e.showNotificationScreen(a),t.next=9,X.showRewardedVideoAsync();case 9:e.closeNotificationScreen(),e.node.scene.emit(M.DOGE_SURVIVE),t.next=20;break;case 13:if(t.prev=13,t.t0=t.catch(2),console.error("showInterstitialAdAsync failed",t.t0),!(t.t0 instanceof Object&&"code"in t.t0&&"USER_INPUT"===t.t0.code)){t.next=19;break}return e.showNotificationScreen("Sorry, no rewards!\n You have cancelled the ad.",2),t.abrupt("return");case 19:e.showNotificationScreen("No ads to display.",2);case 20:return t.prev=20,e.muteAudio(!1),e.node.scene.emit(M.GAME_RESUME),X.preloadRewardedVideoAsync().catch((function(){})),t.finish(20);case 25:case"end":return t.stop()}}),t,null,[[2,13,20,25]])})));return function(e){return t.apply(this,arguments)}}(),e}return l(d,[{key:"onLoad",value:function(){this.initComponents(),this.listenInputEvents()}},{key:"initComponents",value:function(){this.initUIManager(),this.initStateManager(),this.initInputController(),this.initInkCapacityController()}},{key:"initUIManager",value:function(){var e=this.getComponent(A);if(!e)throw new Error("Gameplay: UIManager not found");this.uiManager=e}},{key:"initStateManager",value:function(){var e=this.getComponent(b);if(!e)throw new Error("Gameplay: StateManager not found");this.stateManager=e}},{key:"initInputController",value:function(){var e=this.getComponent(C);if(!e)throw new Error("Gameplay: InputController not found");this.inputController=e}},{key:"initInkCapacityController",value:function(){var e=this.getComponent(w);if(!e)throw new Error("Gameplay: InkCapacityController not found");this.inkCapacityController=e}},{key:"listenInputEvents",value:function(){this.node.scene.on(M.GAME_START,this.handleStartGame),this.node.scene.on(M.GAME_PAUSE,this.handlePauseGame),this.node.scene.on(M.GAME_RESUME,this.handleResumeGame),this.node.scene.on(M.GAME_REPLAY,this.handleReplayGame),this.node.scene.on(M.NEXT_LEVEL,this.handleNextLevel),this.node.scene.on(M.START_OVER,this.handleStartOver),this.node.scene.on(M.SELECT_LEVEL,this.handleSelectLevel),this.node.scene.on(M.DRAWING,this.handleDrawing),this.node.scene.on(M.TIME_OUT,this.handleClockTimeout),this.node.scene.on(M.BEE_DIE,this.handleBeeDie),this.node.scene.on(M.BEE_ATTACK,this.handleBeeAttack),this.node.scene.on(M.DOGE_DIE,this.handleDogeDie),this.node.scene.on(M.DOGE_SURVIVE,this.handleDogeSurvive),this.node.scene.on(M.SHOW_HINT,this.handleShowHint),this.node.scene.on(M.SKIP_LEVEL,this.handleSkipLevel)}},{key:"start",value:function(){this.initData(),this.initGame(),this.initDevTools()}},{key:"initDevTools",value:function(){this.devTools&&this.gameObjects&&this.devTools.assignGameObjects(this.gameObjects)}},{key:"initData",value:function(){var e=(q.getGameData()||{}).level,t=void 0===e?1:e,n=(this.getSceneData()||{}).isContextProcessing,a=void 0!==n&&n;this.defaultData={level:t,isContextProcessing:!1},this.setGameData(this.defaultData),this.setGameData({isContextProcessing:a})}},{key:"initGame",value:function(){if(!this.stateManager)throw new Error("StateManager is not initialized");this.stateManager.init(),this.stateManager.load()}},{key:"setGameData",value:function(e){e&&(this.gameData=s(s({},this.gameData),e))}},{key:"getGameData",value:function(){return this.gameData}},{key:"getSceneData",value:function(){var e=this.node.scene.getComponent(v);return(null==e?void 0:e.getSceneData(this.node.scene.name))||null}},{key:"showNotificationScreen",value:function(e,t){J.emit(GameCore.Events.OPEN_SCREEN,{screenName:y.NOTIFICATION_SCREEN,screenData:{message:e,isCloseButtonVisible:!1,duration:t}})}},{key:"closeNotificationScreen",value:function(){J.emit(GameCore.Events.CLOSE_SCREEN,{screenName:y.NOTIFICATION_SCREEN})}},{key:"pauseGame",value:function(){this.node.active=!1,this.node.pauseSystemEvents(!0),this.uiManager.pauseCountdown()}},{key:"resumeGame",value:function(){this.node.active=!0,this.node.resumeSystemEvents(!0),this.uiManager.resumeCountdown()}},{key:"resumeSound",value:function(e){var t,n;null===(t=f("Sound"))||void 0===t||null===(n=t.getComponent(g))||void 0===n||n.resume(e)}},{key:"pauseSound",value:function(e){var t,n;null===(t=f("Sound"))||void 0===t||null===(n=t.getComponent(g))||void 0===n||n.pause(e)}},{key:"muteAudio",value:function(e){this.muteMusic(e),this.muteSound(e)}},{key:"muteMusic",value:function(e){var t,n;null===(t=f("Music"))||void 0===t||null===(n=t.getComponent(p))||void 0===n||n.mute(e)}},{key:"muteSound",value:function(e){var t,n;null===(t=f("Sound"))||void 0===t||null===(n=t.getComponent(g))||void 0===n||n.mute(e)}}]),d}(m)).prototype,"lineDrawer",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(P.prototype,"gameMap",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(P.prototype,"gameObjects",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(P.prototype,"hint",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(P.prototype,"devTools",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=P))||U)||U));d._RF.pop()}}}));

System.register("chunks:///_virtual/GameScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SceneManager.ts"],(function(e){var n,t,a,c,o,i,r,s;return{setters:[function(e){n=e.inherits,t=e.createSuper,a=e.classCallCheck,c=e.createClass},function(e){o=e.cclegacy,i=e._decorator,r=e.Component},function(e){s=e.SceneManager}],execute:function(){var u;o._RF.push({},"9b83boaSv9PE6mRFqy0MSI8","GameScene",void 0);var l=i.ccclass,h=i.disallowMultiple,v=i.requireComponent,S=globalThis.game.audio;e("GameScene",l("GameScene")(u=h(u=v([s])(u=function(e){n(i,e);var o=t(i);function i(){var e;a(this,i);for(var n=arguments.length,t=new Array(n),c=0;c<n;c++)t[c]=arguments[c];return(e=o.call.apply(o,[this].concat(t))).handleSwitchSceneEvent=function(n){var t=n.sceneName,a=n.sceneData;e.scene.switchScene(t,a)},e}return c(i,[{key:"__preload",value:function(){this.scene=this.getComponent(s),this.validateRequiredComponents(),this.scene.listenSwitchSceneEvent(this.handleSwitchSceneEvent)}},{key:"validateRequiredComponents",value:function(){if(!this.scene)throw new Error("GameScene: SceneManager not found")}},{key:"start",value:function(){this.updateVolumeBackgroundMusic()}},{key:"updateVolumeBackgroundMusic",value:function(){S.setVolume(1,"global_music")}}]),i}(r))||u)||u)||u);o._RF.pop()}}}));

System.register("chunks:///_virtual/GraphicsPattern.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseObject.ts"],(function(e){var t,r,a,n,o,i,c,s,l,u,p,h;return{setters:[function(e){t=e.inherits,r=e.createSuper,a=e.classCallCheck,n=e.createClass,o=e.createForOfIteratorHelper},function(e){i=e.cclegacy,c=e._decorator,s=e.Graphics,l=e.PolygonCollider2D,u=e.Vec2,p=e.Color},function(e){h=e.BaseObject}],execute:function(){var f;i._RF.push({},"46fa0f/kl1Heo/JvM2kAEAf","GraphicsPattern",void 0);var v=c.ccclass;e("GraphicsPattern",v("GraphicsPattern")(f=function(e){t(c,e);var i=r(c);function c(){return a(this,c),i.apply(this,arguments)}return n(c,[{key:"onLoad",value:function(){this.graphic=this.getComponent(s),this.validateRequiredComponents()}},{key:"validateRequiredComponents",value:function(){if(!this.graphic)throw new Error("GraphicsPattern: Graphics not found")}},{key:"start",value:function(){}},{key:"draw",value:function(e){this.graphic.moveTo(e[0].x,e[0].y);var t,r=o(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;this.graphic.lineTo(a.x,a.y)}}catch(e){r.e(e)}finally{r.f()}this.graphic.close(),this.graphic.fill()}},{key:"applyCollider",value:function(e){var t=this.getComponent(l);t?(t.points=e.map((function(e){var t=e.x,r=e.y;return new u(t,r)})),t.apply()):console.warn("GraphicsPattern: PolygonCollider2D not found")}},{key:"setColor",value:function(e){var t=new p;p.fromHEX(t,e),this.graphic.fillColor=t}}]),c}(h))||f);i._RF.pop()}}}));

System.register("chunks:///_virtual/Header.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BubbleAnimation.ts","./ScreenKeys.ts","./GameEvents2.ts","./LevelProgressBar.ts"],(function(e){var t,n,i,l,a,r,o,s,u,c,d,h,b,p,v,f,y,g,m,B;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inherits,i=e.createSuper,l=e.classCallCheck,a=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.createClass,s=e.asyncToGenerator,u=e.regeneratorRuntime},function(e){c=e.cclegacy,d=e._decorator,h=e.Label,b=e.Node,p=e.Button,v=e.Sprite,f=e.Component},function(e){y=e.BubbleAnimation},function(e){g=e.default},function(e){m=e.default},function(e){B=e.LevelProgressBar}],execute:function(){var N,k,w,P,C,E,S,H,A,T,L,R,z,G,_,x,D;c._RF.push({},"61791zAr2tJR4p22EZ5QRfk","Header",void 0);var I=d.ccclass,M=d.property,q=GameCore.Events,F=globalThis.game,K=F.language,O=F.event,j=F.player;e("Header",(N=I("Header"),k=M(h),w=M(B),P=M(y),C=M(b),E=M(b),S=M(b),H=M(b),N((L=t((T=function(e){n(d,e);var t,c=i(d);function d(){var e;l(this,d);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e=c.call.apply(c,[this].concat(n)),a(e,"levelText",L,r(e)),a(e,"levelProgressBar",R,r(e)),a(e,"hintBubbleAnim",z,r(e)),a(e,"pauseNode",G,r(e)),a(e,"replayNode",_,r(e)),a(e,"hintNode",x,r(e)),a(e,"skipNode",D,r(e)),e.handlePlayBubble=function(){e.hintBubbleAnim.play(),e.startCountDownHintBubble()},e}return o(d,[{key:"onLoad",value:function(){this.validateRequiredComponents()}},{key:"validateRequiredComponents",value:function(){if(!this.levelText)throw new Error("Header: LevelText not found");if(!this.levelProgressBar)throw new Error("Header: LevelProgressBar not found");if(!this.hintBubbleAnim)throw new Error("Header: HintBubbleAnim not found")}},{key:"handleClickedPauseGame",value:function(){this.showSettingScreen(),this.node.scene.emit(m.GAME_PAUSE,{})}},{key:"handleClickedReplayGame",value:function(){var e=(j.getGameData()||{}).level,t=void 0===e?1:e;this.node.scene.emit(m.GAME_REPLAY,{level:t})}},{key:"handleClickedHintGame",value:function(){this.node.scene.emit(m.SHOW_HINT,{})}},{key:"handleClickedSkipLevel",value:(t=s(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.node.scene.emit(m.SKIP_LEVEL,{});case 1:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"showSettingScreen",value:function(){O.emit(q.OPEN_SCREEN,{screenName:g.SETTINGS_SCREEN,screenData:{}})}},{key:"setLevelText",value:function(e){var t=K.getText("level");this.levelText.string=t+" ".concat(e)}},{key:"setProgress",value:function(e){this.levelProgressBar.setProgress(e)}},{key:"setProgressStars",value:function(e){this.levelProgressBar.setStars(e)}},{key:"startCountDownHintBubble",value:function(){this.schedule(this.handlePlayBubble,30)}},{key:"stopCountDownHintBubble",value:function(){this.unschedule(this.handlePlayBubble)}},{key:"disableButtons",value:function(){this.enableBtnNode(this.pauseNode,!1),this.enableBtnNode(this.replayNode,!1),this.enableBtnNode(this.hintNode,!1),this.enableBtnNode(this.skipNode,!1)}},{key:"enableButtons",value:function(){this.enableBtnNode(this.pauseNode,!0),this.enableBtnNode(this.replayNode,!0),this.enableBtnNode(this.hintNode,!0),this.enableBtnNode(this.skipNode,!0)}},{key:"enableBtnNode",value:function(e,t){var n=e.getComponent(p);n&&(n.interactable=t);var i=e.getComponent(v);i&&(i.grayscale=!t)}}]),d}(f)).prototype,"levelText",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(T.prototype,"levelProgressBar",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(T.prototype,"hintBubbleAnim",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(T.prototype,"pauseNode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(T.prototype,"replayNode",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(T.prototype,"hintNode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(T.prototype,"skipNode",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=T))||A));c._RF.pop()}}}));

System.register("chunks:///_virtual/Hint.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResourcePaths.ts"],(function(n){var i,t,e,r,a,h,o,s,l,d,u,H,c,v,f,p,y,L,w;return{setters:[function(n){i=n.inherits,t=n.createSuper,e=n.classCallCheck,r=n.createClass,a=n.createForOfIteratorHelper},function(n){h=n.cclegacy,o=n._decorator,s=n.Graphics,l=n.Tween,d=n.resources,u=n.SpriteFrame,H=n.Sprite,c=n.UITransform,v=n.tween,f=n.Vec3,p=n.Node,y=n.Color,L=n.Component},function(n){w=n.default}],execute:function(){var m;h._RF.push({},"97f21hkFElI0YdBDCgAkt9+","Hint",void 0);var C=o.ccclass;n("Hint",C("Hint")(m=function(n){i(o,n);var h=t(o);function o(){var n;e(this,o);for(var i=arguments.length,t=new Array(i),r=0;r<i;r++)t[r]=arguments[r];return(n=h.call.apply(h,[this].concat(t))).hintLine=null,n.hintHand=null,n.isHintShown=!1,n}return r(o,[{key:"showHint",value:function(n,i){this.isHintShown||(this.isHintShown=!0,this.hintLine=this.createHintLine(),this.hintLine.active=!0,this.drawHintLine(this.hintLine,n),i&&this.showHand(n))}},{key:"drawHintLine",value:function(n,i){var t=n.getComponent(s);if(!t)throw new Error("drawHintLine: Graphics is null");t.clear(),t.moveTo(i[0].x,i[0].y);var e,r=a(i.slice(1));try{for(r.s();!(e=r.n()).done;){var h=e.value;t.lineTo(h.x,h.y)}}catch(n){r.e(n)}finally{r.f()}t.stroke()}},{key:"hideHint",value:function(){this.hintLine&&(this.hintLine.active=!1),this.hintHand&&(l.stopAllByTarget(this.hintHand),this.hintHand.active=!1)}},{key:"showHand",value:function(n){var i=this;this.hintHand=this.createHintHand(n),d.load(w.IC_HAND_FRAME,u,(function(t,e){if(t)return console.error(t),void i.removeHintHand();i.addSpriteToHand(e),i.runHandHintAnimation(n)}))}},{key:"addSpriteToHand",value:function(n){var i;this.hintHand&&(this.hintHand.addComponent(H).spriteFrame=n,null===(i=this.hintHand.getComponent(c))||void 0===i||i.setAnchorPoint(.15,.9))}},{key:"runHandHintAnimation",value:function(n){var i=this;if(this.hintHand){for(var t=v(this.hintHand),e=[],r=1;r<n.length;r++){var a=n[r-1],h=n[r],o=a.x-h.x,s=a.y-h.y,l=Math.sqrt(o*o+s*s),d=v(this.hintHand).to(l/250,{position:new f(h.x,h.y)});e.push(d)}var u=v(this.hintHand).delay(.5).call((function(){i.hintHand&&i.hintHand.setPosition(n[0].x,n[0].y)}));e.push(u),t.sequence.apply(t,e).repeatForever().start()}}},{key:"getIsHintShow",value:function(){return this.isHintShown}},{key:"reset",value:function(){this.isHintShown=!1,this.removeHintLine(),this.removeHintHand()}},{key:"createHintLine",value:function(){if(this.hintLine)return this.hintLine;var n=new p,i=n.addComponent(s);i.lineWidth=10,i.lineCap=s.LineCap.ROUND,i.lineJoin=s.LineJoin.ROUND;var t=new y;return y.fromHEX(t,"#fc03036d"),i.strokeColor=t,this.node.insertChild(n,0),n}},{key:"createHintHand",value:function(n){if(this.hintHand)return this.hintHand;var i=new p;return i.setPosition(n[0].x,n[0].y),this.hintHand=i,this.node.addChild(i),i}},{key:"removeHintLine",value:function(){this.hintLine&&(this.hintLine.destroyAllChildren(),this.hintLine.removeAllChildren(),this.hintLine=null)}},{key:"removeHintHand",value:function(){this.hintHand&&(this.hintHand.destroyAllChildren(),this.hintHand.removeAllChildren(),this.hintHand=null)}}]),o}(L))||m);h._RF.pop()}}}));

System.register("chunks:///_virtual/InkCapacityController.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,t,r,l,a,u,i;return{setters:[function(e){n=e.inherits,t=e.createSuper,r=e.classCallCheck,l=e.createClass},function(e){a=e.cclegacy,u=e._decorator,i=e.Component}],execute:function(){var c;a._RF.push({},"8d3c7nuQGRNgpZcqAOCJY6O","InkCapacityController",void 0);var v=u.ccclass;e("InkCapacityController",v("InkCapacityController")(c=function(e){n(u,e);var a=t(u);function u(){var e;r(this,u);for(var n=arguments.length,t=new Array(n),l=0;l<n;l++)t[l]=arguments[l];return(e=a.call.apply(a,[this].concat(t))).maxInkLevel=0,e.currentInkLevel=0,e}return l(u,[{key:"init",value:function(e){var n=this.getDrawLength(e);this.maxInkLevel=n,this.currentInkLevel=n}},{key:"getCurrentInkLevel",value:function(){return Math.floor(this.currentInkLevel)}},{key:"addInkLevel",value:function(e){var n=this.currentInkLevel+e;this.setInkLevel(n)}},{key:"removeInkLevel",value:function(e){var n=this.currentInkLevel-e;this.setInkLevel(n)}},{key:"setInkLevel",value:function(e){this.currentInkLevel=e,this.currentInkLevel<0?this.currentInkLevel=0:this.currentInkLevel>this.maxInkLevel&&(this.currentInkLevel=this.maxInkLevel)}},{key:"isInkEmpty",value:function(){return this.currentInkLevel<=0}},{key:"getMaxInkLevel",value:function(){return this.maxInkLevel}},{key:"getInkLevelPercentage",value:function(){return this.currentInkLevel/this.maxInkLevel*100}},{key:"getStarRating",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,n=this.maxInkLevel/e,t=Math.ceil(this.getCurrentInkLevel()/n);return 0==t?1:t}},{key:"getDrawLength",value:function(e){for(var n=0,t=1;t<e.length;t++){var r=e[t-1],l=e[t],a=r.x-l.x,u=r.y-l.y;n+=Math.sqrt(a*a+u*u)}return 3*n}}]),u}(i))||c);a._RF.pop()}}}));

System.register("chunks:///_virtual/InputController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEvents2.ts"],(function(n){var e,t,o,i,r,s,u,c,a,h;return{setters:[function(n){e=n.inherits,t=n.createSuper,o=n.classCallCheck,i=n.createClass},function(n){r=n.cclegacy,s=n._decorator,u=n.sys,c=n.Node,a=n.Component},function(n){h=n.default}],execute:function(){var d;r._RF.push({},"014cbNey8JEV4aPhDm9R5W4","InputController",void 0);var l=s.ccclass;n("InputController",l("InputController")(d=function(n){e(s,n);var r=t(s);function s(){var n;o(this,s);for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return(n=r.call.apply(r,[this].concat(t))).pointerDownOutSideCanvas=!1,n.handleElementPointerDown=function(){n.pointerDownOutSideCanvas=!0},n.handleElementPointerUp=function(e){n.onTouchEnd(),n.pointerDownOutSideCanvas=!1},n.onTouchStart=function(e){n.node.scene.emit(h.GAME_START,{pointer:e})},n.onTouchMove=function(e){if(n.pointerDownOutSideCanvas)return n.node.scene.emit(h.GAME_START,{pointer:e}),void(n.pointerDownOutSideCanvas=!1);n.node.scene.emit(h.DRAWING,{pointer:e})},n.onTouchEnd=function(e){n.node.scene.emit(h.BEE_ATTACK)},n}return i(s,[{key:"onLoad",value:function(){this.listenInputEvents()}},{key:"listenInputEvents",value:function(){u.os==u.OS.WINDOWS||u.os==u.OS.OSX?(document.addEventListener("pointerup",this.handleElementPointerUp),document.addEventListener("pointerdown",this.handleElementPointerDown),this.node.on(c.EventType.MOUSE_DOWN,this.onTouchStart),this.node.on(c.EventType.MOUSE_MOVE,this.onTouchMove),this.node.on(c.EventType.MOUSE_UP,this.onTouchEnd)):(this.node.on(c.EventType.TOUCH_START,this.onTouchStart),this.node.on(c.EventType.TOUCH_MOVE,this.onTouchMove),this.node.on(c.EventType.TOUCH_CANCEL,this.onTouchEnd),this.node.on(c.EventType.TOUCH_END,this.onTouchEnd))}}]),s}(a))||d);r._RF.pop()}}}));

System.register("chunks:///_virtual/Level.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Star.ts","./MapScreen.ts"],(function(e){var t,i,r,o,n,l,a,c,u,h,s,p,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inherits,r=e.createSuper,o=e.classCallCheck,n=e.initializerDefineProperty,l=e.assertThisInitialized,a=e.createClass},function(e){c=e.cclegacy,u=e._decorator,h=e.Component,s=e.Label},function(e){p=e.Star},function(e){f=e.MapScreen}],execute:function(){var v,d,b,m,g,y,w,S,L,k,C,E,z,B,I;c._RF.push({},"bbd34WHFjJCmq50BjGX3b5M","Level",void 0);var M=u.ccclass,R=u.property;e("Level",(v=M("Level"),d=R(h),b=R(p),m=R(p),g=R(p),y=R(s),w=R(h),v((k=t((L=function(e){i(c,e);var t=r(c);function c(){var e;o(this,c);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r)),n(e,"mapCompleteBg",k,l(e)),n(e,"leftStar",C,l(e)),n(e,"midStar",E,l(e)),n(e,"rightStar",z,l(e)),n(e,"levelLabel",B,l(e)),n(e,"lockImage",I,l(e)),e.level=0,e}return a(c,[{key:"onLoad",value:function(){this.button=this.button,this.opacity=this.opacity,this.validateRequiredComponents()}},{key:"validateRequiredComponents",value:function(){if(!this.mapCompleteBg)throw new Error("Level: mapCompleteBg not found");if(!this.leftStar)throw new Error("Level: leftStar not found");if(!this.midStar)throw new Error("Level: midStar not found");if(!this.rightStar)throw new Error("Level: rightStar not found");if(!this.levelLabel)throw new Error("Level: levelLabel not found");if(!this.lockImage)throw new Error("Level: lockImage not found");if(!this.button)throw new Error("Level: button not found");if(!this.opacity)throw new Error("Level: opacity not found")}},{key:"hide",value:function(){this.opacity.opacity=0,this.button.interactable=!1}},{key:"showLevel",value:function(e){this.opacity.opacity=255,this.level=e,this.levelLabel.string="".concat(e)}},{key:"lock",value:function(){this.mapCompleteBg.node.active=!1,this.lockImage.node.active=!0,this.leftStar.hide(),this.midStar.hide(),this.rightStar.hide(),this.button.interactable=!1}},{key:"unlock",value:function(e){this.mapCompleteBg.node.active=!0,this.lockImage.node.active=!1;var t=[this.leftStar,this.midStar,this.rightStar];t.forEach((function(e){e.hide()}));for(var i=0;i<e;i++)t[i].show();this.button.interactable=!0}},{key:"handleClickLevel",value:function(){var e=this.node.scene.getComponentInChildren(f);if(!e)throw new Error("Level: mapScreen not found");e.onClickLevelHandler(this.level)}}]),c}(h)).prototype,"mapCompleteBg",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(L.prototype,"leftStar",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(L.prototype,"midStar",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(L.prototype,"rightStar",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(L.prototype,"levelLabel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(L.prototype,"lockImage",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=L))||S));c._RF.pop()}}}));

System.register("chunks:///_virtual/LevelProgressBar.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Sound.ts","./Star.ts"],(function(r){var t,e,s,i,o,a,n,l,u,h,p,g,S,c;return{setters:[function(r){t=r.applyDecoratedDescriptor,e=r.inherits,s=r.createSuper,i=r.classCallCheck,o=r.initializerDefineProperty,a=r.assertThisInitialized,n=r.createClass},function(r){l=r.cclegacy,u=r._decorator,h=r.ProgressBar,p=r.find,g=r.Component},function(r){S=r.Sound},function(r){c=r.Star}],execute:function(){var f,d,v,m,y,P,B,w,b,k,A;l._RF.push({},"09f0bRvi+1OQZiIGBFqdNzq","LevelProgressBar",void 0);var L=u.ccclass,z=u.property;r("LevelProgressBar",(f=L("LevelProgressBar"),d=z(h),v=z(c),m=z(c),y=z(c),f((w=t((B=function(r){e(l,r);var t=s(l);function l(){var r;i(this,l);for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return r=t.call.apply(t,[this].concat(s)),o(r,"progressBar",w,a(r)),o(r,"leftStar",b,a(r)),o(r,"midStar",k,a(r)),o(r,"rightStar",A,a(r)),r.toProgress=1,r.progressStep=0,r}return n(l,[{key:"onLoad",value:function(){this.validateRequiredComponents()}},{key:"validateRequiredComponents",value:function(){if(!this.progressBar)throw new Error("LevelProgressBar: ProgressBar not found");if(!this.leftStar)throw new Error("LevelProgressBar: LeftStar not found");if(!this.midStar)throw new Error("LevelProgressBar: MidStar not found");if(!this.rightStar)throw new Error("LevelProgressBar: RightStar not found")}},{key:"start",value:function(){this.toProgress=1,this.progressStep=0,this.runStartsAnimation()}},{key:"update",value:function(){this.progressBar.progress-this.progressStep<this.toProgress?this.progressBar.progress!=this.toProgress&&(this.progressBar.progress=this.toProgress):this.progressBar.progress-=this.progressStep}},{key:"runStartsAnimation",value:function(){this.leftStar.show(),this.midStar.show(),this.rightStar.show(),this.runStarAnimation(this.leftStar),this.runStarAnimation(this.midStar),this.runStarAnimation(this.rightStar)}},{key:"runStarAnimation",value:function(r){r.resetPosition(),r.playAnimation()}},{key:"stopStarAnimation",value:function(r){r.isAppear&&(r.hide(),r.stopAnimation(),r.resetPosition(),this.playSound("sounds/lost-star-in-gameplay"))}},{key:"setProgress",value:function(r){this.toProgress=r/100,this.progressStep=(this.progressBar.progress-this.toProgress)/60*16}},{key:"setStars",value:function(r){switch(r){case 1:this.stopStarAnimation(this.rightStar),this.stopStarAnimation(this.midStar);break;case 2:this.stopStarAnimation(this.rightStar);break;default:this.runStartsAnimation()}}},{key:"reset",value:function(){this.progressBar.progress=1}},{key:"playSound",value:function(r){var t,e;null===(t=p("Sound"))||void 0===t||null===(e=t.getComponent(S))||void 0===e||e.play(r)}}]),l}(g)).prototype,"progressBar",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=t(B.prototype,"leftStar",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(B.prototype,"midStar",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(B.prototype,"rightStar",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=B))||P));l._RF.pop()}}}));

System.register("chunks:///_virtual/LevelRow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Level.ts"],(function(e){var t,l,r,i,n,a,o,s,v,u,c,f,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,l=e.inherits,r=e.createSuper,i=e.classCallCheck,n=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.createClass},function(e){s=e.cclegacy,v=e._decorator,u=e.Prefab,c=e.instantiate,f=e.Component},function(e){h=e.Level}],execute:function(){var d,p,L,b,y;s._RF.push({},"41251lOicdCvobjHPW9e2O/","LevelRow",void 0);var m=v.ccclass,g=v.property,w=globalThis.game.player;e("LevelRow",(d=m("LevelRow"),p=g(u),d((y=t((b=function(e){l(s,e);var t=r(s);function s(){var e;i(this,s);for(var l=arguments.length,r=new Array(l),o=0;o<l;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),n(e,"levelPrefab",y,a(e)),e.numberOfLevels=0,e.idx=0,e}return o(s,[{key:"onLoad",value:function(){this.validateRequiredComponents()}},{key:"validateRequiredComponents",value:function(){if(!this.levelPrefab)throw new Error("LevelRow: levelPrefab not found")}},{key:"initLevels",value:function(e){this.numberOfLevels=e;for(var t=0;t<this.numberOfLevels;t++){var l=c(this.levelPrefab);this.node.addChild(l)}}},{key:"updateLevels",value:function(){var e=this.getComponentsInChildren(h),t=this.numberOfLevels*this.idx+1,l=w.getGameData(),r=l.totalLevel;e.forEach((function(e){if(t>r)e.hide();else{var i=l.levelProgress[t];e.showLevel(t),void 0===i?e.lock():e.unlock(i),t++}}))}}]),s}(f)).prototype,"levelPrefab",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=b))||L));s._RF.pop()}}}));

System.register("chunks:///_virtual/Line.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseObject.ts","./World.ts"],(function(t){var i,e,n,o,s,r,a,l,c,h,u,d;return{setters:[function(t){i=t.inherits,e=t.createSuper,n=t.classCallCheck,o=t.createClass},function(t){s=t.cclegacy,r=t._decorator,a=t.Graphics,l=t.CircleCollider2D,c=t.Vec2,h=t.math},function(t){u=t.BaseObject},function(t){d=t.LINE_COLLIDER_RADIUS}],execute:function(){var p;s._RF.push({},"5f264eibqlEH7PqbJQqHTF7","Line",void 0);var f=r.ccclass;t("Line",f("Line")(p=function(t){i(r,t);var s=e(r);function r(){var t;n(this,r);for(var i=arguments.length,e=new Array(i),o=0;o<i;o++)e[o]=arguments[o];return(t=s.call.apply(s,[this].concat(e))).points=[],t.colliderInterval=16.5,t.colliders=[],t.colliderTag=0,t}return o(r,[{key:"onLoad",value:function(){this.graphic=this.getComponent(a),this.validateRequiredComponents()}},{key:"validateRequiredComponents",value:function(){if(!this.graphic)throw new Error("Line: Graphics not found")}},{key:"init",value:function(){this.points=[],this.colliders=[],this.colliderTag=0}},{key:"drawTo",value:function(t,i,e,n){this.graphic.moveTo(t,i),this.graphic.lineTo(e,n),this.graphic.stroke()}},{key:"addBody",value:function(t,i){var e=this.node.addComponent(l);e.offset=new c(t,i),e.radius=d,e.density=1,e.tag=this.colliderTag,e.apply(),this.colliderTag+=1,this.colliders.push(e)}},{key:"storePoints",value:function(t,i){this.points.push(new c(t,i))}},{key:"addPhysics",value:function(){for(var t=this,i=0;i<this.points.length-1;i++){var e=this.points[i],n=this.points[i+1],o=this.getInternalPoints(e,n);if(i<this.points.length-2){var s=o.pop();if(!s)return void console.warn("Line: lastPoint not found");this.points[i+1]=s}o.forEach((function(i){t.addBody(i.x,i.y)}))}var r=this.points[this.points.length-1];r&&this.addBody(r.x,r.y)}},{key:"getInternalPoints",value:function(t,i){for(var e=i.x-t.x,n=i.y-t.y,o=new c(e,n).normalize().multiplyScalar(this.colliderInterval),s=h.Vec2.distance(t,i),r=Math.floor(s/this.colliderInterval),a=[t],l=0;l<r;l++){var u=a[a.length-1].clone().add(o);a.push(u)}return a}}]),r}(u))||p);s._RF.pop()}}}));

System.register("chunks:///_virtual/LineDrawer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameObject.ts","./CollisionDetectLine.ts","./Line.ts"],(function(e){var i,n,t,r,o,l,a,s,c,u,h,f,p,d,v,y,C,L,P,g,m,w,D,b,x,k,W,A;return{setters:[function(e){i=e.applyDecoratedDescriptor,n=e.inherits,t=e.createSuper,r=e.classCallCheck,o=e.initializerDefineProperty,l=e.assertThisInitialized,a=e.createClass,s=e.toConsumableArray},function(e){c=e.cclegacy,u=e._decorator,h=e.Prefab,f=e.Color,p=e.CCInteger,d=e.instantiate,v=e.Node,y=e.Graphics,C=e.Vec2,L=e.PhysicsSystem2D,P=e.ERaycast2DType,g=e.math,m=e.PolygonCollider2D,w=e.Vec3,D=e.Intersection2D,b=e.CircleCollider2D,x=e.Component},function(e){k=e.ObjectNames},function(e){W=e.CollisionDetectLine},function(e){A=e.Line}],execute:function(){var z,O,M,T,F,G,I,N,R,S,_,j,B,V,E,H;c._RF.push({},"00eeawrUitLxLgSANaGHhcv","LineDrawer",void 0);var q=u.ccclass,U=u.property,J=u.executionOrder;e("LineDrawer",(z=q("LineDrawer"),O=J(3),M=U(h),T=U(h),F=U(f),G=U(f),I=U(p),N=U(p),z(R=O((_=i((S=function(e){n(c,e);var i=t(c);function c(){var e;r(this,c);for(var n=arguments.length,t=new Array(n),a=0;a<n;a++)t[a]=arguments[a];return e=i.call.apply(i,[this].concat(t)),o(e,"linePrefab",_,l(e)),o(e,"collisionDetectLinePrefab",j,l(e)),o(e,"strokeColor",B,l(e)),o(e,"transparentColor",V,l(e)),o(e,"lineWidth",E,l(e)),o(e,"minDistance",H,l(e)),e.lastPointer=null,e.currentLine=null,e.collisionDetectLine=null,e.isColliding=!1,e}return a(c,[{key:"beginDraw",value:function(e){this.createLine(),this.createCollisionDetectLine(),this.initLine(),this.lastPointer=null,this.isColliding=!1,this.draw(e)}},{key:"createLine",value:function(){var e=d(this.linePrefab);if(e instanceof v){e.name=k.LINE;var i=e.getComponent(y);i&&(i.strokeColor=this.strokeColor,i.lineWidth=this.lineWidth,this.node.addChild(e),this.currentLine=e)}}},{key:"createCollisionDetectLine",value:function(){var e=d(this.collisionDetectLinePrefab);if(e instanceof v){var i=e.getComponent(y);i&&(i.strokeColor=this.transparentColor,i.lineWidth=this.lineWidth,this.node.addChild(e),this.collisionDetectLine=e)}}},{key:"initLine",value:function(){var e,i=null===(e=this.currentLine)||void 0===e?void 0:e.getComponent(A);i&&(i.sleep(),i.init())}},{key:"draw",value:function(e){var i=this;if(e&&this.currentLine&&this.collisionDetectLine){var n=this.currentLine.getComponent(A);if(n){var t=this.collisionDetectLine.getComponent(W);if(t)if(this.isPointOverlapWithMap(e)){if(this.lastPointer)if(this.isColliding)t.drawFromTo(this.lastPointer,e);else{var r,o=this.isCurrentLineOverlapWithMap(e,this.lastPointer);o.sort((function(e,n){return null==i.lastPointer?0:C.distance(e.point,i.lastPointer)-C.distance(n.point,i.lastPointer)}));var l=null===(r=o[0])||void 0===r?void 0:r.point;if(!l)return;this.isColliding=!0;var a=new C(l.x-this.lastPointer.x,l.y-this.lastPointer.y).normalize();l.x-=6*a.x*1.4,l.y-=6*a.y*1.4,n.drawTo(this.lastPointer.x,this.lastPointer.y,l.x,l.y),n.storePoints(l.x,l.y),this.lastPointer=l}}else if(this.lastPointer&&this.isCurrentLineOverlapWithMap(e,this.lastPointer).length>0)t.drawFromTo(this.lastPointer,e);else{if(!this.lastPointer){this.lastPointer=e.clone();var s=e.x,c=e.y;n.storePoints(s,c)}var u=this.lastPointer,h=u.x,f=u.y,p=e.x,d=e.y,v=h-p,L=f-d;if(!(v*v+L*L<this.minDistance*this.minDistance)){var P=Math.sqrt(v*v+L*L);this.lastPointer=e.clone(),n.drawTo(h,f,p,d),n.storePoints(p,d);var g=this.collisionDetectLine.getComponent(y);return null==g||g.clear(),this.isColliding=!1,P}}}}}},{key:"isPointOverlapWithMap",value:function(e){return this.getCollision(e).length>0}},{key:"isCurrentLineOverlapWithMap",value:function(e,i){var n=this.getParallelLines(i,e,6),t=n.leftLine,r=n.rightLine,o=L.instance.raycast(i,e,P.All).filter((function(e){return 0==e.collider.sensor})).filter((function(e){var i;return"rope"!==(null===(i=e.collider.node.parent)||void 0===i?void 0:i.name)})),l=L.instance.raycast(t.p1,t.p2,P.All).filter((function(e){return 0==e.collider.sensor})).filter((function(e){var i;return"rope"!==(null===(i=e.collider.node.parent)||void 0===i?void 0:i.name)})),a=L.instance.raycast(r.p1,r.p2,P.All).filter((function(e){return 0==e.collider.sensor})).filter((function(e){var i;return"rope"!==(null===(i=e.collider.node.parent)||void 0===i?void 0:i.name)}));return[].concat(s(o),s(l),s(a))}},{key:"endDraw",value:function(){if(this.currentLine&&this.collisionDetectLine){var e=this.currentLine.getComponent(A);if(e){e.addPhysics(),e.wake();var i=this.collisionDetectLine.getComponent(y);i?i.clear():console.warn("Graphics component not found")}else console.warn("Line component not found")}}},{key:"clearLines",value:function(){this.node.destroyAllChildren(),this.node.removeAllChildren()}},{key:"getParallelLines",value:function(e,i,n){var t=i.x-e.x,r=i.y-e.y,o=g.Vec2.distance(e,i),l=t/o,a=r/o,s=new C(e.x-a*n,e.y+l*n),c=new C(e.x+a*n,e.y-l*n);return{leftLine:{p1:s,p2:new C(s.x+t,s.y+r)},rightLine:{p1:c,p2:new C(c.x+t,c.y+r)}}}},{key:"getCollision",value:function(e){return L.instance.testAABB(new g.Rect(e.x-6,e.y-6,12,12)).filter((function(e){return 0==e.sensor})).filter((function(e){var i;return"rope"!==(null===(i=e.node.parent)||void 0===i?void 0:i.name)})).filter((function(i){if(i instanceof m){var n=new w;return i.node.inverseTransformPoint(n,new w(e.x,e.y)),D.polygonCircle(i.points,new C(n.x,n.y),6)}if(i instanceof b){var t=i.node.getWorldPosition(),r=t.x,o=t.y;return D.circleCircle(new C(r,o+i.worldPosition.y),i.radius,new C(e.x,e.y),6)}return!i.sensor}))}}]),c}(x)).prototype,"linePrefab",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=i(S.prototype,"collisionDetectLinePrefab",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=i(S.prototype,"strokeColor",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new f}}),V=i(S.prototype,"transparentColor",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new f}}),E=i(S.prototype,"lineWidth",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 8}}),H=i(S.prototype,"minDistance",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),R=S))||R)||R));c._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingSceneTransition.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,a,r,i,o,s,c,l,u,d,p,v,f,g,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inherits,a=e.createSuper,r=e.classCallCheck,i=e.initializerDefineProperty,o=e.assertThisInitialized,s=e.createClass},function(e){c=e.cclegacy,l=e._decorator,u=e.Canvas,d=e.Node,p=e.director,v=e.instantiate,f=e.Director,g=e.Animation,h=e.Component}],execute:function(){var y,C,T,m,F,E;c._RF.push({},"56b92F9LoxNs5aCgvw+tkq6","LoadingSceneTransition",void 0);var L=l.ccclass,N=l.requireComponent,S=l.property;e("LoadingSceneTransition",(y=L("LoadingSceneTransition"),C=N([u]),T=S([d]),y(m=C((E=t((F=function(e){n(c,e);var t=a(c);function c(){var e;r(this,c);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),i(e,"targets",E,o(e)),e.realTargets=[],e}return s(c,[{key:"onLoad",value:function(){p.addPersistRootNode(this.node)}},{key:"start",value:function(){var e=this;this.realTargets=this.targets.map((function(t){var n=v(t);return n.setParent(e.node),n.active=!1,n})),p.once(f.EVENT_AFTER_SCENE_LAUNCH,(function(){e.playFadeOutAnimationClip()}))}},{key:"playFadeOutAnimationClip",value:function(){var e=this,t=0;this.realTargets.forEach((function(n){n.active=!0;var a=n.getComponent(g);if(a){if(!a.clips.some((function(e){return"FadeOut"===(null==e?void 0:e.name)})))return e.node.destroy(),void console.warn("Not have FadeOut clip");a.play("FadeOut"),a.once(g.EventType.FINISHED,(function(){++t===e.realTargets.length&&e.node.destroy()}))}}))}}]),c}(h)).prototype,"targets",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=F))||m)||m));c._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseScreen.ts"],(function(e){var n,a,t,o,c,i,l,r;return{setters:[function(e){n=e.inherits,a=e.createSuper,t=e.classCallCheck,o=e.createClass},function(e){c=e.cclegacy,i=e._decorator,l=e.Component},function(e){r=e.BaseScreen}],execute:function(){var s;c._RF.push({},"61985gSEDBMY6nVNc9Q1D6W","LoadingScreen",void 0);var u=i.ccclass,d=i.disallowMultiple,v=i.requireComponent,S=GameCore.Events,E=globalThis.game.event;e("LoadingScreen",u("LoadingScreen")(s=d(s=v(r)(s=function(e){n(i,e);var c=a(i);function i(){var e;t(this,i);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=c.call.apply(c,[this].concat(a))).handleOnCloseScreen=function(){E.emit(S.CLOSE_SCREEN,{screenName:e.node.name})},e}return o(i,[{key:"__preload",value:function(){this.getBaseScreen(),this.listenScreenEvents()}},{key:"getBaseScreen",value:function(){var e=this.getComponent(r);e?this.screen=e:console.warn("LoadingScreen: BaseScreen not found")}},{key:"onLoad",value:function(){this.enabled=!1}},{key:"listenScreenEvents",value:function(){var e=this;E.on(S.OPENING_SCREEN,(function(n){e.validateEventPayload(n)&&(e.enabled=!0)})),E.on(S.OPENED_SCREEN,(function(n){e.validateEventPayload(n)&&e.open()})),E.on(S.CLOSING_SCREEN,(function(n){e.validateEventPayload(n)&&e.unscheduleAllCallbacks()})),E.on(S.CLOSED_SCREEN,(function(n){e.validateEventPayload(n)&&(e.enabled=!1)}))}},{key:"validateEventPayload",value:function(e){return e.screenName===this.node.name}},{key:"open",value:function(){if(this.enabled){var e=this.screen.data.duration;e>0&&this.scheduleOnce(this.handleOnCloseScreen,e)}}}]),i}(l))||s)||s)||s);c._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ScreenKeys.ts","./BaseState.ts","./ReadyState.ts"],(function(e){var a,n,t,l,i,o,u,c;return{setters:[function(e){a=e.inherits,n=e.createSuper,t=e.classCallCheck,l=e.createClass},function(e){i=e.cclegacy},function(e){o=e.default},function(e){u=e.default},function(e){c=e.default}],execute:function(){i._RF.push({},"a8496IbdA1EnY7sv4ApuaJW","LoadingState",void 0);var d=GameCore.Events,r=globalThis.game.event;e("default",function(e){a(u,e);var i=n(u);function u(e){var a;return t(this,u),(a=i.call(this,e)).handleMapLoaded=function(e,n){if(e)console.error("Failed to load level",e);else{var t=n.json;a.updateGameData({levelData:t});var l,i,o=a.data.level;if(o)null===(l=a.game)||void 0===l||null===(i=l.gameMap)||void 0===i||i.loadLevel(o+1);a.closeLoadingScreen(),a.ready()}},a.stopHint(),a.loadGameMap(),a.updateLevelText(),a.showLoadingScreen(),a}return l(u,[{key:"load",value:function(){}},{key:"ready",value:function(){var e=new c(this.manager);this.manager.change(e)}},{key:"draw",value:function(){}},{key:"attack",value:function(){}},{key:"escape",value:function(){}},{key:"death",value:function(){}},{key:"finish",value:function(){}},{key:"update",value:function(){}},{key:"showLoadingScreen",value:function(){r.emit(d.OPEN_SCREEN,{screenName:o.LOADING_SCREEN,screenData:{duration:0}})}},{key:"closeLoadingScreen",value:function(){r.emit(d.CLOSE_SCREEN,{screenName:o.LOADING_SCREEN})}},{key:"stopHint",value:function(){var e,a;null===(e=this.game)||void 0===e||null===(a=e.hint)||void 0===a||a.hideHint()}},{key:"loadGameMap",value:function(){var e,a,n=this.data.level;if(!n)throw new Error("Level is not defined");null===(e=this.game)||void 0===e||null===(a=e.gameMap)||void 0===a||a.loadLevel(n,this.handleMapLoaded)}},{key:"updateLevelText",value:function(){var e,a=this.data.level;a&&(null===(e=this.game)||void 0===e||e.uiManager.setLevelText(a))}}]),u}(u));i._RF.pop()}}}));

System.register("chunks:///_virtual/LoadScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Music.ts","./SceneManager.ts","./SceneKeys.ts","./en.json"],(function(e){var t,n,a,s,o,c,r,i,u,l,d,h,v,f,p;return{setters:[function(e){t=e.inherits,n=e.createSuper,a=e.classCallCheck,s=e.createClass,o=e.asyncToGenerator,c=e.regeneratorRuntime},function(e){r=e.cclegacy,i=e._decorator,u=e.find,l=e.Label,d=e.Component},function(e){h=e.Music},function(e){v=e.SceneManager},function(e){f=e.default},function(e){p=e.default}],execute:function(){var g;r._RF.push({},"254d3fxjCBGlbC4XNKvKhF6","LoadScene",void 0);var C=i.ccclass,y=i.disallowMultiple,m=i.requireComponent,S=GameCore,x=S.Plugins,L=S.Utils,k=S.Events,D=globalThis.game,E=D.ads,b=D.event,w=D.player,A=D.analytics,P=D.context,M=D.language;e("LoadScene",C("LoadScene")(g=y(g=m(v)(g=function(e){t(g,e);var r,i,d=n(g);function g(){var e;a(this,g);for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return(e=d.call.apply(d,[this].concat(n))).isProgressContextData=!1,e.handleStartProcessContextData=function(){e.startProcessContextData()},e.handleSubscribeBot=function(){L.Facebook.subscribeBot().catch((function(e){console.warn("Utils.Facebook.subscribeBot",e)}))},e.handleSwitchSceneEvent=function(t){var n=t.sceneName,a=t.sceneData;e.scene.switchScene(n,a)},e}return s(g,[{key:"__preload",value:function(){this.setupGameData(),this.setupLanguage(),this.scene=this.getComponent(v),this.validateRequiredComponents(),this.scene.listenSwitchSceneEvent(this.handleSwitchSceneEvent)}},{key:"validateRequiredComponents",value:function(){if(!this.scene)throw new Error("GameScene: SceneManager not found")}},{key:"onLoad",value:function(){this.runLoadingTextAnimation(),this.scene.preloadScene(f.GAME_SCENE),b.once(k.CORE_READY,this.handleStartProcessContextData)}},{key:"start",value:function(){this.playBackgroundMusic(),A.event(x.Analytics.Events.LOAD_COMPLETE),b.getEventEmitCount(k.CORE_READY)>0&&!this.isProgressContextData&&this.startProcessContextData(),this.preloadAds(),this.scheduleOnce(this.handleSubscribeBot,.5)}},{key:"startProcessContextData",value:(i=o(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.__fbInstantLoadingCount=100,e.next=3,FBInstant.startGameAsync();case 3:this.isProgressContextData=!0,P.processContextData().catch((function(e){console.error("ContextPlugin.processContextData",e)}));case 5:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"playBackgroundMusic",value:function(){var e,t=null===(e=u("Music"))||void 0===e?void 0:e.getComponent(h);t&&(t.makePersistent(),t.play("sounds/bg-music",{volume:.5}))}},{key:"runLoadingTextAnimation",value:function(){var e=0,t=u("Canvas/Container/LoadingText");if(t){var n=t.getComponent(l);if(n){var a=n.string;this.schedule((function(){n.string=a+".".repeat(e++>2?e=0:e)}),.5)}}}},{key:"setupGameData",value:function(){var e=w.getGameData();if(e){w.setGameData({level:e.level||1,totalLevel:325===e.totalLevel?e.totalLevel:325,passAllLevels:e.passAllLevels||!1,levelProgress:e.levelProgress||{}})}}},{key:"setupLanguage",value:(r=o(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:M.add("en",p),M.choose("en");case 2:case"end":return e.stop()}}),e)}))),function(){return r.apply(this,arguments)})},{key:"preloadAds",value:function(){E.preloadInterstitialAdAsync().catch((function(){})),E.preloadRewardedVideoAsync().catch((function(){}))}}]),g}(d))||g)||g)||g);r._RF.pop()}}}));

System.register("chunks:///_virtual/Localize.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,o,r,i,a,s,l,u,c,p,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inherits,o=e.createSuper,r=e.classCallCheck,i=e.initializerDefineProperty,a=e.assertThisInitialized,s=e.createClass},function(e){l=e.cclegacy,u=e._decorator,c=e.Label,p=e.Font,h=e.Component}],execute:function(){var d,y,f,g,v,b,k,F,L,C;l._RF.push({},"bce15LcVrxOfYMa9rbXN/qi","Localize",void 0);var m=u.ccclass,w=u.property,T=u.requireComponent,E=u.executeInEditMode,N=u.disallowMultiple,_=globalThis.game,z=_.language,A=_.event,D=GameCore.Events;e("Localize",(d=m("Localize"),y=T(c),f=E(!0),g=w({visible:!0}),v=w({group:{name:"Fonts",id:"fonts",displayOrder:1},type:p}),b=w({group:{name:"Fonts",id:"fonts",displayOrder:2},type:p}),d(k=N(k=y(k=f((t((F=function(e){n(l,e);var t=o(l);function l(){var e;r(this,l);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o)))._key="",i(e,"enFont",L,a(e)),i(e,"ruFont",C,a(e)),e.handleLanguageChanged=function(){e.updateTransToNode()},e}return s(l,[{key:"key",get:function(){return this._key},set:function(e){this._key=e,this.updateTransToNode()}},{key:"onLoad",value:function(){this.label=this.getComponent(c),this.validateRequiredComponents(),this.updateTransToNode()}},{key:"validateRequiredComponents",value:function(){if(!this.label)throw new Error("Label component is not found")}},{key:"start",value:function(){this.listenEvent()}},{key:"onDestroy",value:function(){A.off(D.LANGUAGE_CHANGED,this.handleLanguageChanged)}},{key:"listenEvent",value:function(){A.on(D.LANGUAGE_CHANGED,this.handleLanguageChanged)}},{key:"updateTransToNode",value:function(){if(this.node.active&&this.key)try{var e=z.getText(this.key),t=this.getFontByLang();this.label.font=t,this.label.string=e,this.node.emit("update-trans",e)}catch(e){console.warn(e)}}},{key:"getFontByLang",value:function(){if(!this.enFont||!this.ruFont)throw new Error("Font is not found");switch(z.getCurrentLocale()){case"en":return this.enFont;case"ru":return this.ruFont;default:return this.enFont}}}]),l}(h)).prototype,"key",[g],Object.getOwnPropertyDescriptor(F.prototype,"key"),F.prototype),L=t(F.prototype,"enFont",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(F.prototype,"ruFont",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=F))||k)||k)||k)||k));l._RF.pop()}}}));

System.register("chunks:///_virtual/LoseScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Music.ts","./Sound.ts","./ScreenKeys.ts","./GameEvents2.ts","./BaseScreen.ts"],(function(e){var t,n,o,i,a,r,s,l,c,u,d,v,f,h,y,p,m,S,g,C,E,b,k;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inherits,o=e.createSuper,i=e.classCallCheck,a=e.initializerDefineProperty,r=e.assertThisInitialized,s=e.asyncToGenerator,l=e.regeneratorRuntime,c=e.createClass},function(e){u=e.cclegacy,d=e._decorator,v=e.Label,f=e.Button,h=e.Node,y=e.tween,p=e.UIOpacity,m=e.find,S=e.Component},function(e){g=e.Music},function(e){C=e.Sound},function(e){E=e.default},function(e){b=e.default},function(e){k=e.BaseScreen}],execute:function(){var A,w,L,N,R,B,T,x,I,_,O,P;u._RF.push({},"15681ka+CZC45B7BdUhsnhF","LoseScreen",void 0);var M=d.ccclass,G=d.property,H=d.disallowMultiple,D=d.requireComponent,z=GameCore,F=z.Events,q=z.Configs,U=globalThis.game,Y=U.ads,j=U.language,K=U.event;e("LoseScreen",(A=M("LoseScreen"),w=D(k),L=G(v),N=G(f),R=G(h),B=G(h),A(T=H(T=w((I=t((x=function(e){n(u,e);var t=o(u);function u(){var e;i(this,u);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return e=t.call.apply(t,[this].concat(o)),a(e,"levelText",I,r(e)),a(e,"retryButton",_,r(e)),a(e,"titleRibbon",O,r(e)),a(e,"dogeHead",P,r(e)),e.showInterstitialAdAsync=s(l().mark((function t(){var n,o;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.screen.data.level,!(q.Gameplay.StartAdAtLevel>n)){t.next=3;break}return t.abrupt("return");case 3:if(Y.canbeShowInterstitialAd()){t.next=5;break}return t.abrupt("return");case 5:return t.prev=5,e.muteAudio(!0),o=j.getText("loading"),e.showNotificationScreen(o),t.next=11,Y.showInterstitialAdAsync();case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(5),console.error("showInterstitialAdAsync failed",t.t0);case 16:return t.prev=16,e.muteAudio(!1),e.closeNotificationScreen(),Y.preloadInterstitialAdAsync().catch((function(){})),t.finish(16);case 21:case"end":return t.stop()}}),t,null,[[5,13,16,21]])}))),e}return c(u,[{key:"__preload",value:function(){this.getBaseScreen(),this.listenScreenEvents()}},{key:"getBaseScreen",value:function(){var e=this.getComponent(k);e?this.screen=e:console.warn("LoseScreen: BaseScreen not found")}},{key:"onLoad",value:function(){this.enabled=!1,this.validateRequiredComponents()}},{key:"validateRequiredComponents",value:function(){if(!this.levelText)throw new Error("LoseScreen: levelText not found");if(!this.retryButton)throw new Error("LoseScreen: retryButton not found");if(!this.titleRibbon)throw new Error("LoseScreen: titleRibbon not found");if(!this.dogeHead)throw new Error("LoseScreen: dogeHead not found")}},{key:"listenScreenEvents",value:function(){var e=this;K.on(F.OPENING_SCREEN,(function(t){e.validateEventPayload(t)&&(e.enabled=!0)})),K.on(F.OPENED_SCREEN,(function(t){e.validateEventPayload(t)&&e.open()})),K.on(F.CLOSING_SCREEN,(function(t){e.validateEventPayload(t)&&e.unscheduleAllCallbacks()})),K.on(F.CLOSED_SCREEN,(function(t){e.validateEventPayload(t)&&(e.enabled=!1)}))}},{key:"validateEventPayload",value:function(e){return e.screenName===this.node.name}},{key:"open",value:function(){this.setLevelText(),this.resetState(),this.runOpenAnimation()}},{key:"close",value:function(){K.emit(F.CLOSE_SCREEN,{screenName:this.node.name})}},{key:"runOpenAnimation",value:function(){var e=this.createRibbonAnim(),t=this.createLevelAnim(),n=this.createDogeHeadAnim(),o=this.createRetryButtonAnim();e&&t&&n&&o?y({}).delay(.2).call((function(){return e.start()})).delay(.2).call((function(){return t.start()})).delay(.3).call((function(){return n.start()})).delay(.2).call((function(){return o.start()})).start():console.warn("LoseScreen: animations not found")}},{key:"resetState",value:function(){var e=this.retryButton.getComponent(p),t=this.titleRibbon.getComponent(p),n=this.levelText.getComponent(p),o=this.dogeHead.getComponent(p);e&&t&&n&&o?(e.opacity=0,t.opacity=0,n.opacity=0,o.opacity=0,this.dogeHead.setPosition(1e3,-19),this.retryButton.node.active=!1):console.warn("LoseScreen: UIOpacity of some component not found")}},{key:"setLevelText",value:function(){var e=this.screen.data.level,t=j.getText("level");this.levelText.string=t+" ".concat(e)}},{key:"createRibbonAnim",value:function(){var e=this.titleRibbon.getComponent(p);return e?y(e).set({opacity:0}).to(.3,{opacity:255},{easing:"smooth"}):null}},{key:"createLevelAnim",value:function(){var e=this.levelText.getComponent(p);return e?y(e).set({opacity:0}).to(.3,{opacity:255},{easing:"smooth"}):null}},{key:"createDogeHeadAnim",value:function(){var e=this.dogeHead.getComponent(p);return e?(this.dogeHead.setPosition(0,-97),y(e).set({opacity:0}).to(.3,{opacity:255},{easing:"smooth"})):null}},{key:"createRetryButtonAnim",value:function(){var e=this.retryButton.getComponent(p);return e?(this.retryButton.node.active=!0,y(e).set({opacity:0}).to(.4,{opacity:255},{easing:"smooth"}).call(this.showInterstitialAdAsync)):null}},{key:"showNotificationScreen",value:function(e){K.emit(GameCore.Events.OPEN_SCREEN,{screenName:E.NOTIFICATION_SCREEN,screenData:{message:e,isCloseButtonVisible:!1}})}},{key:"closeNotificationScreen",value:function(){K.emit(GameCore.Events.CLOSE_SCREEN,{screenName:E.NOTIFICATION_SCREEN})}},{key:"muteAudio",value:function(e){this.muteMusic(e),this.muteSound(e)}},{key:"getMusicComponent",value:function(){var e,t=null===(e=m("Music"))||void 0===e?void 0:e.getComponent(g);return t||(console.warn("LoseScreen: Music not found"),null)}},{key:"getSoundComponent",value:function(){var e,t=null===(e=m("Sound"))||void 0===e?void 0:e.getComponent(C);return t||(console.warn("LoseScreen: Sound not found"),null)}},{key:"muteMusic",value:function(e){var t=this.getMusicComponent();t&&t.mute(e)}},{key:"muteSound",value:function(e){var t=this.getSoundComponent();t&&t.mute(e)}},{key:"handleClickedRetryGame",value:function(){this.close(),this.node.scene.emit(b.GAME_REPLAY,{level:this.screen.data.level})}},{key:"handleClickedClose",value:function(){this.close(),this.node.scene.emit(b.GAME_REPLAY,{level:this.screen.data.level})}}]),u}(S)).prototype,"levelText",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(x.prototype,"retryButton",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(x.prototype,"titleRibbon",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(x.prototype,"dogeHead",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=x))||T)||T)||T));u._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./debug-view-runtime-control.ts","./GameCoreEditor.ts","./SceneManager.ts","./ScreenManager.ts","./BubbleAnimation.ts","./LoadingSceneTransition.ts","./AudioChannel.ts","./AudioPlayer.ts","./Music.ts","./Sound.ts","./ButtonReleased.ts","./OpacityToggler.ts","./SwitchButton.ts","./Localize.ts","./Vibrate.ts","./GameEvents.ts","./SceneKeys.ts","./ScreenKeys.ts","./SoundKeys.ts","./Gameplay.ts","./BaseObject.ts","./GameObjects.ts","./Hint.ts","./LineDrawer.ts","./MapLoader.ts","./BeeRole.ts","./BeeState.ts","./DogeState.ts","./GameEvents2.ts","./GameObject.ts","./Map.ts","./ObjectIds.ts","./PhysicsGroup.ts","./ResourcePaths.ts","./SpineAnimationName.ts","./World.ts","./InkCapacityController.ts","./InputController.ts","./DevToolsContainer.ts","./AirFan.ts","./Balloon.ts","./Bee.ts","./BaseBehavior.ts","./NormalBehavior.ts","./PusherBehavior.ts","./SeekingPathBehavior.ts","./Beehive.ts","./BigBeeBullet.ts","./BigBee.ts","./CollisionDetectLine.ts","./GraphicsPattern.ts","./Pattern.ts","./Poison.ts","./PoisonSurface.ts","./Water.ts","./Doge.ts","./Eye.ts","./Eyes.ts","./Line.ts","./Rope.ts","./StateManager.ts","./UIManager.ts","./AttackingState.ts","./BaseState.ts","./DeathState.ts","./DrawingState.ts","./EscapeState.ts","./FinishState.ts","./LoadingState.ts","./ReadyState.ts","./MapTransformer.ts","./GameScene.ts","./Clock.ts","./Header.ts","./LevelProgressBar.ts","./Star.ts","./LoadScene.ts","./TestScene.ts","./AudioDemo.ts","./FlowChallenge.ts","./FlowContext.ts","./FlowGroup.ts","./FlowSingle.ts","./FlowTournament.ts","./RewardedAdsTest.ts","./ScreenCongratulation.ts","./ScreenLevel.ts","./ScreenLoading.ts","./ScreenLose.ts","./ScreenNotification.ts","./ScreenSettings.ts","./ScreenWinning.ts","./BaseScreen.ts","./BackgroundMask.ts","./CongratulationScreen.ts","./LoadingScreen.ts","./LoseScreen.ts","./MapScreen.ts","./Level.ts","./LevelRow.ts","./NotificationScreen.ts","./SettingsScreen.ts","./WinningScreen.ts","./CocosUtils.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/Map.ts",["cc"],(function(p){var e;return{setters:[function(p){e=p.cclegacy}],execute:function(){e._RF.push({},"463cfEelRVL4KYgc4n5FJNz","Map",void 0);p("default",[{id:1,map:1,type:1},{id:2,map:2,type:1},{id:3,map:3,type:1},{id:4,map:8,type:1},{id:5,map:9,type:1},{id:6,map:16,type:1},{id:7,map:4,type:1},{id:8,map:7,type:1},{id:9,map:6,type:1},{id:10,map:18,type:1},{id:11,map:10,type:2},{id:12,map:11,type:2},{id:13,map:12,type:2},{id:14,map:13,type:2},{id:15,map:14,type:2},{id:16,map:15,type:2},{id:17,map:5,type:2},{id:18,map:17,type:2},{id:19,map:19,type:2},{id:20,map:20,type:2},{id:21,map:21,type:3},{id:22,map:22,type:3},{id:23,map:23,type:3},{id:24,map:24,type:3},{id:25,map:25,type:3},{id:26,map:26,type:3},{id:27,map:27,type:3},{id:28,map:28,type:3},{id:29,map:29,type:3},{id:30,map:30,type:3},{id:31,map:31,type:4},{id:32,map:32,type:4},{id:33,map:33,type:4},{id:34,map:34,type:4},{id:35,map:35,type:4},{id:36,map:36,type:4},{id:37,map:37,type:4},{id:38,map:38,type:4},{id:39,map:39,type:4},{id:40,map:40,type:4},{id:41,map:41,type:5},{id:42,map:42,type:5},{id:43,map:43,type:5},{id:44,map:44,type:5},{id:45,map:45,type:5},{id:46,map:46,type:5},{id:47,map:47,type:5},{id:48,map:48,type:5},{id:49,map:49,type:5},{id:50,map:50,type:5},{id:51,map:51,type:6},{id:52,map:52,type:6},{id:53,map:53,type:6},{id:54,map:54,type:6},{id:55,map:55,type:6},{id:56,map:56,type:6},{id:57,map:57,type:6},{id:58,map:58,type:6},{id:59,map:59,type:6},{id:60,map:60,type:6},{id:61,map:61,type:7},{id:62,map:62,type:7},{id:63,map:63,type:7},{id:64,map:64,type:7},{id:65,map:65,type:7},{id:66,map:66,type:7},{id:67,map:67,type:7},{id:68,map:68,type:7},{id:69,map:69,type:7},{id:70,map:70,type:7},{id:71,map:71,type:8},{id:72,map:72,type:8},{id:73,map:73,type:8},{id:74,map:74,type:8},{id:75,map:75,type:8},{id:76,map:76,type:8},{id:77,map:77,type:8},{id:78,map:78,type:8},{id:79,map:79,type:8},{id:80,map:80,type:8},{id:81,map:81,type:9},{id:82,map:82,type:9},{id:83,map:83,type:9},{id:84,map:84,type:9},{id:85,map:85,type:9},{id:86,map:86,type:9},{id:87,map:87,type:9},{id:88,map:88,type:9},{id:89,map:89,type:9},{id:90,map:90,type:9},{id:91,map:91,type:10},{id:92,map:92,type:10},{id:93,map:93,type:10},{id:94,map:94,type:10},{id:95,map:95,type:10},{id:96,map:96,type:10},{id:97,map:97,type:10},{id:98,map:98,type:10},{id:99,map:99,type:10},{id:100,map:100,type:10},{id:101,map:101,type:11},{id:102,map:102,type:11},{id:103,map:103,type:11},{id:104,map:104,type:11},{id:105,map:105,type:11},{id:106,map:106,type:11},{id:107,map:107,type:11},{id:108,map:108,type:11},{id:109,map:109,type:11},{id:110,map:110,type:11},{id:111,map:111,type:12},{id:112,map:112,type:12},{id:113,map:113,type:12},{id:114,map:114,type:12},{id:115,map:115,type:12},{id:116,map:116,type:12},{id:117,map:117,type:12},{id:118,map:118,type:12},{id:119,map:119,type:12},{id:120,map:120,type:12},{id:121,map:121,type:13},{id:122,map:122,type:13},{id:123,map:123,type:13},{id:124,map:124,type:13},{id:125,map:125,type:13},{id:126,map:126,type:13},{id:127,map:127,type:13},{id:128,map:128,type:13},{id:129,map:129,type:13},{id:130,map:130,type:13},{id:131,map:131,type:14},{id:132,map:132,type:14},{id:133,map:133,type:14},{id:134,map:134,type:14},{id:135,map:135,type:14},{id:136,map:136,type:14},{id:137,map:137,type:14},{id:138,map:138,type:14},{id:139,map:139,type:14},{id:140,map:140,type:14},{id:141,map:141,type:15},{id:142,map:142,type:15},{id:143,map:143,type:15},{id:144,map:144,type:15},{id:145,map:145,type:15},{id:146,map:146,type:15},{id:147,map:147,type:15},{id:148,map:148,type:15},{id:149,map:149,type:15},{id:150,map:150,type:15},{id:151,map:184,type:16},{id:152,map:185,type:16},{id:153,map:186,type:16},{id:154,map:187,type:16},{id:155,map:188,type:16},{id:156,map:189,type:16},{id:157,map:190,type:16},{id:158,map:191,type:16},{id:159,map:192,type:16},{id:160,map:193,type:16},{id:161,map:194,type:17},{id:162,map:195,type:17},{id:163,map:196,type:17},{id:164,map:197,type:17},{id:165,map:198,type:17},{id:166,map:199,type:17},{id:167,map:200,type:17},{id:168,map:167,type:17},{id:169,map:168,type:17},{id:170,map:169,type:17},{id:171,map:170,type:18},{id:172,map:171,type:18},{id:173,map:172,type:18},{id:174,map:173,type:18},{id:175,map:174,type:18},{id:176,map:175,type:18},{id:177,map:176,type:18},{id:178,map:177,type:18},{id:179,map:178,type:18},{id:180,map:179,type:18},{id:181,map:180,type:19},{id:182,map:181,type:19},{id:183,map:182,type:19},{id:184,map:183,type:19},{id:185,map:151,type:19},{id:186,map:152,type:19},{id:187,map:153,type:19},{id:188,map:154,type:19},{id:189,map:155,type:19},{id:190,map:156,type:19},{id:191,map:157,type:20},{id:192,map:158,type:20},{id:193,map:159,type:20},{id:194,map:160,type:20},{id:195,map:161,type:20},{id:196,map:162,type:20},{id:197,map:163,type:20},{id:198,map:164,type:20},{id:199,map:165,type:20},{id:200,map:166,type:20},{id:201,map:201,type:21},{id:202,map:202,type:21},{id:203,map:203,type:21},{id:204,map:204,type:21},{id:205,map:205,type:21},{id:206,map:206,type:21},{id:207,map:207,type:21},{id:208,map:208,type:21},{id:209,map:209,type:21},{id:210,map:210,type:21},{id:211,map:211,type:22},{id:212,map:212,type:22},{id:213,map:213,type:22},{id:214,map:214,type:22},{id:215,map:215,type:22},{id:216,map:216,type:22},{id:217,map:217,type:22},{id:218,map:218,type:22},{id:219,map:219,type:22},{id:220,map:220,type:22},{id:221,map:221,type:23},{id:222,map:222,type:23},{id:223,map:223,type:23},{id:224,map:224,type:23},{id:225,map:225,type:23},{id:226,map:226,type:23},{id:227,map:227,type:23},{id:228,map:228,type:23},{id:229,map:229,type:23},{id:230,map:230,type:23},{id:231,map:231,type:24},{id:232,map:232,type:24},{id:233,map:233,type:24},{id:234,map:234,type:24},{id:235,map:235,type:24},{id:236,map:236,type:24},{id:237,map:237,type:24},{id:238,map:238,type:24},{id:239,map:239,type:24},{id:240,map:240,type:24},{id:241,map:241,type:25},{id:242,map:242,type:25},{id:243,map:243,type:25},{id:244,map:244,type:25},{id:245,map:245,type:25},{id:246,map:246,type:25},{id:247,map:247,type:25},{id:248,map:248,type:25},{id:249,map:249,type:25},{id:250,map:250,type:25},{id:251,map:251,type:26},{id:252,map:252,type:26},{id:253,map:253,type:26},{id:254,map:254,type:26},{id:255,map:255,type:26},{id:256,map:256,type:26},{id:257,map:257,type:26},{id:258,map:258,type:26},{id:259,map:259,type:26},{id:260,map:260,type:26},{id:261,map:261,type:27},{id:262,map:262,type:27},{id:263,map:263,type:27},{id:264,map:264,type:27},{id:265,map:265,type:27},{id:266,map:266,type:27},{id:267,map:267,type:27},{id:268,map:268,type:27},{id:269,map:269,type:27},{id:270,map:270,type:27},{id:271,map:271,type:28},{id:272,map:272,type:28},{id:273,map:273,type:28},{id:274,map:274,type:28},{id:275,map:275,type:28},{id:276,map:276,type:28},{id:277,map:277,type:28},{id:278,map:278,type:28},{id:279,map:279,type:28},{id:280,map:280,type:28},{id:281,map:281,type:29},{id:282,map:282,type:29},{id:283,map:283,type:29},{id:284,map:284,type:29},{id:285,map:285,type:29},{id:286,map:286,type:29},{id:287,map:287,type:29},{id:288,map:288,type:29},{id:289,map:289,type:29},{id:290,map:290,type:29},{id:291,map:291,type:30},{id:292,map:292,type:30},{id:293,map:293,type:30},{id:294,map:294,type:30},{id:295,map:295,type:30},{id:296,map:296,type:30},{id:297,map:297,type:30},{id:298,map:298,type:30},{id:299,map:299,type:30},{id:300,map:300,type:30},{id:301,map:301,type:31},{id:302,map:302,type:31},{id:303,map:303,type:31},{id:304,map:304,type:31},{id:305,map:305,type:31},{id:306,map:306,type:31},{id:307,map:307,type:31},{id:308,map:308,type:31},{id:309,map:309,type:31},{id:310,map:310,type:31},{id:311,map:311,type:32},{id:312,map:312,type:32},{id:313,map:313,type:32},{id:314,map:314,type:32},{id:315,map:315,type:32},{id:316,map:316,type:32},{id:317,map:317,type:32},{id:318,map:318,type:32},{id:319,map:319,type:32},{id:320,map:320,type:32},{id:321,map:321,type:33},{id:322,map:322,type:33},{id:323,map:323,type:33},{id:324,map:324,type:33},{id:325,map:325,type:33}]);e._RF.pop()}}}));

System.register("chunks:///_virtual/MapLoader.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Map.ts","./ResourcePaths.ts"],(function(e){var t,n,a,r,o,c,u,i,s,l,p;return{setters:[function(e){t=e.inherits,n=e.createSuper,a=e.classCallCheck,r=e.createClass},function(e){o=e.cclegacy,c=e._decorator,u=e.resources,i=e.JsonAsset,s=e.Component},function(e){l=e.default},function(e){p=e.default}],execute:function(){var d;o._RF.push({},"45df2RUUZZNhaXqOADOV0HC","MapLoader",void 0);var f=c.ccclass;e("MapLoader",f("MapLoader")(d=function(e){t(c,e);var o=n(c);function c(){return a(this,c),o.apply(this,arguments)}return r(c,[{key:"paddingZero",value:function(e,t){return Array(t-e.length).fill("0").join("")+e}},{key:"getMapByLevel",value:function(e){var t=l.find((function(t){return t.id==e}));return t?t.map:1}},{key:"loadLevel",value:function(e,t){var n=this.getMapByLevel(e),a=this.paddingZero(n.toString(),3);u.load("".concat(p.MAP_JSON_PREFIX).concat(a),i,t)}}]),c}(s))||d);o._RF.pop()}}}));

System.register("chunks:///_virtual/MapScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEvents2.ts","./BaseScreen.ts","./LevelRow.ts"],(function(e){var n,t,o,a,i,l,r,s,u,c,d,h,p,v,m,f,C,w,y,g,S,b;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inherits,o=e.createSuper,a=e.classCallCheck,i=e.initializerDefineProperty,l=e.assertThisInitialized,r=e.createClass},function(e){s=e.cclegacy,u=e._decorator,c=e.Mask,d=e.Prefab,h=e.Component,p=e.CCInteger,v=e.Widget,m=e.instantiate,f=e.UITransform,C=e.math,w=e.Layout,y=e.Vec3},function(e){g=e.default},function(e){S=e.BaseScreen},function(e){b=e.LevelRow}],execute:function(){var k,E,R,L,M,P,x,_,D,N,z,I,B,G;s._RF.push({},"e9d44/Jje1Ckr/By+X44J7B","MapScreen",void 0);var U=u.ccclass,O=u.property,T=u.disallowMultiple,A=u.requireComponent,H=GameCore.Events,Y=globalThis.game,q=Y.player,j=Y.event;e("MapScreen",(k=U("MapScreen"),E=A(S),R=O(c),L=O(d),M=O(h),P=O(p),x=O(p),k(_=T(_=E((N=n((D=function(e){t(s,e);var n=o(s);function s(){var e;a(this,s);for(var t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return e=n.call.apply(n,[this].concat(o)),i(e,"mask",N,l(e)),i(e,"levelRowPrefab",z,l(e)),i(e,"mapContent",I,l(e)),i(e,"column",B,l(e)),i(e,"row",G,l(e)),e.maxLevelRow=0,e.beginContentY=0,e.isSetup=!1,e}return r(s,[{key:"__preload",value:function(){this.listenScreenEvents()}},{key:"onLoad",value:function(){this.enabled=!1,this.validateRequiredComponents()}},{key:"validateRequiredComponents",value:function(){if(!this.mask)throw new Error("MapScreen: mask not found");if(!this.levelRowPrefab)throw new Error("MapScreen: levelRowPrefab not found");if(!this.mapContent)throw new Error("MapScreen: mapContent not found")}},{key:"listenScreenEvents",value:function(){var e=this;j.on(H.OPENING_SCREEN,(function(n){e.validateEventPayload(n)&&(e.enabled=!0)})),j.on(H.OPENED_SCREEN,(function(n){e.validateEventPayload(n)&&e.open()})),j.on(H.CLOSING_SCREEN,(function(n){e.validateEventPayload(n)&&e.unscheduleAllCallbacks()})),j.on(H.CLOSED_SCREEN,(function(n){e.validateEventPayload(n)&&(e.enabled=!1)}))}},{key:"validateEventPayload",value:function(e){return e.screenName===this.node.name}},{key:"open",value:function(){if(this.enabled){this.isSetup||(this.isSetup=!0,this.setUpMap());var e=this.mapContent.getComponent(v);e?(e.updateAlignment(),this.showCurrentLevel()):console.warn("MapScreen: widget not found")}}},{key:"close",value:function(){j.emit(GameCore.Events.CLOSE_SCREEN,{screenName:this.node.name})}},{key:"showCurrentLevel",value:function(){var e=q.getGameData();if(e){var n=e.level,t=this.getRowIndexBylLevel(n);t>0&&(t-=1);for(var o=this.mapContent.node.getComponentsInChildren(b),a=0;a<o.length;a++){var i=o[a];i.idx=t,i.updateLevels(),t++}}else console.warn("MapScreen: gameData not found")}},{key:"getRowIndexBylLevel",value:function(e){var n=Math.floor(e/this.column);return e%this.column==0&&(n-=1),n}},{key:"update",value:function(e){var n=this.mapContent.node,t=n.position.y>-this.beginContentY;n.position.y<this.beginContentY?this.handleScrollDown():t&&this.handleScrollUp()}},{key:"addRows",value:function(e){for(var n=0;n<e;n++){var t=m(this.levelRowPrefab);if(t){var o=t.getComponent(b);o&&(o.initLevels(this.column),this.mapContent.node.addChild(t))}}}},{key:"updateMaskHeight",value:function(){var e=this.mask.getComponent(f),n=this.mapContent.getComponent(f);if(e&&n){var t=e.width,o=n.height;e.setContentSize(new C.Size(t,o))}else console.warn("MapScreen: UITransform of some node not found")}},{key:"initRow",value:function(){var e=q.getGameData();if(e){var n=e.totalLevel;this.maxLevelRow=Math.ceil(n/this.column),this.row=Math.min(this.row,this.maxLevelRow),this.addRows(this.row)}else console.warn("MapScreen: gameData not found")}},{key:"setUpMap",value:function(){if(this.initRow(),this.updateMaskHeight(),this.maxLevelRow>this.row){var e=this.maxLevelRow-this.row>=2?2:1;this.addRows(e)}var n=this.mapContent.getComponent(w);if(n){n.updateLayout(!0);var t=this.mapContent.getComponent(v);t?(t.updateAlignment(),this.beginContentY=this.mapContent.node.position.y):console.warn("MapScreen: widget not found")}else console.warn("MapScreen: layout not found")}},{key:"handleClickedClose",value:function(){this.close()}},{key:"onClickLevelHandler",value:function(e){this.node.scene.emit(g.SELECT_LEVEL,{level:e})}},{key:"handleScrollDown",value:function(){var e=this.mapContent.node,n=e.children.length,t=e.children[0].getComponent(b);if(t&&0!==t.idx){var o=e.children[n-1],a=o.getComponent(b);a&&(a.idx=t.idx-1,a.updateLevels(),e.removeChild(o),e.insertChild(o,0),this.mapContent.node.setPosition(new y(0,0)))}}},{key:"handleScrollUp",value:function(){var e=this.mapContent.node,n=e.children.length,t=e.children[n-1].getComponent(b);if(t&&t.idx!==this.maxLevelRow-1){var o=e.children[0],a=o.getComponent(b);a&&(a.idx=t.idx+1,a.updateLevels(),e.removeChild(o),e.addChild(o),this.mapContent.node.setPosition(new y(0,0)))}}}]),s}(h)).prototype,"mask",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=n(D.prototype,"levelRowPrefab",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=n(D.prototype,"mapContent",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=n(D.prototype,"column",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4}}),G=n(D.prototype,"row",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4}}),_=D))||_)||_)||_));s._RF.pop()}}}));

System.register("chunks:///_virtual/MapTransformer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./World.ts"],(function(n){var t,e,o,a;return{setters:[function(n){t=n.createClass,e=n.classCallCheck},function(n){o=n.cclegacy},function(n){a=n.GameZone}],execute:function(){o._RF.push({},"4c04ffCcRhGsqEZlVWUHd8s","MapTransformer",void 0);n("default",function(){function n(){e(this,n)}return t(n,null,[{key:"getPointObject",value:function(n){var t=n.id,e=n.point,o=n.data,r=n.connect;return{id:t,point:{x:28*e.x+14,y:a.HEIGHT-28*e.y-14},data:o,connect:r}}},{key:"getPointObjectBỵHalfCoord",value:function(n){var t=n.id,e=n.point,o=n.data,r=n.connect;return{id:t,point:{x:14*e.x,y:a.HEIGHT-14*e.y},data:o,connect:r}}},{key:"getPolygonObject",value:function(n){var t=n.id,e=n.point,o=n.data,r=n.connect;return{id:t,point:e.map((function(n){var t=n.x,e=n.y;return{x:28*t,y:a.HEIGHT-28*e}})),data:o,connect:r}}},{key:"getDoublePolygon",value:function(n){var t=n.id,e=n.point,o=n.data,r=n.connect;return{id:t,point:e.map((function(n){var t=n.x,e=n.y;return{x:14*t,y:a.HEIGHT-14*e}})),data:o,connect:r}}},{key:"transformPointsFromMapToDrawAreaCoordinate",value:function(n){return n.map((function(n){var t=n.x,e=n.y;return{x:28*t-200,y:a.HEIGHT-28*e-270}}))}}]),n}());o._RF.pop()}}}));

System.register("chunks:///_virtual/Music.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioChannel.ts"],(function(e){var n,t,i,a,l,s,u,c,o,r,h,d,p,f;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inherits,i=e.createSuper,a=e.classCallCheck,l=e.initializerDefineProperty,s=e.assertThisInitialized,u=e.createClass,c=e.objectSpread2},function(e){o=e.cclegacy,r=e._decorator,h=e.CCString,d=e.director,p=e.Component},function(e){f=e.default}],execute:function(){var y,v,m,k,g;o._RF.push({},"1a025mmN7BL7r5cF6gWR4b/","Music",void 0);var b=r.ccclass,I=r.property,C=globalThis.game,M=C.audio,P=C.player;e("Music",(y=b("Music"),v=I(h),y((g=n((k=function(e){t(o,e);var n=i(o);function o(){var e;a(this,o);for(var t=arguments.length,i=new Array(t),u=0;u<t;u++)i[u]=arguments[u];return e=n.call.apply(n,[this].concat(i)),l(e,"channelId",g,s(e)),e.channel=null,e}return u(o,[{key:"__preload",value:function(){this.channel=new f(this.node,this.channelId),M.addChannel(this.channel)}},{key:"makePersistent",value:function(){d.addPersistRootNode(this.node)}},{key:"removePersistent",value:function(){d.removePersistRootNode(this.node)}},{key:"play",value:function(e,n){this.isMusicEnable()&&(n&&n.loop||(n=c(c({},n),{},{loop:!0})),M.play(e,n,this.channelId))}},{key:"isMusicEnable",value:function(){return!!P.getPlayerSetting("music")}},{key:"setVolume",value:function(e){M.setVolume(e,this.channelId)}},{key:"pause",value:function(e){M.pause(e,this.channelId)}},{key:"resume",value:function(e){this.isMusicEnable()&&M.resume(e,this.channelId)}},{key:"stop",value:function(e){M.stop(e,this.channelId)}},{key:"mute",value:function(e){e?M.mute(this.channelId):M.unmute(this.channelId)}}]),o}(p)).prototype,"channelId",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"global_music"}}),m=k))||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/NormalBehavior.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BeeRole.ts","./BeeState.ts"],(function(t){var e,o,i,n,c,u;return{setters:[function(t){e=t.createClass,o=t.classCallCheck},function(t){i=t.cclegacy,n=t.math},function(t){c=t.default},function(t){u=t.default}],execute:function(){i._RF.push({},"744a5WT+0VHFLma6AT7mXct","NormalBehavior",void 0);t("default",function(){function t(e){o(this,t),this.touchCount=0,this.bee=e,this.timeToAttack=n.randomRange(.7,.8),this.countTimeToAttack=0}return e(t,[{key:"onBeginContact",value:function(){var t=this;1==this.touchCount&&this.bee.scheduleOnce((function(){t.touchCount>=3&&t.activePusher(),t.touchCount=0}),.75),this.touchCount++}},{key:"activePusher",value:function(){this.bee.setRole(c.PUSHER)}},{key:"update",value:function(t){this.bee.state===u.ATTACKING&&(this.countTimeToAttack+=t,this.countTimeToAttack>this.timeToAttack&&(this.bee.findTarget(),this.bee.attackTarget(),this.timeToAttack=n.randomRange(.4,.6),this.countTimeToAttack=0))}}]),t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/NotificationScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseScreen.ts"],(function(e){var n,t,a,i,o,r,s,c,l,u,d,f,v;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inherits,a=e.createSuper,i=e.classCallCheck,o=e.initializerDefineProperty,r=e.assertThisInitialized,s=e.createClass},function(e){c=e.cclegacy,l=e._decorator,u=e.Label,d=e.Button,f=e.Component},function(e){v=e.BaseScreen}],execute:function(){var h,p,E,S,m,C,N,y;c._RF.push({},"6460akNFfhP9pDOT2Z0+s2R","NotificationScreen",void 0);var g=l.ccclass,b=l.disallowMultiple,k=l.requireComponent,_=l.property,B=GameCore.Events,R=globalThis.game.event;e("NotificationScreen",(h=g("NotificationScreen"),p=k(v),E=_(u),S=_(d),h(m=b(m=p((N=n((C=function(e){t(c,e);var n=a(c);function c(){var e;i(this,c);for(var t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return e=n.call.apply(n,[this].concat(a)),o(e,"message",N,r(e)),o(e,"closeButton",y,r(e)),e}return s(c,[{key:"__preload",value:function(){this.listenScreenEvents()}},{key:"onLoad",value:function(){this.validateRequiredComponents()}},{key:"validateRequiredComponents",value:function(){if(!this.message)throw new Error("NotificationScreen: message not found");if(!this.closeButton)throw new Error("NotificationScreen: closeButton not found")}},{key:"listenScreenEvents",value:function(){var e=this;R.on(B.OPENING_SCREEN,(function(n){console.log("NotificationScreen.OPENING_SCREEN",n),e.validateEventPayload(n)&&e.updateScreenData(n)})),R.on(B.CLOSING_SCREEN,(function(n){e.validateEventPayload(n)&&e.unscheduleAllCallbacks()})),R.on(B.CLOSED_SCREEN,(function(n){e.validateEventPayload(n)&&(e.enabled=!1)}))}},{key:"validateEventPayload",value:function(e){return e.screenName===this.node.name}},{key:"updateScreenData",value:function(e){var n=this;if(e.screenData){var t=e.screenData;t.message&&(this.message.string=t.message),t.duration&&t.duration>0&&this.scheduleOnce((function(){R.emit(B.CLOSE_SCREEN,{screenName:n.node.name})}),t.duration),this.closeButton.node.active=!0,!1===t.isCloseButtonVisible&&(this.closeButton.node.active=!1)}}},{key:"handleClickedClose",value:function(){R.emit(B.CLOSE_SCREEN,{screenName:this.node.name})}}]),c}(f)).prototype,"message",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=n(C.prototype,"closeButton",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=C))||m)||m)||m));c._RF.pop()}}}));

System.register("chunks:///_virtual/ObjectIds.ts",["cc"],(function(E){var R;return{setters:[function(E){R=E.cclegacy}],execute:function(){R._RF.push({},"4c577T9x2FPKpyFoVPXbav0","ObjectIds",void 0);var A=E("default",function(E){return E[E.BRICK=1]="BRICK",E[E.STROKE=3]="STROKE",E[E.GRASS_DARK=4]="GRASS_DARK",E[E.GRASS=5]="GRASS",E[E.COLLIDER=6]="COLLIDER",E[E.THORN=7]="THORN",E[E.WATER=8]="WATER",E[E.WATER_SURFACE=9]="WATER_SURFACE",E[E.LINE=10]="LINE",E[E.POISON_SURFACE=11]="POISON_SURFACE",E[E.POISON=12]="POISON",E[E.WOOD=13]="WOOD",E[E.THORN_BALL=14]="THORN_BALL",E[E.JOINT=15]="JOINT",E[E.DANGER_AREA=16]="DANGER_AREA",E[E.BALLOON=17]="BALLOON",E[E.AIR_FAN=18]="AIR_FAN",E[E.SPIDER=19]="SPIDER",E[E.DOGE_A=101]="DOGE_A",E[E.DOGE_B=106]="DOGE_B",E[E.BIG_BEE=107]="BIG_BEE",E[E.BEEHIVE_A=102]="BEEHIVE_A",E[E.BEEHIVE_B=103]="BEEHIVE_B",E[E.BEEHIVE_C=104]="BEEHIVE_C",E[E.BEEHIVE_D=105]="BEEHIVE_D",E}(A||{}));R._RF.pop()}}}));

System.register("chunks:///_virtual/OpacityToggler.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,n,o,r,a,c,l,u,p,s,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inherits,n=e.createSuper,o=e.classCallCheck,r=e.initializerDefineProperty,a=e.assertThisInitialized,c=e.createClass},function(e){l=e.cclegacy,u=e._decorator,p=e.UIOpacity,s=e.CCBoolean,y=e.Component}],execute:function(){var v,h,f,g,m,C,d,b,A,O;l._RF.push({},"0e570DdAIZPKY6DNtNerFmX","OpacityToggler",void 0);var w=u.ccclass,T=u.requireComponent,V=u.property;e("OpacityToggler",(v=w("OpacityToggler"),h=T([p]),f=V(s),g=V(s),m=V(s),v(C=h((b=t((d=function(e){i(l,e);var t=n(l);function l(){var e;o(this,l);for(var i=arguments.length,n=new Array(i),c=0;c<i;c++)n[c]=arguments[c];return e=t.call.apply(t,[this].concat(n)),r(e,"isActive",b,a(e)),r(e,"activeValue",A,a(e)),r(e,"inActiveValue",O,a(e)),e}return c(l,[{key:"onLoad",value:function(){this.opacityComponent=this.getComponent(p),this.validateRequiredComponents()}},{key:"validateRequiredComponents",value:function(){if(!this.opacityComponent)throw new Error("OpacityToggler: UIOpacity not found")}},{key:"changeState",value:function(e){void 0===e?e=!this.isActive:e?(this.opacityComponent.opacity=this.activeValue,this.isActive=!0):(this.opacityComponent.opacity=this.inActiveValue,this.isActive=!1)}}]),l}(y)).prototype,"isActive",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),A=t(d.prototype,"activeValue",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 255}}),O=t(d.prototype,"inActiveValue",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 128}}),C=d))||C)||C));l._RF.pop()}}}));

System.register("chunks:///_virtual/Pattern.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseObject.ts"],(function(t){var e,r,i,o,n,a,l,s,c,p,y,u,h,f,d,g,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inherits,i=t.createSuper,o=t.classCallCheck,n=t.initializerDefineProperty,a=t.assertThisInitialized,l=t.createClass,s=t.createForOfIteratorHelper},function(t){c=t.cclegacy,p=t._decorator,y=t.Graphics,u=t.PolygonCollider2D,h=t.RigidBody2D,f=t.Sprite,d=t.UITransform,g=t.Vec2},function(t){v=t.BaseObject}],execute:function(){var C,P,m,x,w,B;c._RF.push({},"959bd9NhYpMTK0O78HSl4rc","Pattern",void 0);var k=p.ccclass,R=p.property,T=p.requireComponent;t("Pattern",(C=k("Pattern"),P=T([y,u,h]),m=R(f),C(x=P((B=e((w=function(t){r(c,t);var e=i(c);function c(){var t;o(this,c);for(var r=arguments.length,i=new Array(r),l=0;l<r;l++)i[l]=arguments[l];return t=e.call.apply(e,[this].concat(i)),n(t,"sprite",B,a(t)),t}return l(c,[{key:"onLoad",value:function(){this.graphic=this.getComponent(y),this.rigidBody=this.getComponent(h),this.polygonCollider=this.getComponent(u),this.validateRequiredComponents()}},{key:"validateRequiredComponents",value:function(){if(!this.sprite)throw new Error("Pattern: Sprite not found");if(!this.graphic)throw new Error("Pattern: Graphics not found");if(!this.rigidBody)throw new Error("Pattern: RigidBody2D not found");if(!this.polygonCollider)throw new Error("Pattern: PolygonCollider2D not found")}},{key:"start",value:function(){}},{key:"draw",value:function(t){var e=this.sprite.getComponent(d);if(e){var r=this.getBottomLeftPosition(t),i=r.x,o=r.y,n=this.getTopRightPosition(t),a=n.x,l=n.y;e.setContentSize(a-i,l-o),e.node.setPosition(i,o),this.graphic.moveTo(t[0].x,t[0].y);var c,p=s(t);try{for(p.s();!(c=p.n()).done;){var y=c.value;this.graphic.lineTo(y.x,y.y)}}catch(t){p.e(t)}finally{p.f()}this.graphic.close(),this.graphic.fill()}}},{key:"applyCollider",value:function(t){this.polygonCollider.points=t.map((function(t){var e=t.x,r=t.y;return new g(e,r)})),this.polygonCollider.apply()}},{key:"setRigidBodyType",value:function(t){this.rigidBody.type=t}},{key:"getBottomLeftPosition",value:function(t){var e,r=t[0].x,i=t[0].y,o=s(t);try{for(o.s();!(e=o.n()).done;){var n=e.value;r>n.x&&(r=n.x),i>n.y&&(i=n.y)}}catch(t){o.e(t)}finally{o.f()}return{x:r,y:i}}},{key:"getTopRightPosition",value:function(t){var e,r=t[0].x,i=t[0].y,o=s(t);try{for(o.s();!(e=o.n()).done;){var n=e.value;r<n.x&&(r=n.x),i<n.y&&(i=n.y)}}catch(t){o.e(t)}finally{o.f()}return{x:r,y:i}}}]),c}(v)).prototype,"sprite",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=w))||x)||x));c._RF.pop()}}}));

System.register("chunks:///_virtual/PhysicsGroup.ts",["cc"],(function(t){var c;return{setters:[function(t){c=t.cclegacy}],execute:function(){c._RF.push({},"7bb7ftpsjJCX5G6+WtNYJ2x","PhysicsGroup",void 0);var u=t("default",function(t){return t[t.DEFAULT=1]="DEFAULT",t[t.BEE=2]="BEE",t[t.MAIN_OBJECT=4]="MAIN_OBJECT",t[t.WORLD_BOUND=8]="WORLD_BOUND",t[t.ROPE=16]="ROPE",t}(u||{}));c._RF.pop()}}}));

System.register("chunks:///_virtual/Poison.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameObjects.ts","./GameObject.ts","./PhysicsGroup.ts","./ResourcePaths.ts","./GraphicsPattern.ts"],(function(e){var t,n,o,i,a,l,r,s,u,c,b,h,d,p,m,y,f,v,g,P,B,C,w,k;return{setters:[function(e){t=e.inherits,n=e.createSuper,o=e.classCallCheck,i=e.createClass},function(e){a=e.cclegacy,l=e._decorator,r=e.RigidBody2D,s=e.ERigidBody2DType,u=e.PolygonCollider2D,c=e.resources,b=e.SpriteFrame,h=e.NodePool,d=e.Node,p=e.math,m=e.UIOpacity,y=e.Vec3,f=e.Sprite,v=e.tween,g=e.Component},function(e){P=e.GameObjects},function(e){B=e.ObjectNames},function(e){C=e.default},function(e){w=e.default},function(e){k=e.GraphicsPattern}],execute:function(){var O;a._RF.push({},"a08960ZMBtFcLD/1nWNbAM9","Poison",void 0);var R=l.ccclass,S=l.requireComponent;e("Poison",R("Poison")(O=S([k])(O=function(e){t(l,e);var a=n(l);function l(){var e;o(this,l);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(e=a.call.apply(a,[this].concat(n))).polygon=[],e.bubbleFrame=null,e.bubblePool=null,e.remaining=0,e.maxPoolSize=0,e.totalBubble=0,e}return i(l,[{key:"onLoad",value:function(){var e;this.graphicPattern=this.getComponent(k),this.gameObjects=null===(e=this.node.parent)||void 0===e?void 0:e.getComponent(P),this.validateRequiredComponents()}},{key:"validateRequiredComponents",value:function(){if(!this.gameObjects)throw new Error("Poison: GameObjects not found");if(!this.graphicPattern)throw new Error("Poison: GraphicsPattern not found")}},{key:"start",value:function(){this.addRigidBody(),this.addPolygonCollider(),this.drawPattern(),this.loadCircleFrame(),this.setTimeSpawnBubble(.3)}},{key:"addRigidBody",value:function(){var e=this.addComponent(r);e?(e.group=C.MAIN_OBJECT,e.type=s.Static):console.warn("Cannot add RigidBody2D")}},{key:"addPolygonCollider",value:function(){var e=this.addComponent(u);e?e.sensor=!0:console.warn("Cannot add PolygonCollider2D")}},{key:"drawPattern",value:function(){this.graphicPattern.setColor("#9757c1d1"),this.graphicPattern.draw(this.polygon),this.graphicPattern.applyCollider(this.polygon)}},{key:"loadCircleFrame",value:function(){var e=this;c.load(w.POISON_CIRCLE_FRAME,b,(function(t,n){t?console.error("loadCircleFrame",t):(e.bubbleFrame=n,e.initPool(10,12))}))}},{key:"initPool",value:function(e,t){this.bubblePool=new h,this.maxPoolSize=t;for(var n=0;n<e;n++)this.spawnBubble()}},{key:"setTimeSpawnBubble",value:function(e){this.remaining=e}},{key:"spawnBubble",value:function(){if(!this.bubblePool)return null;if(this.totalBubble>=this.maxPoolSize)return null;var e=null;return this.bubblePool.size()>0?e=this.bubblePool.get():(e=new d(B.POISON_BUBBLE),this.initBubble(e),this.bubblePool.put(e)),e?(this.gameObjects.addObject(e),this.totalBubble+=1,e):null}},{key:"releaseBubble",value:function(e){this.bubblePool&&(this.bubblePool.put(e),this.totalBubble-=1)}},{key:"reviveBubble",value:function(e){var t=this.getPosition(this.polygon),n=t.minX,o=t.minY,i=t.maxX,a=p.randomRange(n,i),l=e.getComponent(m);l?l.opacity=125:console.warn("UIOpacity not found in bubble"),e.setPosition(new y(a,o))}},{key:"initBubble",value:function(e){e.layer=this.node.layer,e.addComponent(f).spriteFrame=this.bubbleFrame,e.addComponent(m)}},{key:"update",value:function(e){if(this.remaining-=e,this.remaining<=0){var t=this.spawnBubble();if(!t)return;this.reviveBubble(t),this.playBubbleTween(t);var n=p.randomRange(.5,.8);this.setTimeSpawnBubble(n)}}},{key:"playBubbleTween",value:function(e){var t=this;if(e){var n=this.getPosition(this.polygon),o=n.minY,i=n.maxY,a=e.getPosition(),l=Math.abs(i-o),r=a.x,s=a.y+(i-o)-50,u=l/120;v(e).to(u,{position:new y(r,s)},{easing:"smooth"}).start();var c=e.getComponent(m);c?v(c).set({opacity:125}).to(u,{opacity:0},{easing:"smooth"}).start():console.warn("UIOpacity not found in bubble"),this.scheduleOnce((function(){t.releaseBubble(e)}),u)}}},{key:"getPosition",value:function(e){var t=1e4,n=0,o=1e4,i=0;return e.forEach((function(e){var a=e.x,l=e.y;a<t&&(t=a),a>n&&(n=a),l<o&&(o=l),l>i&&(i=l)})),{minX:t+=20,minY:o+=13,maxX:n-=20,maxY:i-=13}}}]),l}(g))||O)||O);a._RF.pop()}}}));

System.register("chunks:///_virtual/PoisonSurface.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameObjects.ts","./ResourcePaths.ts","./GraphicsPattern.ts"],(function(e){var t,o,n,i,a,r,s,l,u,b,c,h,f,P,p,v,m,d;return{setters:[function(e){t=e.inherits,o=e.createSuper,n=e.classCallCheck,i=e.createClass},function(e){a=e.cclegacy,r=e._decorator,s=e.resources,l=e.Prefab,u=e.math,b=e.NodePool,c=e.instantiate,h=e.Node,f=e.Vec3,P=e.sp,p=e.Component},function(e){v=e.GameObjects},function(e){m=e.default},function(e){d=e.GraphicsPattern}],execute:function(){var g;a._RF.push({},"8633c11nMJN7I7TAFaGu3Fg","PoisonSurface",void 0);var B=r.ccclass;e("PoisonSurface",B("PoisonSurface")(g=function(e){t(r,e);var a=o(r);function r(){var e;n(this,r);for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return(e=a.call.apply(a,[this].concat(o))).poisonBubblePrefab=null,e.polygon=[],e.bubblePool=null,e.remaining=0,e.maxPoolSize=0,e.totalBubble=0,e}return i(r,[{key:"onLoad",value:function(){var e;this.graphicPattern=this.getComponent(d),this.gameObjects=null===(e=this.node.parent)||void 0===e?void 0:e.getComponent(v),this.validateRequiredComponents()}},{key:"validateRequiredComponents",value:function(){if(!this.gameObjects)throw new Error("PoisonSurface: GameObjects not found");if(!this.graphicPattern)throw new Error("PoisonSurface: GraphicsPattern not found")}},{key:"start",value:function(){this.drawPattern(),this.loadBubbleFrame()}},{key:"drawPattern",value:function(){this.graphicPattern.setColor("#B16DE0B0"),this.graphicPattern.draw(this.polygon)}},{key:"loadBubbleFrame",value:function(){var e=this;s.load(m.POISON_BUBBLE_PREFAB,l,(function(t,o){t?console.error("loadBubbleFrame",t):(e.poisonBubblePrefab=o,e.initPool(10,12),e.setTimeSpawnBubble(.3))}))}},{key:"update",value:function(e){if(this.remaining-=e,this.remaining<=0){var t=this.spawnPoisonBubblePop();if(!t)return;this.reviveBubble(t);var o=u.randomRange(.3,.5);this.setTimeSpawnBubble(o)}}},{key:"initPool",value:function(e,t){this.bubblePool=new b,this.maxPoolSize=t;for(var o=0;o<e;o++)this.spawnPoisonBubblePop()}},{key:"setTimeSpawnBubble",value:function(e){this.remaining=e}},{key:"spawnPoisonBubblePop",value:function(){if(!this.bubblePool)return null;if(this.totalBubble>=this.maxPoolSize)return null;var e=null;if(this.bubblePool.size()>0)e=this.bubblePool.get();else{if(!((e=c(this.poisonBubblePrefab))instanceof h))return null;this.bubblePool.put(e)}return e?(this.gameObjects.addObject(e),this.totalBubble+=1,e):null}},{key:"releasePoisonBubblePop",value:function(e){this.bubblePool&&(this.bubblePool.put(e),this.totalBubble-=1)}},{key:"reviveBubble",value:function(e){var t=this;if(e){var o=this.getRandomPosition(this.polygon),n=o.x,i=o.y;e.setPosition(new f(n,i));var a=e.getComponent(P.Skeleton);a&&(a.setAnimation(0,"animation",!1),a.setCompleteListener((function(){t.releasePoisonBubblePop(e)})))}}},{key:"getRandomPosition",value:function(e){var t=1e4,o=0,n=1e4,i=0;return e.forEach((function(e){var a=e.x,r=e.y;a<t&&(t=a),a>o&&(o=a),r<n&&(n=r),r>i&&(i=r)})),{x:u.randomRange(t+25,o-25),y:u.randomRange(n+5,i-5)}}}]),r}(p))||g);a._RF.pop()}}}));

System.register("chunks:///_virtual/PusherBehavior.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BeeRole.ts","./BeeState.ts"],(function(e){var t,o,n,a,r,i,s;return{setters:[function(e){t=e.createClass,o=e.classCallCheck},function(e){n=e.cclegacy,a=e.math,r=e.CircleCollider2D},function(e){i=e.default},function(e){s=e.default}],execute:function(){n._RF.push({},"ec831BZISdLgp8vKNuRirUM","PusherBehavior",void 0);e("default",function(){function e(t){o(this,e),this.bee=t}return t(e,[{key:"onBeginContact",value:function(){var e=this.bee;if(e.target){var t=a.randomRange(20,30),o=e.getVectorDataFromAToB(e.node.getWorldPosition(),e.target.getWorldPosition());o.vector.rotate(Math.random()>.5?-Math.PI/2:Math.PI/2).multiplyScalar(t),e.move(o);var n=e.getComponent(r);n&&(n.density*=1.1,n.density>=2.5&&(n.density=1,e.setRole(i.NORMAL),e.setState(s.ATTACKING)))}}}]),e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/ReadyState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Music.ts","./Sound.ts","./MapTransformer.ts","./BaseState.ts","./DrawingState.ts","./FinishState.ts","./LoadingState.ts"],(function(e){var t,a,n,i,r,s,u,l,o,c,v,g,h,d,f;return{setters:[function(e){t=e.inherits,a=e.createSuper,n=e.classCallCheck,i=e.createClass,r=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){u=e.cclegacy,l=e.find},function(e){o=e.Music},function(e){c=e.Sound},function(e){v=e.default},function(e){g=e.default},function(e){h=e.default},function(e){d=e.default},function(e){f=e.default}],execute:function(){u._RF.push({},"5ef69tJ5eNNv7o22H/XfSD2","ReadyState",void 0);var m=globalThis.game,y=m.player,p=m.match,k=m.analytics;e("default",function(e){t(m,e);var u,g=a(m);function m(e){var t;return n(this,m),(t=g.call(this,e)).enableUI(),t.stopAllSounds(),t.turnUpBackgroundMusic(),t.clearHint(),t.clearGameObjects(),t.createGameObjects(),t.initInkCapacity(),t.initCountdown(),t.updateHeader(),t.showTutorialUI(),t.startMatchAsync(),t.logAnalytics(),t}return i(m,[{key:"load",value:function(){var e=new f(this.manager);this.manager.change(e)}},{key:"ready",value:function(){}},{key:"draw",value:function(){var e=new h(this.manager);this.manager.change(e)}},{key:"attack",value:function(){}},{key:"escape",value:function(){}},{key:"death",value:function(){}},{key:"finish",value:function(){var e=new d(this.manager);this.manager.change(e)}},{key:"update",value:function(){}},{key:"enableUI",value:function(){var e;null===(e=this.game)||void 0===e||e.uiManager.enableUI()}},{key:"clearHint",value:function(){var e,t;null===(e=this.game)||void 0===e||null===(t=e.hint)||void 0===t||t.reset()}},{key:"stopAllSounds",value:function(){var e,t;null===(e=l("Sound"))||void 0===e||null===(t=e.getComponent(c))||void 0===t||t.stopAll()}},{key:"turnUpBackgroundMusic",value:function(){var e,t;null===(e=l("Music"))||void 0===e||null===(t=e.getComponent(o))||void 0===t||t.setVolume(.8)}},{key:"clearGameObjects",value:function(){var e,t;null!==(e=this.game)&&void 0!==e&&e.lineDrawer&&null!==(t=this.game)&&void 0!==t&&t.gameObjects&&(this.game.lineDrawer.clearLines(),this.game.gameObjects.clearObjects())}},{key:"createGameObjects",value:function(){var e,t,a=this.data.levelData;a&&(null===(e=this.game)||void 0===e||null===(t=e.gameObjects)||void 0===t||t.spawnObjects(a))}},{key:"initInkCapacity",value:function(){if(this.game){var e=this.data.levelData;if(e){var t=this.game.inkCapacityController,a=e.lnk,n=void 0===a?[]:a;t.init(n)}}}},{key:"initCountdown",value:function(){var e;null===(e=this.game)||void 0===e||e.uiManager.initCountdown()}},{key:"updateHeader",value:function(){var e;if(null!==(e=this.game)&&void 0!==e&&e.hint){var t=this.game.inkCapacityController.getStarRating();this.game.uiManager.setProgressStars(t);var a=this.game.inkCapacityController.getInkLevelPercentage();this.game.uiManager.setProgressBarPercentage(a),this.game.hint.getIsHintShow()||this.game.uiManager.startCountDownHeaderHintBubbleAnim()}}},{key:"showTutorialUI",value:function(){var e,t;if(this.game){var a=this.data,n=a.level,i=a.levelData;if(n&&i&&!(n>3)&&null!==(e=this.game)&&void 0!==e&&e.hint&&null!==(t=this.game)&&void 0!==t&&t.uiManager){var r=i.tips,s=v.transformPointsFromMapToDrawAreaCoordinate(r);this.game.hint.showHint(s,!0),this.game.uiManager.stopCountDownHeaderHintBubbleAnim()}}}},{key:"startMatchAsync",value:(u=r(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.data.isContextProcessing){e.next=3;break}return this.updateGameData({isContextProcessing:!1}),e.abrupt("return");case 3:return e.prev=3,t=y.getPlayerId(),e.next=7,p.single.start.processAsync({playerId:t});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),console.warn("ReadyState",e.t0);case 12:case"end":return e.stop()}}),e,this,[[3,9]])}))),function(){return u.apply(this,arguments)})},{key:"logAnalytics",value:function(){if(this.game){var e=this.data.level,t=void 0===e?0:e,a=this.game.inkCapacityController.getStarRating();k.levelStart(t,a)}}}]),m}(g));u._RF.pop()}}}));

System.register("chunks:///_virtual/ResourcePaths.ts",["cc"],(function(e){var s;return{setters:[function(e){s=e.cclegacy}],execute:function(){s._RF.push({},"a6e4bjV/RVH17qBEx1mZaFg","ResourcePaths",void 0);var r=e("default",function(e){return e.WATER_SURFACE_FRAME="sprites/water-surface/spriteFrame",e.IC_HAND_FRAME="sprites/icons/ic-hand/spriteFrame",e.POISON_CIRCLE_FRAME="sprites/poison-circle/spriteFrame",e.POISON_BUBBLE_PREFAB="prefabs/PoisonBubble",e.DUST_PARTICLE_SPINE="spines/dust-particle/siwang_texiao",e.MAP_JSON_PREFIX="maps-json/",e}(r||{}));s._RF.pop()}}}));

System.register("chunks:///_virtual/RewardedAdsTest.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ScreenKeys.ts"],(function(e){var s,t,n,r,a,o,c,i,d,u,E;return{setters:[function(e){s=e.inherits,t=e.createSuper,n=e.classCallCheck,r=e.createClass,a=e.asyncToGenerator,o=e.regeneratorRuntime,c=e.typeof},function(e){i=e.cclegacy,d=e._decorator,u=e.Component},function(e){E=e.default}],execute:function(){var N;i._RF.push({},"64311EGU4RKDpfjDUran9nc","RewardedAdsTest",void 0);var l=d.ccclass,C=globalThis.game,m=C.ads,R=C.event;e("RewardedAdsTest",l("RewardedAdsTest")(N=function(e){s(u,e);var i,d=t(u);function u(){return n(this,u),d.apply(this,arguments)}return r(u,[{key:"show",value:function(){this.showRewardedAds()}},{key:"showRewardedAds",value:(i=a(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,R.emit(GameCore.Events.OPEN_SCREEN,{screenName:E.LOADING_SCREEN,screenData:{message:"Loading ads..."}}),e.next=4,m.preloadRewardedVideoAsync();case 4:return e.next=6,m.showRewardedVideoAsync();case 6:R.emit(GameCore.Events.CLOSE_SCREEN,{screenName:E.LOADING_SCREEN}),R.emit(GameCore.Events.OPEN_SCREEN,{screenName:E.NOTIFICATION_SCREEN,screenData:{message:"Ads finished.",duration:2,isCloseButtonVisible:!1}}),e.next=17;break;case 10:if(e.prev=10,e.t0=e.catch(0),console.warn("showTips failed",e.t0),"object"!==c(e.t0)||!e.t0||!("code"in e.t0)||"USER_INPUT"!==e.t0.code){e.next=16;break}return R.emit(GameCore.Events.OPEN_SCREEN,{screenName:E.NOTIFICATION_SCREEN,screenData:{message:"Sorry, no rewards!\n You have cancelled the ad.",duration:2,isCloseButtonVisible:!1}}),e.abrupt("return");case 16:R.emit(GameCore.Events.OPEN_SCREEN,{screenName:E.NOTIFICATION_SCREEN,screenData:{message:"No ads to display.",duration:2,isCloseButtonVisible:!1}});case 17:return e.prev=17,R.emit(GameCore.Events.CLOSE_SCREEN,{screenName:E.LOADING_SCREEN}),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[0,10,17,20]])}))),function(){return i.apply(this,arguments)})},{key:"close",value:function(){R.emit(GameCore.Events.CLOSE_SCREEN,{screenName:E.LOADING_SCREEN})}}]),u}(u))||N);i._RF.pop()}}}));

System.register("chunks:///_virtual/Rope.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PhysicsGroup.ts"],(function(e){var n,o,t,i,r,a,s,d,l,c,h,p,u,f,m,g,v,y,C,w,R;return{setters:[function(e){n=e.applyDecoratedDescriptor,o=e.inherits,t=e.createSuper,i=e.classCallCheck,r=e.initializerDefineProperty,a=e.assertThisInitialized,s=e.createClass},function(e){d=e.cclegacy,l=e._decorator,c=e.SpriteFrame,h=e.CCInteger,p=e.Vec3,u=e.HingeJoint2D,f=e.Vec2,m=e.RigidBody2D,g=e.Sprite,v=e.Node,y=e.UITransform,C=e.BoxCollider2D,w=e.Component},function(e){R=e.default}],execute:function(){var J,b,S,D,P,B,k;d._RF.push({},"ff37brNpltMuaZm+M+x9+1N","Rope",void 0);var z=l.ccclass,E=l.property;e("Rope",(J=z("Rope"),b=E(c),S=E(h),J((B=n((P=function(e){o(d,e);var n=t(d);function d(){var e;i(this,d);for(var o=arguments.length,t=new Array(o),s=0;s<o;s++)t[s]=arguments[s];return e=n.call.apply(n,[this].concat(t)),r(e,"frame",B,a(e)),r(e,"length",k,a(e)),e.nodes=[],e}return s(d,[{key:"onLoad",value:function(){this.validateRequiredComponents()}},{key:"validateRequiredComponents",value:function(){if(!this.frame)throw new Error("Rope: SpriteFrame not found");if(!this.headJoint)throw new Error("Rope: headJoint not found");if(!this.tailJoint)throw new Error("Rope: tailJoint not found")}},{key:"start",value:function(){this.nodes=[],this.node.setPosition(this.headJoint.getPosition());for(var e=this.tailJoint.getPosition().clone().add(new p(20,-40)).add(this.headJoint.getPosition().clone().multiplyScalar(-1)).multiplyScalar(1/this.length),n=0;n<this.length;n++){var o=this.createNode();if(!o)return void console.warn("Rope: node-".concat(n," not found"));if(o.setPosition(e.clone().multiplyScalar(n)),o.name="node-".concat(n),this.node.addChild(o),this.nodes.length>0){var t=this.nodes[this.nodes.length-1],i=o.addComponent(u);i.anchor=new f(0,-4),i.connectedAnchor=new f(0,4),i.connectedBody=t.getComponent(m)}this.nodes.push(o)}var r=this.nodes[0].addComponent(u);r.anchor=new f(0,-4),r.connectedBody=this.headJoint.getComponent(m);var a=this.nodes[this.nodes.length-1].addComponent(u);a.anchor=new f(0,4),a.connectedAnchor=new f(0,116),a.connectedBody=this.tailJoint.getComponent(m)}},{key:"disconnect",value:function(){var e=this.nodes[0].getComponent(u);if(e){e.connectedBody=null,e.enabled=!1;var n=this.nodes[this.nodes.length-1].getComponent(u);n?(n.connectedBody=null,n.enabled=!1,this.nodes.forEach((function(e){var n=e.getComponent(g);n?n.enabled=!1:console.warn("Rope: Sprite not found")}))):console.warn("Rope: HingeJoint2D not found")}else console.warn("Rope: HingeJoint2D not found")}},{key:"createNode",value:function(){var e=new v("node");e.layer=this.node.layer,e.addComponent(g).spriteFrame=this.frame;var n=e.addComponent(y);n.setAnchorPoint(.5,.5);var o=e.addComponent(m);return o.linearDamping=2,o.angularDamping=20,o.gravityScale=.1,o.group=R.ROPE,e.addComponent(C).size=n.contentSize,e}}]),d}(w)).prototype,"frame",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=n(P.prototype,"length",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),D=P))||D));d._RF.pop()}}}));

System.register("chunks:///_virtual/SceneKeys.ts",["cc"],(function(e){var c;return{setters:[function(e){c=e.cclegacy}],execute:function(){c._RF.push({},"32598ObpVZK/pecmWIdcs+7","SceneKeys",void 0);e("default",{TEST_SCENE:"TestScene",LOAD_SCENE:"LoadScene",GAME_SCENE:"GameScene"});c._RF.pop()}}}));

System.register("chunks:///_virtual/SceneManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,c,a,t,s,r,o,i,l;return{setters:[function(e){n=e.inherits,c=e.createSuper,a=e.classCallCheck,t=e.createClass,s=e.objectSpread2},function(e){r=e.cclegacy,o=e._decorator,i=e.director,l=e.Component}],execute:function(){var S;r._RF.push({},"99ab1dYv8xPSazFgS5X9NV2","SceneManager",void 0);var u=o.ccclass,d=o.disallowMultiple;e("SceneManager",u("SceneManager")(S=d(S=function(e){n(o,e);var r=c(o);function o(){var e;a(this,o);for(var n=arguments.length,c=new Array(n),t=0;t<n;t++)c[t]=arguments[t];return(e=r.call.apply(r,[this].concat(c))).scene=null,e.scenes={},e.switchScene=function(n,c){if(console.log("SceneManager.switchScene",{sceneName:n,sceneData:c}),!e.scene)throw new Error("SceneManager.switchScene: scene is null");e.scene.name!==n&&(e.scene.active=!1,e.isSceneLoaded(n)?e.runScene(n,c):e.startScene(n,c))},e.onSceneLoaded=function(n,c){if(n)console.warn("SceneManager.onSceneLoaded",n);else if(c){var a=c.name;e.scenes[a]=c.scene}},e.onSceneLaunched=function(n){return function(c,a){if(c)console.warn("SceneManager.onSceneLaunched",c);else if(a){var t=a.name;e.createSceneList(),e.scenes[t]=a,e.setSceneData(t,n||{})}}},e}return t(o,[{key:"__preload",value:function(){console.log("SceneManager.__preload")}},{key:"onLoad",value:function(){this.scene=this.node.scene}},{key:"listenSwitchSceneEvent",value:function(e){var n=globalThis.game.event,c=GameCore.Events;n.clear(c.SWITCH_SCENE),n.on(c.SWITCH_SCENE,e)}},{key:"getScene",value:function(e){return this.createSceneList(),this.scenes[e]}},{key:"startScene",value:function(e,n){console.log("SceneManager.startScene",{sceneName:e,sceneData:n}),i.loadScene(e,this.onSceneLaunched(n))}},{key:"runScene",value:function(e,n){console.log("SceneManager.runScene",{sceneName:e,sceneData:n}),this.setSceneData(e,n||{});var c=this.getScene(e);i.runScene(c)}},{key:"setSceneData",value:function(e,n){if(n){var c=this.getScene(e);if(c){if("data"in c.scene){var a=c.scene.data||{};c.attr({data:s(s({},a),n)})}}else console.warn("SceneManager.setSceneData","Scene ".concat(e," not found"))}}},{key:"getSceneData",value:function(e){var n=this.getScene(e);return n&&"data"in n.scene&&n.scene.data||{}}},{key:"createSceneList",value:function(){this.scenes||(this.scenes={})}},{key:"isSceneLoaded",value:function(e){return this.createSceneList(),!!this.scenes[e]}},{key:"preloadScene",value:function(e){i.preloadScene(e,this.onSceneLoaded)}}]),o}(l))||S)||S);r._RF.pop()}}}));

System.register("chunks:///_virtual/ScreenCongratulation.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ScreenKeys.ts"],(function(e){var n,t,r,a,c,o,s,u;return{setters:[function(e){n=e.inherits,t=e.createSuper,r=e.classCallCheck,a=e.createClass},function(e){c=e.cclegacy,o=e._decorator,s=e.Component},function(e){u=e.default}],execute:function(){var i;c._RF.push({},"0fd01MYjfdD+4IeN6PtQl3m","ScreenCongratulation",void 0);var l=o.ccclass,C=globalThis.game.event;e("ScreenCongratulation",l("ScreenCongratulation")(i=function(e){n(o,e);var c=t(o);function o(){return r(this,o),c.apply(this,arguments)}return a(o,[{key:"show",value:function(){C.emit(GameCore.Events.OPEN_SCREEN,{screenName:u.CONGRATULATION_SCREEN})}},{key:"close",value:function(){C.emit(GameCore.Events.CLOSE_SCREEN,{screenName:u.CONGRATULATION_SCREEN})}}]),o}(s))||i);c._RF.pop()}}}));

System.register("chunks:///_virtual/ScreenKeys.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"0eeb868JeVE67iFwhbkRCmE","ScreenKeys",void 0);e("default",{MAP_SCREEN:"MapScreen",LOSE_SCREEN:"LoseScreen",LOADING_SCREEN:"LoadingScreen",WINNING_SCREEN:"WinningScreen",SETTINGS_SCREEN:"SettingsScreen",NOTIFICATION_SCREEN:"NotificationScreen",CONGRATULATION_SCREEN:"CongratulationScreen"});n._RF.pop()}}}));

System.register("chunks:///_virtual/ScreenLevel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ScreenKeys.ts"],(function(e){var n,t,c,r,s,a,o,u;return{setters:[function(e){n=e.inherits,t=e.createSuper,c=e.classCallCheck,r=e.createClass},function(e){s=e.cclegacy,a=e._decorator,o=e.Component},function(e){u=e.default}],execute:function(){var l;s._RF.push({},"26c13nB9ZtEeJG0W7g08Tp6","ScreenLevel",void 0);var i=a.ccclass,v=globalThis.game.event;e("ScreenLose",i("ScreenMap")(l=function(e){n(a,e);var s=t(a);function a(){return c(this,a),s.apply(this,arguments)}return r(a,[{key:"show",value:function(){v.emit(GameCore.Events.OPEN_SCREEN,{screenName:u.MAP_SCREEN,screenData:{}})}},{key:"close",value:function(){v.emit(GameCore.Events.CLOSE_SCREEN,{screenName:u.MAP_SCREEN})}}]),a}(o))||l);s._RF.pop()}}}));

System.register("chunks:///_virtual/ScreenLoading.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ScreenKeys.ts"],(function(e){var n,t,r,c,a,s,o,i;return{setters:[function(e){n=e.inherits,t=e.createSuper,r=e.classCallCheck,c=e.createClass},function(e){a=e.cclegacy,s=e._decorator,o=e.Component},function(e){i=e.default}],execute:function(){var u;a._RF.push({},"bb2dcIUQjhPDLt7B6ga20s/","ScreenLoading",void 0);var l=s.ccclass,v=globalThis.game.event;e("ScreenLoading",l("ScreenLoading")(u=function(e){n(s,e);var a=t(s);function s(){return r(this,s),a.apply(this,arguments)}return c(s,[{key:"show",value:function(e,n){var t=Number(n);v.emit(GameCore.Events.OPEN_SCREEN,{screenName:i.LOADING_SCREEN,screenData:{duration:t}})}},{key:"close",value:function(){v.emit(GameCore.Events.CLOSE_SCREEN,{screenName:i.LOADING_SCREEN})}}]),s}(o))||u);a._RF.pop()}}}));

System.register("chunks:///_virtual/ScreenLose.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ScreenKeys.ts"],(function(e){var n,t,c,r,s,a,o,u;return{setters:[function(e){n=e.inherits,t=e.createSuper,c=e.classCallCheck,r=e.createClass},function(e){s=e.cclegacy,a=e._decorator,o=e.Component},function(e){u=e.default}],execute:function(){var l;s._RF.push({},"f3a15oYustB1aev6BrFD/7Y","ScreenLose",void 0);var i=a.ccclass,E=globalThis.game.event;e("ScreenLose",i("ScreenLose")(l=function(e){n(a,e);var s=t(a);function a(){return c(this,a),s.apply(this,arguments)}return r(a,[{key:"show",value:function(){E.emit(GameCore.Events.OPEN_SCREEN,{screenName:u.LOSE_SCREEN,screenData:{level:1}})}},{key:"close",value:function(){E.emit(GameCore.Events.CLOSE_SCREEN,{screenName:u.LOSE_SCREEN})}}]),a}(o))||l);s._RF.pop()}}}));

System.register("chunks:///_virtual/ScreenManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseScreen.ts"],(function(e){var n,r,c,a,t,o,s,l;return{setters:[function(e){n=e.inherits,r=e.createSuper,c=e.classCallCheck,a=e.createClass},function(e){t=e.cclegacy,o=e._decorator,s=e.Component},function(e){l=e.BaseScreen}],execute:function(){var i;t._RF.push({},"00dcd//LMhJA4U/K/BvrB4h","ScreenManager",void 0);var u=o.ccclass,S=o.disallowMultiple;e("ScreenManager",u("ScreenManager")(i=S(i=function(e){n(o,e);var t=r(o);function o(){var e;c(this,o);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).screens={},e}return a(o,[{key:"__preload",value:function(){var e=this;console.log("ScreenManager.__preload"),this.getComponentsInChildren(l).forEach((function(n){e.addScreen(n)})),this.listenScreenEvents()}},{key:"listenScreenEvents",value:function(){var e=this,n=globalThis.game.event,r=GameCore.Events;n.on(r.OPEN_SCREEN,(function(n){var r=n.screenName,c=n.screenData;e.openScreen(r,c)})),n.on(r.CLOSE_SCREEN,(function(n){var r=n.screenName;e.closeScreen(r)}))}},{key:"addScreen",value:function(e){this.screens[e.node.name]=e}},{key:"getScreen",value:function(e){return this.screens[e]}},{key:"openScreen",value:function(e,n){var r=this.getScreen(e);if(r){r.node.active=!0;var c=GameCore.Events,a=globalThis.game.event,t={screenName:e,screenData:n};a.emit(c.OPENING_SCREEN,t),r.open(n),a.emit(c.OPENED_SCREEN,t)}else console.warn("ScreenManager.openScreen","Screen ".concat(e," not found"))}},{key:"closeScreen",value:function(e){var n=this.getScreen(e);if(n){var r=GameCore.Events,c={screenName:e};globalThis.game.event.emit(r.CLOSING_SCREEN,c),n.close()}else console.warn("ScreenManager.closeScreen","Screen ".concat(e," not found"))}}]),o}(s))||i)||i);t._RF.pop()}}}));

System.register("chunks:///_virtual/ScreenNotification.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ScreenKeys.ts"],(function(e){var t,n,c,i,r,s,o,a;return{setters:[function(e){t=e.inherits,n=e.createSuper,c=e.classCallCheck,i=e.createClass},function(e){r=e.cclegacy,s=e._decorator,o=e.Component},function(e){a=e.default}],execute:function(){var u;r._RF.push({},"71603KupFhNAYktx1isDcrj","ScreenNotification",void 0);var l=s.ccclass,N=globalThis.game.event;e("ScreenNotification",l("ScreenNotification")(u=function(e){t(s,e);var r=n(s);function s(){return c(this,s),r.apply(this,arguments)}return i(s,[{key:"show",value:function(e,t){var n=String(t);N.emit(GameCore.Events.OPEN_SCREEN,{screenName:a.NOTIFICATION_SCREEN,screenData:{message:n,isCloseButtonVisible:!0}})}},{key:"close",value:function(){N.emit(GameCore.Events.CLOSE_SCREEN,{screenName:a.LOADING_SCREEN})}}]),s}(o))||u);r._RF.pop()}}}));

System.register("chunks:///_virtual/ScreenSettings.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ScreenKeys.ts"],(function(e){var t,n,r,s,c,a,i,o;return{setters:[function(e){t=e.inherits,n=e.createSuper,r=e.classCallCheck,s=e.createClass},function(e){c=e.cclegacy,a=e._decorator,i=e.Component},function(e){o=e.default}],execute:function(){var u;c._RF.push({},"1fb3eggYuVBQo5Uuzm/Nmjh","ScreenSettings",void 0);var S=a.ccclass,l=globalThis.game.event;e("ScreenSettings",S("ScreenSettings")(u=function(e){t(a,e);var c=n(a);function a(){return r(this,a),c.apply(this,arguments)}return s(a,[{key:"show",value:function(e,t){var n=String(t);l.emit(GameCore.Events.OPEN_SCREEN,{screenName:o.SETTINGS_SCREEN,screenData:{message:n}})}},{key:"close",value:function(){l.emit(GameCore.Events.CLOSE_SCREEN,{screenName:o.SETTINGS_SCREEN})}}]),a}(i))||u);c._RF.pop()}}}));

System.register("chunks:///_virtual/ScreenWinning.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ScreenKeys.ts"],(function(e){var n,c,t,r,s,a,i,o;return{setters:[function(e){n=e.inherits,c=e.createSuper,t=e.classCallCheck,r=e.createClass},function(e){s=e.cclegacy,a=e._decorator,i=e.Component},function(e){o=e.default}],execute:function(){var u;s._RF.push({},"ae2cdksVsdJUKhhznchh9wJ","ScreenWinning",void 0);var l=a.ccclass,N=globalThis.game.event;e("ScreenWinning",l("ScreenWinning")(u=function(e){n(a,e);var s=c(a);function a(){return t(this,a),s.apply(this,arguments)}return r(a,[{key:"show",value:function(){N.emit(GameCore.Events.OPEN_SCREEN,{screenName:o.WINNING_SCREEN,screenData:{stars:2,level:12}})}},{key:"close",value:function(){N.emit(GameCore.Events.CLOSE_SCREEN,{screenName:o.WINNING_SCREEN})}}]),a}(i))||u);s._RF.pop()}}}));

System.register("chunks:///_virtual/SeekingPathBehavior.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BeeRole.ts","./BeeState.ts","./GameObject.ts","./Line.ts"],(function(e){var t,i,s,n,o,a,r,h;return{setters:[function(e){t=e.createClass,i=e.classCallCheck},function(e){s=e.cclegacy,n=e.math},function(e){o=e.default},function(e){a=e.default},function(e){r=e.ObjectNames},function(e){h=e.Line}],execute:function(){s._RF.push({},"afc3eWzi4tHNYb9W7f6QpCX","SeekingPathBehavior",void 0);e("default",function(){function e(t,s){i(this,e),this.isFinishSeeking=!1,this.vectorDataGroup=[],this.index=0,this.bee=t,this.isSeekToLastPoint=s,this.vectorDataGroup=[],this.isFinishSeeking=!1,this.time=.02,this.remaining=0,this.index=0}return t(e,[{key:"seek",value:function(e){var t=this.bee.node.scene.getComponentInChildren(h);if(!t)return console.warn("Bee: Line is null"),!1;var i=t.colliders.findIndex((function(t){if(t.tag==e.tag)return!0}));if(-1==i)return!1;this.vectorDataGroup=[],this.isFinishSeeking=!1,this.time=.04,this.remaining=0,this.index=0;var s=this.bee.speed;return s||(s=n.randomRange(20,30)),this.isSeekToLastPoint?this.seekToLastPoint(i,t,s):this.seekToFirstPoint(i,t,s),!0}},{key:"seekToLastPoint",value:function(e,t,i){for(var s=e;s<t.colliders.length-1;s++){var n=t.colliders[s],o=t.colliders[s+1],a=this.bee.getVectorDataFromAToB(n.worldPosition,o.worldPosition);a.vector.multiplyScalar(i),this.vectorDataGroup.push(a)}}},{key:"seekToFirstPoint",value:function(e,t,i){for(var s=e;s>0;s--){var n=t.colliders[s],o=t.colliders[s-1],a=this.bee.getVectorDataFromAToB(n.worldPosition,o.worldPosition);a.vector.multiplyScalar(i),this.vectorDataGroup.push(a)}}},{key:"flyToNextDirection",value:function(){var e=this.vectorDataGroup[this.index];if(this.index+=1,!e)return this.isFinishSeeking=!0,this.bee.setRole(o.NORMAL),void this.bee.setState(a.ATTACKING);this.bee.move(e)}},{key:"fly",value:function(e){this.remaining+=e,this.remaining>this.time&&(this.flyToNextDirection(),this.time=.02,this.remaining=0)}},{key:"onBeginContact",value:function(e,t){if(this.bee.state==a.SEEKING_PATH&&t.node.name!=r.LINE)return this.isFinishSeeking=!0,this.bee.setRole(o.NORMAL),void this.bee.setState(a.ATTACKING);this.isFinishSeeking||this.bee.state==a.WAITING_TO_SEEK_PATH||t.node.name!=r.LINE||this.handlePathSeekerTouchLine(t)}},{key:"handlePathSeekerTouchLine",value:function(e){var t=this;this.seek(e)&&this.bee.state!=a.SEEKING_PATH&&(this.bee.setState(a.WAITING_TO_SEEK_PATH),this.bee.scheduleOnce((function(){t.bee.setState(a.SEEKING_PATH)}),.3))}},{key:"update",value:function(e){return this.bee.state==a.SEEKING_PATH&&(this.fly(e),!0)}}]),e}());s._RF.pop()}}}));

System.register("chunks:///_virtual/SettingsScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Music.ts","./OpacityToggler.ts","./SwitchButton.ts","./GameEvents2.ts","./BaseScreen.ts"],(function(e){var t,n,i,o,s,r,a,u,c,l,S,g,d,v,h,f,p,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inherits,i=e.createSuper,o=e.classCallCheck,s=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.createClass},function(e){u=e.cclegacy,c=e._decorator,l=e.Node,S=e.Button,g=e.find,d=e.Component},function(e){v=e.Music},function(e){h=e.OpacityToggler},function(e){f=e.SwitchButton},function(e){p=e.default},function(e){m=e.BaseScreen}],execute:function(){var y,C,b,w,E,k,M,B,I,P;u._RF.push({},"61932YLC/5CFrE0eD0ez8Zg","SettingsScreen",void 0);var N=c.ccclass,_=c.property,R=c.requireComponent,O=GameCore,z=O.Events,A=O.Utils,D=globalThis.game,G=D.player,U=D.event;e("SettingsScreen",(y=N("SettingsScreen"),C=R(m),b=_(l),w=_(l),E=_(l),y(k=C((B=t((M=function(e){n(u,e);var t=i(u);function u(){var e;o(this,u);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),s(e,"musicSetting",B,r(e)),s(e,"soundSetting",I,r(e)),s(e,"vibrateSetting",P,r(e)),e.updateVibrateButton=function(){var t=e.vibrateSetting.getComponentInChildren(S),n=e.vibrateSetting.getComponentInChildren(f),i=e.vibrateSetting.getComponentInChildren(h);if(t&&n&&i)if(A.Device.isAndroid()||A.Device.isIOS()){var o=G.getPlayerSetting("vibrate")||!1;n.setEnabled(o)}else t.interactable=!1,n.setEnabled(!1),i.changeState(!1);else console.warn("SettingsScreen: vibrate button missing components")},e}return a(u,[{key:"__preload",value:function(){this.getBaseScreen(),this.listenScreenEvents()}},{key:"getBaseScreen",value:function(){var e=this.getComponent(m);e?this.screen=e:console.warn("SettingsScreen: BaseScreen not found")}},{key:"onLoad",value:function(){this.validateRequiredComponents()}},{key:"validateRequiredComponents",value:function(){if(!this.musicSetting)throw new Error("SettingsScreen: musicSetting not found");if(!this.soundSetting)throw new Error("SettingsScreen: soundSetting not found");if(!this.vibrateSetting)throw new Error("SettingsScreen: vibrateSetting not found")}},{key:"listenScreenEvents",value:function(){var e=this;U.on(z.OPENING_SCREEN,(function(t){console.log("NotificationScreen.OPENING_SCREEN",t),e.validateEventPayload(t)&&e.updateStatus()}))}},{key:"validateEventPayload",value:function(e){return e.screenName===this.node.name}},{key:"open",value:function(){this.updateStatus(),this.runPopUpAnimation()}},{key:"close",value:function(){U.emit(z.CLOSE_SCREEN,{screenName:this.node.name})}},{key:"updateStatus",value:function(){var e={music:G.getPlayerSetting("music")||!1,sound:G.getPlayerSetting("sound")||!1,vibrate:G.getPlayerSetting("vibrate")||!1},t=this.musicSetting.getComponentInChildren(f),n=this.soundSetting.getComponentInChildren(f);t?n?(t.setEnabled(e.music),n.setEnabled(e.sound),this.scheduleOnce(this.updateVibrateButton,.1)):console.warn("SettingsScreen: soundSwitch not found"):console.warn("SettingsScreen: musicSwitch not found")}},{key:"runPopUpAnimation",value:function(){this.screen.container||console.warn("SettingsScreen: screen not found")}},{key:"switchMusicButton",value:function(){var e=this.musicSetting.getComponentInChildren(f);if(e){var t=e.switch();G.setSetting("music",t),t?this.playMusic():this.pauseMusic()}else console.warn("SettingsScreen: musicSwitch not found")}},{key:"switchSoundButton",value:function(){var e=this.soundSetting.getComponentInChildren(f);if(e){var t=e.switch();G.setSetting("sound",t)}else console.warn("SettingsScreen: soundSwitch not found")}},{key:"switchVibrateButton",value:function(){var e=this.vibrateSetting.getComponentInChildren(f);if(e){var t=e.switch();G.setSetting("vibrate",t)}else console.warn("SettingsScreen: vibrateSwitch not found")}},{key:"handleClickedResume",value:function(){this.close(),this.node.scene.emit(p.GAME_RESUME)}},{key:"handleClickedClose",value:function(){this.close(),this.node.scene.emit(p.GAME_RESUME)}},{key:"pauseMusic",value:function(){var e=this.getMusicComponent();e&&e.pause("sounds/bg-music")}},{key:"playMusic",value:function(){var e=this.getMusicComponent();e&&e.play("sounds/bg-music")}},{key:"getMusicComponent",value:function(){var e,t=null===(e=g("Music"))||void 0===e?void 0:e.getComponent(v);return t||(console.warn("SettingsScreen: Music not found"),null)}}]),u}(d)).prototype,"musicSetting",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(M.prototype,"soundSetting",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(M.prototype,"vibrateSetting",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=M))||k)||k));u._RF.pop()}}}));

System.register("chunks:///_virtual/Sound.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioChannel.ts"],(function(e){var n,t,a,i,l,o,u,s,r,c,h,d,p;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inherits,a=e.createSuper,i=e.classCallCheck,l=e.initializerDefineProperty,o=e.assertThisInitialized,u=e.createClass},function(e){s=e.cclegacy,r=e._decorator,c=e.CCString,h=e.director,d=e.Component},function(e){p=e.default}],execute:function(){var f,y,v,k,m;s._RF.push({},"1299a7X1XNNEKxSKMV6E5jQ","Sound",void 0);var I=r.ccclass,S=r.property,g=globalThis.game,b=g.audio,C=g.player;e("Sound",(f=I("Sound"),y=S(c),f((m=n((k=function(e){t(s,e);var n=a(s);function s(){var e;i(this,s);for(var t=arguments.length,a=new Array(t),u=0;u<t;u++)a[u]=arguments[u];return e=n.call.apply(n,[this].concat(a)),l(e,"channelId",m,o(e)),e.channel=null,e}return u(s,[{key:"__preload",value:function(){this.channel=new p(this.node,this.channelId),b.addChannel(this.channel)}},{key:"onLoad",value:function(){""===this.channelId&&(this.channelId=this.node.uuid)}},{key:"makePersistent",value:function(){h.addPersistRootNode(this.node)}},{key:"removePersistent",value:function(){h.removePersistRootNode(this.node)}},{key:"play",value:function(e,n){this.isSoundEnable()&&b.play(e,n,this.channelId)}},{key:"isSoundEnable",value:function(){return!!C.getPlayerSetting("sound")}},{key:"setVolume",value:function(e){b.setVolume(e,this.channelId)}},{key:"pause",value:function(e){b.pause(e,this.channelId)}},{key:"resume",value:function(e){this.isSoundEnable()&&b.resume(e,this.channelId)}},{key:"stop",value:function(e){b.stop(e,this.channelId)}},{key:"stopAll",value:function(){b.stopAll(this.channelId)}},{key:"mute",value:function(e){e?b.mute(this.channelId):b.unmute(this.channelId)}}]),s}(d)).prototype,"channelId",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),v=k))||v));s._RF.pop()}}}));

System.register("chunks:///_virtual/SoundKeys.ts",["cc"],(function(s){var n,u;return{setters:[function(s){n=s.cclegacy,u=s.ccenum}],execute:function(){n._RF.push({},"d159egaUVVLHKLg1UL865ub","SoundKeys",void 0);var o=s("default",function(s){return s[s["sounds/bee-flying"]=0]="sounds/bee-flying",s[s["sounds/bee-sting-doge"]=1]="sounds/bee-sting-doge",s[s["sounds/bg-music"]=2]="sounds/bg-music",s[s["sounds/button-click"]=3]="sounds/button-click",s[s["sounds/collecting-coins"]=4]="sounds/collecting-coins",s[s["sounds/doge-dies"]=5]="sounds/doge-dies",s[s["sounds/doge-hurt"]=6]="sounds/doge-hurt",s[s["sounds/end-draw"]=7]="sounds/end-draw",s[s["sounds/hand-clap"]=8]="sounds/hand-clap",s[s["sounds/level-fail"]=9]="sounds/level-fail",s[s["sounds/level-pass"]=10]="sounds/level-pass",s[s["sounds/lost-star-in-gameplay"]=11]="sounds/lost-star-in-gameplay",s[s["sounds/raise-star"]=12]="sounds/raise-star",s[s["sounds/spawn-coins"]=13]="sounds/spawn-coins",s[s["sounds/star-raise"]=14]="sounds/star-raise",s[s["sounds/writing-1"]=15]="sounds/writing-1",s[s["sounds/writing-2"]=16]="sounds/writing-2",s[s["sounds/writing-3"]=17]="sounds/writing-3",s[s["sounds/writing-4"]=18]="sounds/writing-4",s}(o||{}));u(o);var d=Object.keys(o).filter((function(s){return isNaN(Number(s))}));s("SoundKeysMapping",d.reduce((function(s,n){return s[o[n]]=n,s}),{}));n._RF.pop()}}}));

System.register("chunks:///_virtual/SpineAnimationName.ts",["cc"],(function(a){var i;return{setters:[function(a){i=a.cclegacy}],execute:function(){i._RF.push({},"8a02eYTwSpP9IpQ4MrTsAiL","SpineAnimationName",void 0);a("default",{DOGE:{IDLE:"normal",SMILE:"smile",HURT:"hurt",INACTIVE:"cry",DROWNING:"hurt",FREAK_OUT:"freak out",THORN_INACTIVE:"die"},DOGE_WINNING_SCREEN:{APPEAR:"animation",SMILE:"animation1"},HORN:{APPEAR:"laba1",PLAYING:"laba2"},BEE:{FLAP_WINGS:"animation",SMOKE_DISAPPEAR:"animation3"},BALLOON:{APPEAR:"animation",EXPLODE:"animation2"}});i._RF.pop()}}}));

System.register("chunks:///_virtual/Star.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var e,i,t,a,o,r,s,c,p,l,u,h;return{setters:[function(n){e=n.applyDecoratedDescriptor,i=n.inherits,t=n.createSuper,a=n.classCallCheck,o=n.initializerDefineProperty,r=n.assertThisInitialized,s=n.createClass},function(n){c=n.cclegacy,p=n._decorator,l=n.Animation,u=n.Component,h=n.Vec3}],execute:function(){var f,d,v,m,y,A,w,S;c._RF.push({},"7c115t9HKlH6ZfnhCnLAnpe","Star",void 0);var k=p.ccclass,C=p.property,b=p.requireComponent;n("Star",(f=k("Star"),d=b(l),v=C(u),m=C(l),f(y=d((w=e((A=function(n){i(c,n);var e=t(c);function c(){var n;a(this,c);for(var i=arguments.length,t=new Array(i),s=0;s<i;s++)t[s]=arguments[s];return n=e.call.apply(e,[this].concat(t)),o(n,"starAppearance",w,r(n)),o(n,"animation",S,r(n)),n.isAppear=!1,n.initialPosition=new h,n}return s(c,[{key:"onLoad",value:function(){this.initialPosition=this.node.position.clone(),this.validateRequiredComponents()}},{key:"validateRequiredComponents",value:function(){if(!this.starAppearance)throw new Error("Star: StarAppearance not found")}},{key:"resetPosition",value:function(){this.node.setPosition(this.initialPosition)}},{key:"show",value:function(){this.starAppearance.node.active=!0,this.isAppear=!0}},{key:"hide",value:function(){this.starAppearance.node.active=!1,this.isAppear=!1}},{key:"playAnimation",value:function(){this.animation.stop();this.animation.clips.some((function(n){return!(!n||"UpAndDown"!==n.name)}))?this.animation.play("UpAndDown"):console.warn("SettingsScreen: clip not found")}},{key:"stopAnimation",value:function(){this.animation.stop()}}]),c}(u)).prototype,"starAppearance",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=e(A.prototype,"animation",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=A))||y)||y));c._RF.pop()}}}));

System.register("chunks:///_virtual/StateManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AttackingState.ts","./DeathState.ts","./DrawingState.ts","./EscapeState.ts","./FinishState.ts","./LoadingState.ts","./ReadyState.ts"],(function(t){var e,a,n,i,s,u,c,o,r,f,l,h,d,v;return{setters:[function(t){e=t.inherits,a=t.createSuper,n=t.classCallCheck,i=t.createClass},function(t){s=t.cclegacy,u=t._decorator,c=t.Component},function(t){o=t.default},function(t){r=t.default},function(t){f=t.default},function(t){l=t.default},function(t){h=t.default},function(t){d=t.default},function(t){v=t.default}],execute:function(){var y;s._RF.push({},"bb0e3beWSxOOLCv7gjyg2s0","StateManager",void 0);var k=u.ccclass;t("StateManager",k("StateManager")(y=function(t){e(u,t);var s=a(u);function u(){return n(this,u),s.apply(this,arguments)}return i(u,[{key:"init",value:function(){this.state=new d(this)}},{key:"change",value:function(t){this.state=t}},{key:"load",value:function(){this.state.load()}},{key:"isLoading",value:function(){return this.state instanceof d}},{key:"ready",value:function(){this.state.ready()}},{key:"isReady",value:function(){return this.state instanceof v}},{key:"draw",value:function(){this.state.draw()}},{key:"isDrawing",value:function(){return this.state instanceof f}},{key:"attack",value:function(){this.state.attack()}},{key:"isAttacking",value:function(){return this.state instanceof o}},{key:"escape",value:function(){this.state.escape()}},{key:"isSurviving",value:function(){return this.state instanceof l}},{key:"death",value:function(){this.state.death()}},{key:"isFailed",value:function(){return this.state instanceof r}},{key:"finish",value:function(){this.state.finish()}},{key:"isFinished",value:function(){return this.state instanceof h}},{key:"update",value:function(t){this.state&&this.state.update(t)}}]),u}(c))||y);s._RF.pop()}}}));

System.register("chunks:///_virtual/SwitchButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundKeys.ts","./Sound.ts"],(function(e){var n,t,i,o,u,a,r,l,s,c,d,f,p,h,y,b,v;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inherits,i=e.createSuper,o=e.classCallCheck,u=e.initializerDefineProperty,a=e.assertThisInitialized,r=e.createClass},function(e){l=e.cclegacy,s=e._decorator,c=e.Button,d=e.CCBoolean,f=e.Node,p=e.find,h=e.Component},function(e){y=e.default,b=e.SoundKeysMapping},function(e){v=e.Sound}],execute:function(){var S,w,m,g,C,O,B,k,z,K,_,q,D,E;l._RF.push({},"aa4b0d0u0hLeqd3+/PQZ/QD","SwitchButton",void 0);var L=s.ccclass,P=s.property,R=s.requireComponent,T=globalThis.game.analytics;e("SwitchButton",(S=L("SwitchButton"),w=R([c]),m=P(d),g=P(f),C=P(f),O=P(d),B=P({visible:function(){return this.useSound},type:y}),S(k=w((K=n((z=function(e){t(l,e);var n=i(l);function l(){var e;o(this,l);for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return e=n.call.apply(n,[this].concat(i)),u(e,"enable",K,a(e)),u(e,"nodeOn",_,a(e)),u(e,"nodeOff",q,a(e)),u(e,"useSound",D,a(e)),u(e,"soundKey",E,a(e)),e}return r(l,[{key:"onLoad",value:function(){this.validateRequiredComponents()}},{key:"validateRequiredComponents",value:function(){if(!this.nodeOn)throw new Error("SwitchButton: nodeOn not found");if(!this.nodeOff)throw new Error("SwitchButton: nodeOff not found")}},{key:"switch",value:function(){return!!this.node.active&&(T.event(GameCore.Plugins.Analytics.Events.BUTTON_CLICK,{switch_name:this.node.name,enable:!this.enable}),this.useSound&&this.playSound(b[this.soundKey]),this.updateStatus(!this.enable))}},{key:"setEnabled",value:function(e){this.node.active&&this.updateStatus(e)}},{key:"updateStatus",value:function(e){return this.enable=e,this.nodeOn.active=e,this.nodeOff.active=!e,e}},{key:"playSound",value:function(e){var n,t;null===(n=p("Sound"))||void 0===n||null===(t=n.getComponent(v))||void 0===t||t.play(e)}}]),l}(h)).prototype,"enable",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),_=n(z.prototype,"nodeOn",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=n(z.prototype,"nodeOff",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=n(z.prototype,"useSound",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),E=n(z.prototype,"soundKey",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y["sounds/button-click"]}}),k=z))||k)||k));l._RF.pop()}}}));

System.register("chunks:///_virtual/TestScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SceneManager.ts","./ScreenKeys.ts","./en.json"],(function(e){var n,t,a,s,c,r,o,i,u,l,S,v;return{setters:[function(e){n=e.inherits,t=e.createSuper,a=e.classCallCheck,s=e.createClass,c=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){o=e.cclegacy,i=e._decorator,u=e.Component},function(e){l=e.SceneManager},function(e){S=e.default},function(e){v=e.default}],execute:function(){var h;o._RF.push({},"0a4aeK2lAdAjq0xWi6SCbV+","TestScene",void 0);var f=i.ccclass,p=i.disallowMultiple,d=i.requireComponent,E=GameCore.Events,g=globalThis.game,C=g.event,m=g.language;e("TestScene",f("TestScene")(h=p(h=d(l)(h=function(e){n(u,e);var o,i=t(u);function u(){var e;a(this,u);for(var n=arguments.length,t=new Array(n),s=0;s<n;s++)t[s]=arguments[s];return(e=i.call.apply(i,[this].concat(t))).handleSwitchSceneEvent=function(n){var t,a=n.sceneName,s=n.sceneData;null===(t=e.scene)||void 0===t||t.switchScene(a,s)},e}return s(u,[{key:"__preload",value:function(){this.setupLanguage(),this.scene=this.getComponent(l),this.validateRequiredComponents(),this.scene.listenSwitchSceneEvent(this.handleSwitchSceneEvent)}},{key:"validateRequiredComponents",value:function(){if(!this.scene)throw new Error("GameScene: SceneManager not found")}},{key:"onLoad",value:function(){this.listenScreenEvents()}},{key:"setupLanguage",value:(o=c(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m.add("en",v),m.choose("en");case 2:case"end":return e.stop()}}),e)}))),function(){return o.apply(this,arguments)})},{key:"listenScreenEvents",value:function(){C.once(E.CLOSED_SCREEN,(function(e){e.screenName===S.LOADING_SCREEN&&C.emit(E.OPEN_SCREEN,{screenName:S.NOTIFICATION_SCREEN,screenData:{message:"Test screen events pass!",duration:2,isCloseButtonVisible:!1}})}))}},{key:"start",value:function(){console.log("TestScene.start"),C.emit(E.OPEN_SCREEN,{screenName:S.LOADING_SCREEN,screenData:{duration:.5}})}}]),u}(u))||h)||h)||h);o._RF.pop()}}}));

System.register("chunks:///_virtual/UIManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Clock.ts","./Header.ts"],(function(e){var t,n,a,o,r,i,u,l,s,c,h,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inherits,a=e.createSuper,o=e.classCallCheck,r=e.initializerDefineProperty,i=e.assertThisInitialized,u=e.createClass},function(e){l=e.cclegacy,s=e._decorator,c=e.Component},function(e){h=e.Clock},function(e){d=e.Header}],execute:function(){var k,v,f,p,y,b,C;l._RF.push({},"a3b0f6zU+1D97PyszsgST1H","UIManager",void 0);var g=s.ccclass,w=s.property;e("UIManager",(k=g("UIManager"),v=w(h),f=w(d),k((b=t((y=function(e){n(l,e);var t=a(l);function l(){var e;o(this,l);for(var n=arguments.length,a=new Array(n),u=0;u<n;u++)a[u]=arguments[u];return e=t.call.apply(t,[this].concat(a)),r(e,"clock",b,i(e)),r(e,"header",C,i(e)),e}return u(l,[{key:"__preload",value:function(){}},{key:"onLoad",value:function(){}},{key:"start",value:function(){}},{key:"setLevelText",value:function(e){this.header.setLevelText(e)}},{key:"initCountdown",value:function(){this.clock.init()}},{key:"startCountdown",value:function(){this.clock.startCountdown()}},{key:"pauseCountdown",value:function(){this.clock.pause()}},{key:"resumeCountdown",value:function(){this.clock.resume()}},{key:"showUncompletedMark",value:function(){this.clock.showUncompletedMark()}},{key:"showCompletedMark",value:function(){this.clock.showCompletedMark()}},{key:"setProgressBarPercentage",value:function(e){this.header.setProgress(e)}},{key:"setProgressStars",value:function(e){this.header.setProgressStars(e)}},{key:"startCountDownHeaderHintBubbleAnim",value:function(){this.header.startCountDownHintBubble()}},{key:"stopCountDownHeaderHintBubbleAnim",value:function(){this.header.stopCountDownHintBubble()}},{key:"disableUI",value:function(){var e;null===(e=this.header)||void 0===e||e.disableButtons()}},{key:"enableUI",value:function(){var e;null===(e=this.header)||void 0===e||e.enableButtons()}}]),l}(c)).prototype,"clock",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(y.prototype,"header",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=y))||p));l._RF.pop()}}}));

System.register("chunks:///_virtual/Vibrate.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,a,i,n,c,l;return{setters:[function(e){t=e.inherits,r=e.createSuper,a=e.classCallCheck,i=e.createClass},function(e){n=e.cclegacy,c=e._decorator,l=e.Component}],execute:function(){var s;n._RF.push({},"9b958Lf6PFClb/JuJfTLzxG","Vibrate",void 0);var u=c.ccclass,o=GameCore.Utils,b=globalThis.game.player;e("Vibrate",u("Vibrate")(s=function(e){t(c,e);var n=r(c);function c(){return a(this,c),n.apply(this,arguments)}return i(c,[{key:"vibrate",value:function(e){this.isVibrateEnable()&&o.Device.vibrate(e)}},{key:"isVibrateEnable",value:function(){return!!b.getPlayerSetting("vibrate")}}]),c}(l))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/Water.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PhysicsGroup.ts","./GraphicsPattern.ts"],(function(t){var e,n,o,a,r,i,s,c,l,d,u,h;return{setters:[function(t){e=t.inherits,n=t.createSuper,o=t.classCallCheck,a=t.createClass},function(t){r=t.cclegacy,i=t._decorator,s=t.RigidBody2D,c=t.ERigidBody2DType,l=t.PolygonCollider2D,d=t.Component},function(t){u=t.default},function(t){h=t.GraphicsPattern}],execute:function(){var p;r._RF.push({},"9aa6cp2xqhK1LJeA0kz2hWR","Water",void 0);var y=i.ccclass,g=i.requireComponent;t("Water",y("Water")(p=g([h])(p=function(t){e(i,t);var r=n(i);function i(){var t;o(this,i);for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return(t=r.call.apply(r,[this].concat(n))).polygon=[],t}return a(i,[{key:"onLoad",value:function(){this.graphicPattern=this.getComponent(h),this.validateRequiredComponents()}},{key:"validateRequiredComponents",value:function(){if(!this.graphicPattern)throw new Error("Water: GraphicsPattern not found")}},{key:"start",value:function(){this.addRigidBody(),this.addPolygonCollider(),this.drawPattern()}},{key:"addRigidBody",value:function(){var t=this.addComponent(s);t?(t.group=u.MAIN_OBJECT,t.type=c.Static):console.warn("Cannot add RigidBody2D")}},{key:"addPolygonCollider",value:function(){var t=this.addComponent(l);t?t.sensor=!0:console.warn("Cannot add PolygonCollider2D")}},{key:"drawPattern",value:function(){this.graphicPattern.setColor("#58cef0d0"),this.graphicPattern.draw(this.polygon),this.graphicPattern.applyCollider(this.polygon)}}]),i}(d))||p)||p);r._RF.pop()}}}));

System.register("chunks:///_virtual/WinningScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Music.ts","./Sound.ts","./ScreenKeys.ts","./GameEvents2.ts","./BaseScreen.ts"],(function(e){var n,t,i,o,a,r,s,l,u,c,d,v,f,h,p,y,S,g,m,C,E,b,w,k,N,L,R;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inherits,i=e.createSuper,o=e.classCallCheck,a=e.initializerDefineProperty,r=e.assertThisInitialized,s=e.asyncToGenerator,l=e.regeneratorRuntime,u=e.createClass,c=e.typeof},function(e){d=e.cclegacy,v=e._decorator,f=e.Node,h=e.Sprite,p=e.Button,y=e.Label,S=e.Vec3,g=e.UIOpacity,m=e.tween,C=e.find,E=e.ParticleSystem2D,b=e.Component},function(e){w=e.Music},function(e){k=e.Sound},function(e){N=e.default},function(e){L=e.default},function(e){R=e.BaseScreen}],execute:function(){var A,B,x,O,I,W,_,T,G,P,M,D,z,H,F,V,q,j;d._RF.push({},"35c09YGmdFA4pHOJFDg1tw5","WinningScreen",void 0);var U=v.ccclass,X=v.property,Y=v.disallowMultiple,J=v.requireComponent,K=GameCore,Q=K.Events,Z=K.Configs,$=globalThis.game,ee=$.ads,ne=$.player,te=$.event,ie=$.language;e("WinningScreen",(A=U("WinningScreen"),B=J(R),x=X(f),O=X(h),I=X(p),W=X(p),_=X(f),T=X(f),G=X(y),A(P=Y(P=B((D=n((M=function(e){t(d,e);var n=i(d);function d(){var e;o(this,d);for(var t=arguments.length,i=new Array(t),u=0;u<t;u++)i[u]=arguments[u];return e=n.call.apply(n,[this].concat(i)),a(e,"starsContainer",D,r(e)),a(e,"titleRibbon",z,r(e)),a(e,"nextLevelButton",H,r(e)),a(e,"retryLevelButton",F,r(e)),a(e,"confettiGroup",V,r(e)),a(e,"dogeHead",q,r(e)),a(e,"levelText",j,r(e)),e.starsCollected=3,e.showInterstitialAdAsync=s(l().mark((function n(){var t,i;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=e.screen.data.level,!(Z.Gameplay.StartAdAtLevel>t)){n.next=3;break}return n.abrupt("return");case 3:if(ee.canbeShowInterstitialAd()){n.next=5;break}return n.abrupt("return");case 5:return n.prev=5,e.muteAudio(!0),i=ie.getText("loading"),e.showNotificationScreen(i),n.next=11,ee.showInterstitialAdAsync();case 11:n.next=16;break;case 13:n.prev=13,n.t0=n.catch(5),console.error("showInterstitialAdAsync failed",n.t0);case 16:return n.prev=16,e.muteAudio(!1),e.closeNotificationScreen(),ee.preloadInterstitialAdAsync().catch((function(){})),n.finish(16);case 21:case"end":return n.stop()}}),n,null,[[5,13,16,21]])}))),e}return u(d,[{key:"__preload",value:function(){this.getBaseScreen(),this.listenScreenEvents()}},{key:"getBaseScreen",value:function(){var e=this.getComponent(R);e?this.screen=e:console.warn("WinningScreen: BaseScreen not found")}},{key:"onLoad",value:function(){this.validateRequiredComponents()}},{key:"validateRequiredComponents",value:function(){if(!this.starsContainer)throw new Error("WinningScreen: starsContainer not found");if(!this.titleRibbon)throw new Error("WinningScreen: titleRibbon not found");if(!this.nextLevelButton)throw new Error("WinningScreen: nextLevelButton not found");if(!this.retryLevelButton)throw new Error("WinningScreen: retryLevelButton not found");if(!this.confettiGroup)throw new Error("WinningScreen: confettiGroup not found");if(!this.dogeHead)throw new Error("WinningScreen: dogeHead not found");if(!this.levelText)throw new Error("WinningScreen: levelText not found")}},{key:"listenScreenEvents",value:function(){var e=this;te.on(Q.OPENING_SCREEN,(function(n){e.validateEventPayload(n)&&(e.enabled=!0)})),te.on(Q.OPENED_SCREEN,(function(n){e.validateEventPayload(n)&&e.open()})),te.on(Q.CLOSING_SCREEN,(function(n){e.validateEventPayload(n)&&e.unscheduleAllCallbacks()})),te.on(Q.CLOSED_SCREEN,(function(n){e.validateEventPayload(n)&&(e.enabled=!1)}))}},{key:"validateEventPayload",value:function(e){return e.screenName===this.node.name}},{key:"start",value:function(){var e=this;this.dogeHead.translate(new S(-1e3,0)),this.scheduleOnce((function(){e.dogeHead.translate(new S(1e3,0))}),.1)}},{key:"open",value:function(){var e=this;this.nextLevelButton.node.active=!1,this.retryLevelButton.node.active=!1,this.updateLevel(),this.updateStars(),this.runRibbonAnimation();var n=this.runStarsAnimation();this.runConfetti(n),this.scheduleOnce(s(l().mark((function n(){var t,i;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.showInterstitialAdAsync();case 2:e.nextLevelButton.node.active=!0,e.retryLevelButton.node.active=!0,t=e.nextLevelButton.getComponent(g),m(t).set({opacity:0}).to(.4,{opacity:255},{easing:"smooth"}).start(),i=e.retryLevelButton.getComponent(g),m(i).set({opacity:0}).delay(.5).to(.4,{opacity:255},{easing:"smooth"}).start();case 8:case"end":return n.stop()}}),n)}))),n),this.playSound("sounds/hand-clap")}},{key:"close",value:function(){te.emit(Q.CLOSE_SCREEN,{screenName:this.node.name})}},{key:"showNotificationScreen",value:function(e){te.emit(Q.OPEN_SCREEN,{screenName:N.NOTIFICATION_SCREEN,screenData:{message:e,isCloseButtonVisible:!1}})}},{key:"closeNotificationScreen",value:function(){te.emit(Q.CLOSE_SCREEN,{screenName:N.NOTIFICATION_SCREEN})}},{key:"showCongratulationScreen",value:function(){te.emit(Q.OPEN_SCREEN,{screenName:N.CONGRATULATION_SCREEN,screenData:{level:this.screen.data.level}})}},{key:"handleClickedNextLevel",value:function(){var e=this.screen.data.level,n=ne.getGameData();n?(e>=n.totalLevel?this.showCongratulationScreen():this.node.scene.emit(L.NEXT_LEVEL,{level:e}),this.close()):console.warn("WinningScreen: gameData not found")}},{key:"handleClickedRetry",value:function(){this.close(),this.node.scene.emit(L.GAME_REPLAY,{level:this.screen.data.level})}},{key:"handleClickedClose",value:function(){this.close();var e=this.screen.data.level;this.node.scene.emit(L.NEXT_LEVEL,{level:e})}},{key:"updateStars",value:function(){this.starsCollected=this.screen.data.stars}},{key:"updateLevel",value:function(){var e=this.screen.data.level,n=ie.getText("level");this.levelText.string="".concat(n," ").concat(e)}},{key:"runRibbonAnimation",value:function(){this.titleRibbon.fillRange=0,m(this.titleRibbon).to(.5,{fillRange:1},{easing:"backInOut"}).start()}},{key:"runStarsAnimation",value:function(){var e=this,n=C("Container/Stars/RightStar",this.node),t=C("Container/Stars/LeftStar",this.node),i=C("Container/Stars/MidStar",this.node),o=[t,i,n];if(!n||!t||!i)return console.warn("WinningScreen: stars not found"),0;o.forEach((function(e){if(e){var n=e.getChildByName("Star");n?n.active=!1:console.warn("WinningScreen: starComponent not found")}}));for(var a=0;a<o.length;a++){var r=o[a];if(!r)return console.warn("WinningScreen: starEmpty not found"),0;var s=new S(0,0,1),l=new S(1,1,1);1==a&&l.set(1.2,1.2,1),m(r).set({scale:s}).delay(.7).to(.4,{scale:l},{easing:"backOut"}).start()}for(var u=1.32,d=function(){var n=o[v];if(!n)return console.warn("WinningScreen: stars not found"),{v:0};var t=n.getChildByName("Star");if(!t)return console.warn("WinningScreen: starComponent not found"),{v:0};e.scheduleOnce((function(){t.active=!0,e.playSound("sounds/star-raise")}),u),m(t).set({scale:new S(1.7,1.7,1)}).delay(u).to(.35,{scale:new S(1,1,1)},{easing:"backOut"}).start(),u+=.3},v=0;v<this.starsCollected;v++){var f=d();if("object"===c(f))return f.v}return u}},{key:"runConfetti",value:function(e){this.stopConfetti();var n=this.confettiGroup.getComponentsInChildren(E);this.scheduleOnce((function(){n.forEach((function(e){e.resetSystem()}))}),e)}},{key:"stopConfetti",value:function(){this.confettiGroup.getComponentsInChildren(E).forEach((function(e){e.stopSystem()}))}},{key:"getSoundComponent",value:function(){var e,n=null===(e=C("Sound"))||void 0===e?void 0:e.getComponent(k);return n||(console.warn("WinningScreen: Sound not found"),null)}},{key:"getMusicComponent",value:function(){var e,n=null===(e=C("Music"))||void 0===e?void 0:e.getComponent(w);return n||(console.warn("WinningScreen: Music not found"),null)}},{key:"playSound",value:function(e){var n=this.getSoundComponent();n&&n.play(e)}},{key:"muteAudio",value:function(e){this.muteMusic(e),this.muteSound(e)}},{key:"muteMusic",value:function(e){var n=this.getMusicComponent();n&&n.mute(e)}},{key:"muteSound",value:function(e){var n=this.getSoundComponent();n&&n.mute(e)}}]),d}(b)).prototype,"starsContainer",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=n(M.prototype,"titleRibbon",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=n(M.prototype,"nextLevelButton",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=n(M.prototype,"retryLevelButton",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=n(M.prototype,"confettiGroup",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=n(M.prototype,"dogeHead",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=n(M.prototype,"levelText",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=M))||P)||P)||P));d._RF.pop()}}}));

System.register("chunks:///_virtual/World.ts",["cc"],(function(e){var o;return{setters:[function(e){o=e.cclegacy}],execute:function(){o._RF.push({},"23d64mdR6VPRoojd1BBKwos","World",void 0);e("GameZone",{WIDTH:1176,HEIGHT:1792}),e("LINE_COLLIDER_RADIUS",10),e("DISTANCE_NEAR_DOGE",200);o._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});