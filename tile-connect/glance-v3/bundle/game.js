import"./engine.js";function yr(c){return Object.prototype.toString.call(c).slice(8,-1)}function as(c){if(yr(c)!=="Object")return!1;const e=Object.getPrototypeOf(c);return!!e&&e.constructor===Object&&e===Object.prototype}function ni(c){return yr(c)==="Symbol"}function li(c,e,t,s){const o={}.propertyIsEnumerable.call(s,e)?"enumerable":"nonenumerable";o==="enumerable"&&(c[e]=t),o==="nonenumerable"&&Object.defineProperty(c,e,{value:t,enumerable:!1,writable:!0,configurable:!0})}function Pr(c,e,t){if(!as(e))return e;let s={};if(as(c)){const n=Object.getOwnPropertyNames(c),a=Object.getOwnPropertySymbols(c);s=[...n,...a].reduce((l,d)=>{const u=c[d];return(!ni(d)&&!Object.getOwnPropertyNames(e).includes(d)||ni(d)&&!Object.getOwnPropertySymbols(e).includes(d))&&li(l,d,u,c),l},{})}const o=Object.getOwnPropertyNames(e),i=Object.getOwnPropertySymbols(e);return[...o,...i].reduce((n,a)=>{let l=e[a];const d=as(c)?c[a]:void 0;d!==void 0&&as(l)&&(l=Pr(d,l,t));const u=t?t(d,l,a):l;return li(n,a,u,e),n},s)}function Ye(c,...e){return e.reduce((t,s)=>Pr(t,s),c)}function Sr(c,e,t){var s,o,i;e===void 0&&(e=50),t===void 0&&(t={});var r=(s=t.isImmediate)!=null&&s,n=(o=t.callback)!=null&&o,a=t.maxWait,l=Date.now(),d=[];function u(){if(a!==void 0){var f=Date.now()-l;if(f+e>=a)return a-f}return e}var m=function(){var f=[].slice.call(arguments),h=this;return new Promise(function(p,v){var b=r&&i===void 0;if(i!==void 0&&clearTimeout(i),i=setTimeout(function(){if(i=void 0,l=Date.now(),!r){var T=c.apply(h,f);n&&n(T),d.forEach(function(y){return(0,y.resolve)(T)}),d=[]}},u()),b){var g=c.apply(h,f);return n&&n(g),p(g)}d.push({resolve:p,reject:v})})};return m.cancel=function(f){i!==void 0&&clearTimeout(i),d.forEach(function(h){return(0,h.reject)(f)}),d=[]},m}const kr="null",Ja=kr!=="null",Qa=()=>{if(kr==="")return;const c=setInterval(()=>{window.Sentry&&(clearInterval(c),console.warn({isSentryEnabled:Ja}))},100)},_o=(c,e)=>{window.Sentry&&window.Sentry.addBreadcrumb({category:c,message:e})},en=c=>{window.Sentry&&window.Sentry.setUser(c)},xr=c=>{{console.error(c);return}},tn=(c,e)=>{c&&window.Sentry.withScope(t=>{t.setExtras(e),xr(c)})},pe=c=>{c&&xr(c)},sn="modulepreload",on=function(c,e){return new URL(c,e).href},ci={},mt=function(e,t,s){if(!t||t.length===0)return e();const o=document.getElementsByTagName("link");return Promise.all(t.map(i=>{if(i=on(i,s),i in ci)return;ci[i]=!0;const r=i.endsWith(".css"),n=r?'[rel="stylesheet"]':"";if(!!s)for(let d=o.length-1;d>=0;d--){const u=o[d];if(u.href===i&&(!r||u.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${n}`))return;const l=document.createElement("link");if(l.rel=r?"stylesheet":sn,r||(l.as="script",l.crossOrigin=""),l.href=i,document.head.appendChild(l),r)return new Promise((d,u)=>{l.addEventListener("load",d),l.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e())},U={BUTTON_CLICK:"button_click",SCREEN_OPEN:"screen_open",LOAD_START:"load_start",LOAD_COMPLETE:"load_complete",APP_READY:"app_ready",TUTORIAL_BEGIN:"tutorial_begin",TUTORIAL_STEP:"tutorial_step",TUTORIAL_COMPLETE:"tutorial_complete",MATCH_START:"match_start",MATCH_RESCUE:"match_rescue",MATCH_END:"match_end",LEVEL_START:"level_start",LEVEL_RESCUE:"level_rescue",LEVEL_END:"level_end",SHARE:"share",MESSAGE:"message",INVITE:"invite",SHORTCUT_CREATE:"shortcut_create",SHORTCUT_CREATE_POPUP:"shortcut_create_popup",BOT_SUBSCRIBE:"bot_subscribe",BOT_SUBSCRIBE_POPUP:"bot_subscribe_popup",AD_SHOW:"ad_show",AD_SHOW_FAILED:"ad_show_failed",NEW_USER:"new_user",AD_IMPRESSION:"ad_impression",JOIN_GROUP:"join_group",GET_FREE_ITEM:"get_free_item",USE_ITEM:"use_item",EARN_ITEM:"earn_item",TOURNAMENT_SHARE:"tournament_share",TOURNAMENT_CREATE:"tournament_create",TOURNAMENT_POST_SCORE:"tournament_post_score",GLANCE_GAME_LOAD:"game_load",GLANCE_GAME_START:"game_start",GLANCE_GAME_REPLAY:"game_replay",GLANCE_GAME_LEVEL:"game_level",GLANCE_GAME_END:"game_end",GLANCE_GAME_LEVEL_COMPLETED:"level_completed",GLANCE_REWARDED_AD:"rewarded_ad",GLANCE_GAME_MILESTONE:"game_milestone",GLANCE_GAME_LIFE_END:"game_life_end",GLANCE_INGAME_TRANSACTIONS:"ingame_transactions"},Or=()=>GameCore.Utils.Device.isDesktop()||GameCore.Utils.Device.pixelRatio()>1?2:1,di=Or(),Xe={AVATAR_DEFAULT:{KEY:"avatar-default",FILE:"./assets/images/others/avatar-default.png",CONFIG:{}},BACKGROUND:{KEY:"background",FILE:`./assets/images/${di}x/bg.jpg`,FILE_LANDSCAPE:`./assets/images/${di}x/landscape-bg.jpg`,CONFIG:{}}};class rn{playerId;name;photo;locale;constructor(e,t,s,o){this.playerId=e,this.name=t,this.photo=s||Xe.AVATAR_DEFAULT.FILE,this.locale=o||"en_US"}toObject(){return{playerId:this.playerId,name:this.name,photo:this.photo,locale:this.locale}}}const Ss=rn,an=c=>new Promise(e=>setTimeout(e,c)),Ps=c=>{const e=new Date(c),t=new Date;return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()},{AppId:nn}=GameCore.Configs;class ln{async createAsync(e){return await GameSDK.tournament.createAsync(e)}async shareAsync(e){await GameSDK.tournament.shareAsync(e)}async joinAsync(e){return await GameSDK.tournament.joinAsync(e)}async postScoreAsync(e){await GameSDK.tournament.postScoreAsync(e)}async getTournamentsAsync(){return await GameSDK.tournament.getTournamentsAsync()}}class cn{facebook;isCalledSubscribeBot=!1;isCalledCreateShortcut=!1;constructor(e){this.facebook=e}async switchAsync(e){await GameCore.Utils.Valid.isValueChangeAsync(window.__fbGameReady,!0),await GameSDK.context.switchAsync(e)}async chooseAsync(){try{return await GameCore.Utils.Valid.isValueChangeAsync(window.__fbGameReady,!0),await GameSDK.context.chooseAsync({filters:["INCLUDE_EXISTING_CHALLENGES"],minSize:2,maxSize:2}),GameSDK.context.getID()}catch(e){if(e instanceof Object&&GameCore.Utils.Object.hasOwn(e,"code"))switch(e.code){case"USER_INPUT":return!1;case"SAME_CONTEXT":return GameSDK.context.getID()}return null}}async createAsync(e){try{return await GameCore.Utils.Valid.isValueChangeAsync(window.__fbGameReady,!0),await GameSDK.context.createAsync(`${e}`),GameSDK.context.getID()}catch(t){if(t instanceof Object&&GameCore.Utils.Object.hasOwn(t,"code"))switch(t.code){case"USER_INPUT":return!1;case"SAME_CONTEXT":return GameSDK.context.getID()}return null}}async getPlayerToken(){return(await GameSDK.player.getSignedPlayerInfoAsync()).getSignature()}async getContextPlayers(e){try{const t=await GameSDK.context.getPlayersAsync(),s=[];return t.forEach(o=>{const i=o.getID();if(i===e)return;const r=o.getName();if(!r)return;const n=o.getPhoto();s.push(new Ss(i,r,n).toObject())}),GameCore.Utils.Array.unique(s)}catch(t){return console.warn("getPlayersAsync",{error:t}),[]}}async shareAsync(e){await GameSDK.shareAsync(e)}async sendMessage(e){}async inviteAsync(e){}async postSessionScoreAsync(e){await GameSDK.postSessionScoreAsync(e)}async getRewardedVideoAsync(e){return await GameSDK.getRewardedVideoAsync(e)}async getInterstitialAdAsync(e){return await GameSDK.getInterstitialAdAsync(e)}getContextID(){return GameSDK.context.getID()}async attemptToAddShortcut(){if(this.isCalledCreateShortcut)return!1;try{if(GameSDK.getPlatform()==="ANDROID")return!1;const s=(await GameSDK.player.getDataAsync(["lastCallCreateShortcut"])||{}).lastCallCreateShortcut;if(s&&Ps(+s))return!1;const o=Date.now();if(GameSDK.player.setDataAsync({lastCallCreateShortcut:o}),!GameSDK.getSupportedAPIs().includes("canCreateShortcutAsync"))return!1;if(await GameSDK.canCreateShortcutAsync()){const{SHORTCUT_CREATE:n,SHORTCUT_CREATE_POPUP:a}=U,l=Date.now();this.isCalledCreateShortcut=!0,window.game.analytics.event(a);try{return await GameCore.Utils.Valid.isValueChangeAsync(window.__fbGameReady,!0),await GameSDK.createShortcutAsync(),FBInstant.player.setDataAsync({lastCallCreateShortcut:l}),window.game.analytics.event(n,{success:!0}),!0}catch{return FBInstant.player.setDataAsync({lastCallCreateShortcut:l}),window.game.analytics.event(n,{success:!1}),!1}}return!1}catch{return!1}}async attemptToSubscribeBot(){if(this.isCalledSubscribeBot)return!1;try{const t=(await FBInstant.player.getDataAsync(["lastCallSubscribeBot"])||{}).lastCallSubscribeBot||0;if(t&&Ps(+t)||!FBInstant.getSupportedAPIs().includes("player.canSubscribeBotAsync"))return!1;if(await GameSDK.player.canSubscribeBotAsync()){const r=(await GameSDK.player.getDataAsync(["lastCallSubscribeBot"])||{}).lastCallSubscribeBot;if(r&&Ps(+r))return!1;const n=Date.now();this.isCalledSubscribeBot=!0;try{return await GameCore.Utils.Valid.isValueChangeAsync(window.__fbGameReady,!0),await GameSDK.player.subscribeBotAsync(),FBInstant.player.setDataAsync({lastCallSubscribeBot:n}),!0}catch{return FBInstant.player.setDataAsync({lastCallSubscribeBot:n}),!1}}return!1}catch{return!1}}async matchPlayerAsync(e,t,s){try{return!GameSDK.getSupportedAPIs().includes("checkCanPlayerMatchAsync")||!await GameSDK.checkCanPlayerMatchAsync()?!1:(await GameSDK.matchPlayerAsync(e,t,s),!0)}catch{return!1}}setLoadingProgress(e){GameSDK.setLoadingProgress(e)}getLocale(){return GameSDK.getLocale()||"en"}async injectTournament(){this.facebook.tournament=new ln,this.facebook.getTournamentAsync=this.getTournamentAsync,this.facebook.requestTournamentAsync=this.requestTournamentAsync}async getTournamentAsync(){return await GameSDK.getTournamentAsync()}requestTournamentAsync=async e=>{try{await this.facebook.getTournamentAsync(),await this.facebook.tournament.shareAsync({score:e})}catch{const s=GameSDK.player.getName();await this.facebook.tournament.createAsync({initialScore:e,config:{tournamentTitle:`${s}'s Tournament`}})}};async sendNotificationAsync(e){try{const{href:t,ref:s,message:o,delayTime:i}=e;await GameSDK.graphApi.requestAsync("/me/notifications","POST",{ref:s,href:t||`https://fb.gg/play/${nn}`,template:o,scheduleInterval:i})}catch(t){console.warn("🤖 ? sendNotificationAsync",t)}}}let mi=0,Oe=0;class dn{game;progressFbTimeEvent;constructor(e){this.game=e}loadingProgressFbBootScene(){let o=100;Oe=30;const i=()=>{if(o<=0){clearTimeout(this.progressFbTimeEvent);return}this.progressFbTimeEvent=setTimeout(()=>{this.game.facebook.setLoadingProgress(Math.round(Oe)),Oe+=30/o,o--,i()},50)};i()}finishLoadingProgressFbBootScene(){clearTimeout(this.progressFbTimeEvent)}loadingProgressFbLoadScene(){(!Oe||Oe<30)&&(Oe=60),mi=Oe;const t=()=>{this.progressFbTimeEvent=setTimeout(()=>{this.game.facebook.setLoadingProgress(Math.round(Oe)),Oe+=.1,t()},50)};t()}onProgress(e){const t=100-Oe,s=Math.round(e*t+Oe);s>mi&&clearTimeout(this.progressFbTimeEvent),this.game.facebook.setLoadingProgress(s)}}class mn{addKillRevive(){[Phaser.GameObjects.Container,Phaser.GameObjects.Image,Phaser.GameObjects.Sprite,Phaser.GameObjects.Graphics,Phaser.GameObjects.Text,Phaser.GameObjects.BitmapText,Phaser.GameObjects.Particles.ParticleEmitter,Phaser.GameObjects.Particles.ParticleEmitterManager].forEach(e=>{e.prototype.kill=this.kill,e.prototype.revive=this.revive})}addKillReviveGroup(){Phaser.GameObjects.Group.prototype.killGroup=this.killGroup,Phaser.GameObjects.Group.prototype.reviveGroup=this.reviveGroup}addSetWorldSize(){[Phaser.GameObjects.Image,Phaser.GameObjects.Sprite].forEach(e=>{e.prototype.setWorldSize=this.setWorldSize})}addSetWorldSizeForContainer(){[Phaser.GameObjects.Container].forEach(e=>{e.prototype.setWorldSize=this.setWorldSizeForContainer})}addGetWorldPosition(){[Phaser.GameObjects.Container,Phaser.GameObjects.Image,Phaser.GameObjects.Sprite,Phaser.GameObjects.Graphics,Phaser.GameObjects.Text,Phaser.GameObjects.BitmapText].forEach(e=>{e.prototype.getWorldPosition=this.getWorldPosition})}addDrawDebugBox(){[Phaser.GameObjects.Container,Phaser.GameObjects.Image,Phaser.GameObjects.Sprite,Phaser.GameObjects.Graphics,Phaser.GameObjects.Text,Phaser.GameObjects.BitmapText,Phaser.GameObjects.Zone].forEach(e=>{e.prototype.drawDebugBox=this.drawDebugBox})}addHighQuality(){[Phaser.GameObjects.Text].forEach(e=>{e.prototype.setHighQuality=this.setHighQuality})}kill(){this.setActive(!1),this.setVisible(!1)}revive(){this.setActive(!0),this.setVisible(!0)}killGroup(){this.getChildren().forEach(e=>{e.setActive(!1),e.setVisible(!1)})}reviveGroup(){this.getChildren().forEach(e=>{e.setActive(!0),e.setVisible(!0)})}setWorldSize(e,t){this.setSize(e,t),this.setDisplaySize(e,t)}setWorldSizeForContainer(e,t,s=2){this.setSize(e*s,t*s),this.setDisplaySize(e,t)}getWorldPosition(){const e=this.getWorldTransformMatrix(),{translateX:t,translateY:s}=e.decomposeMatrix();return{x:t,y:s}}drawDebugBox(e,t){const{x:s,y:o,width:i,height:r,depth:n,originX:a,originY:l}=this,d=this.scene.add.rectangle(s,o,i,r,e,t);d.setName("Debug Box"),d.setDepth(n);const{isNumber:u}=GameCore.Utils.Valid;return u(a)&&u(l)&&d.setOrigin(a,l),d}setHighQuality(){return this.renderer instanceof Phaser.Renderer.WebGL.WebGLRenderer?this.setResolution(this.scene.game.world.getZoomRatio()*2):this}}const un={LOADED:"loaded",DISPLAYED:"displayed"},Po=un;var Rr=(c=>(c.IDLE="idle",c.LOADING="loading",c.FILLED="filled",c.SHOWING="showing",c))(Rr||{});const Ar=Rr;var _r=(c=>(c.REWARDED="rewarded",c.INTERSTITIAL="interstitial",c))(_r||{});const Ae=_r;class hn extends Error{code;constructor(e,t){super(t),this.code=e,this.message=t}}const st=hn;class fn{type;status;constructor(e){this.type=e,this.status=Ar.IDLE}}const pn=fn;GameCore.Ads={Types:Ae,Status:Ar,Events:Po,AdError:st,AdInstance:pn};class bn extends Phaser.Plugins.BasePlugin{events;enabled;config;lastInterAdShownTime;lastRewardAdShownTime;interstitial;rewardedVideo;safeAreaBottom;showingBannerAd;reloadBannerAdIntervals;bannerAdConfig;isHaveBannerAdOptions;init(){this.events=new Phaser.Events.EventEmitter,this.safeAreaBottom=0,this.lastInterAdShownTime=0,this.lastRewardAdShownTime=0,this.showingBannerAd={},this.reloadBannerAdIntervals={},this.isHaveBannerAdOptions=!0}calculateSafeAreaBottom(){try{if(!this.config.calculateSafeAreaBottom)return;this.safeAreaBottom=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--sab")),isNaN(this.safeAreaBottom)&&(this.safeAreaBottom=0)}catch{this.safeAreaBottom=0}}configure(e,t){this.enabled=t.enabled,this.config=t;const{bannerAdOptions:s}=this.config;s.length===0&&(this.isHaveBannerAdOptions=!1),this.setAdInstance(e),this.calculateSafeAreaBottom()}setAdInstance(e){const{rewardAdOptions:t,interstitialAdOptions:s}=this.config;this.interstitial=new e(Ae.INTERSTITIAL,t.pID),this.rewardedVideo=new e(Ae.REWARDED,s.pID)}async preloadInterstitialAdAsync(){console.log("preloading Interstitial"),await this.preloadAdAsync(Ae.INTERSTITIAL)}async showInterstitialAdAsync(){if(!this.canbeShowInterstitialAd())throw new st("INTERSTITIAL_AD_CAN_NOT_SHOW","Can't show interstitial ad");await this.showAdAsync(Ae.INTERSTITIAL)}async preloadRewardedVideoAsync(){console.log("preloading RewardedVideo"),await this.preloadAdAsync(Ae.REWARDED)}async showRewardedVideoAsync(){if(!this.canbeShowRewardAd())throw new st("REWARDED_VIDEO_CAN_NOT_SHOW","Can't show rewarded video");await this.showAdAsync(Ae.REWARDED),this.lastRewardAdShownTime=window.performance.now()/1e3}getRemainingRewardTime(){const e=window.performance.now()/1e3,{secondsBetweenAds:t}=this.config.rewardAdOptions,s=e-this.lastRewardAdShownTime;return s<t?t-s:0}async preloadAdAsync(e){if(!this.enabled)throw new st("ADS_NOT_ENABLED","Ads is't enabled");const t=this.getAdInstanceByType(e);if(t===null)throw new st("AD_INSTANCE_NOT_INITIALLED","The instance ads not yet initiated");await t.loadAsync(),this.events.emit(Po.LOADED,e)}async showAdAsync(e){if(!this.enabled)throw new st("ADS_NOT_ENABLED","Ads is't enabled");const t=this.getAdInstanceByType(e);if(t===null)throw new st("AD_INSTANCE_NOT_INITIALLED","The instance ads not yet initiated");if(e===Ae.INTERSTITIAL&&(this.lastInterAdShownTime=window.performance.now()/1e3),e===Ae.REWARDED){this.lastRewardAdShownTime=window.performance.now()/1e3;const{enableRewardVideoResetInterstitial:s}=this.config;s&&(this.lastInterAdShownTime=this.lastRewardAdShownTime)}await t.showAsync(),this.events.emit(Po.DISPLAYED,e)}getAdStatus(e){const t=this.getAdInstanceByType(e);return t?t.getStatus():null}getAdInstanceByType(e){switch(e){case Ae.INTERSTITIAL:return this.interstitial;case Ae.REWARDED:return this.rewardedVideo;default:return null}}canbeShowInterstitialAd(){return this.canbeShowInterstitialAdByTime()}canbeShowInterstitialAdByTime(){const e=window.performance.now()/1e3,{secondsFirstTime:t,secondsBetweenAds:s}=this.config.interstitialAdOptions,o=Math.floor(e-this.lastInterAdShownTime);return this.lastInterAdShownTime>0?o>=s:o>=t}canbeShowRewardAd(){const e=window.performance.now()/1e3,{secondsFirstTime:t,secondsBetweenAds:s}=this.config.rewardAdOptions,o=Math.floor(e-this.lastRewardAdShownTime);return this.lastRewardAdShownTime>0?o>=s:o>=t}canShowBannerAd(){if(!this.isHaveBannerAdOptions)return!1;const{bannerAdOptions:e}=this.config,t=GameCore.Utils.Device.isDesktop();for(let s=0;s<e.length;s++){const o=e[s],i=o.platform;if(i=="ALL"||i=="DESKTOP"&&t||i=="MOBILE"&&!t)return this.bannerAdConfig=o,!0}return!1}async showBannerAdAsync(){if(!this.enabled||!this.canShowBannerAd())return;this.reloadBannerAdIntervals=this.reloadBannerAdIntervals||{};const{placementId:e,secondsReload:t}=this.bannerAdConfig;if(!(!e||e=="")){if(t>0){if(this.reloadBannerAdIntervals[e])return;this.loadBannerAdAsync(e),this.reloadBannerAdIntervals[e]=setInterval(()=>{this.loadBannerAdAsync(e)},t*1e3);return}this.loadBannerAdAsync(e)}}async loadBannerAdAsync(e){if(this.enabled)try{if(!this.enabled)return;await GameSDK.loadBannerAdAsync(e),this.showingBannerAd[e]=!0}catch(t){console.log(t)}}async hideBannerAdAsync(){if(this.enabled&&this.isHaveBannerAdOptions)try{if(!this.enabled)return;const{bannerAdOptions:e}=this.config;e.forEach(t=>{const{placementId:s}=t,o=this.reloadBannerAdIntervals[s];o&&(clearInterval(o),this.reloadBannerAdIntervals[s]=null),this.showingBannerAd[s]=!1}),await GameSDK.hideBannerAdAsync()}catch(e){console.log(e)}}getBannerHeight(){if(!this.enabled||!this.canShowBannerAd())return 0;const{bannerHeight:e=0}=this.bannerAdConfig||{},t=e+this.safeAreaBottom;if(this.game.world){const s=this.game.world,o=s.getPixelRatio(),i=s.getZoomRatio(),r=s.getScreenHeight()*.01;return this.game.world.getPhysicPixels(t+r,o/i)}return t}}class gn{name;color;selfLog;options;constructor(e,t,s){this.name=e,this.color=s||"#FFF",this.options=t,this.selfLog=!0,console.info(`%c${this.name}: init`,`color: ${this.color}`,this.options)}event(e,t,s){this.processEvent(e,t,s),this.selfLog&&console.info(`%c${this.name}: event`,`color: ${this.color}`,{name:e,value:s,payload:t})}pageview(e){const t=this.getPageByKey(e);this.processPageView(t),this.selfLog&&console.info(`%c${this.name}: pageview`,`color: ${this.color}`,{page:t})}levelStart(e,t,s){this.processLevelStart(e,t,s),this.selfLog&&console.info(`%c${this.name}: level start`,`color: ${this.color}`,{level:e,score:t,levelName:s})}levelFail(e,t,s){this.processLevelFail(e,t,s),this.selfLog&&console.info(`%c${this.name}: level fail`,`color: ${this.color}`,{level:e,score:t,levelName:s})}levelRescue(e,t,s){this.processLevelRescue(e,t,s),this.selfLog&&console.info(`%c${this.name}: level rescue`,`color: ${this.color}`,{level:e,score:t,levelName:s})}levelComplete(e,t,s){this.processLevelComplete(e,t,s),this.selfLog&&console.info(`%c${this.name}: level complete`,`color: ${this.color}`,{level:e,score:t,levelName:s})}showInterstitialAd(e){this.processShowInterstitialAd(e),this.selfLog&&console.info(`%c${this.name}: show interstitial ad`,`color: ${this.color}`,{placement:e})}showRewardedVideoAd(e){this.processShowRewardedVideoAd(e),this.selfLog&&console.info(`%c${this.name}: show rewarded video ad`,`color: ${this.color}`,{placement:e})}receiveReward(e){this.processReceiveReward(e),this.selfLog&&console.info(`%c${this.name}: receive reward`,`color: ${this.color}`,{placement:e})}showAdFail(e,t,s){this.processShowAdFail(e,t,s),this.selfLog&&console.info(`%c${this.name}: show ad fail`,`color: ${this.color}`,{type:e,placement:t,reason:s})}gameMilestone(e,t,s,o){this.processGameMilestone(e,t,s,o),this.selfLog&&console.info(`%c${this.name}: game milestone`,`color: ${this.color}`,{type:e,meta:t,level:s,score:o})}gameLifeEnd(e,t,s){this.processGameLifeEnd(e,t,s),this.selfLog&&console.info(`%c${this.name}: game life end`,`color: ${this.color}`,{remainingLife:e,level:t,score:s})}gameIngameTransactions(e,t,s,o){this.gameIngameTransactions(e,t,s,o),this.selfLog&&console.info(`%c${this.name}: ingame transaction`,`color: ${this.color}`,{transactionType:e,meta:t,level:s,score:o})}getPageByKey(e){let t=e.replace(/_/g,"-");return t=t.toLowerCase(),t}processLevelStart(e,t,s){}processLevelFail(e,t,s){}processLevelRescue(e,t,s){}processLevelComplete(e,t,s){}processShowInterstitialAd(e){}processShowRewardedVideoAd(e){}processReceiveReward(e){}processShowAdFail(e,t,s){}processGameMilestone(e,t={},s=0,o=0){}processGameLifeEnd(e,t=0,s=0){}processIngameTransactions(e,t={},s=0,o=0){}}const vn=gn;GameCore.Analytics={BaseAnalytics:vn};class Tn extends Phaser.Plugins.BasePlugin{analytics;init(){this.analytics=[]}add(e){this.analytics.push(e)}pageview=e=>{this.isActive()&&this.analytics.forEach(t=>{t.pageview(e)})};event(e,t,s){this.isActive()&&this.analytics.forEach(o=>{o.event(e,t,s)})}levelStart(e,t,s){this.isActive()&&this.analytics.forEach(o=>{o.levelStart(e,t,s)})}levelRescue(e,t,s){this.isActive()&&this.analytics.forEach(o=>{o.levelRescue(e,t,s)})}levelFail(e,t,s){this.isActive()&&this.analytics.forEach(o=>{o.levelFail(e,t,s)})}levelComplete(e,t,s){this.isActive()&&this.analytics.forEach(o=>{o.levelComplete(e,t,s)})}showInterstitialAd(e){this.isActive()&&this.analytics.forEach(t=>{t.showInterstitialAd(e)})}showRewardedVideoAd(e){this.isActive()&&this.analytics.forEach(t=>{t.showRewardedVideoAd(e)})}receiveReward(e){this.isActive()&&this.analytics.forEach(t=>{t.receiveReward(e)})}showAdFail(e,t,s){this.isActive()&&this.analytics.forEach(o=>{o.showAdFail(e,t,s)})}gameMilestone(e,t,s,o){this.isActive()&&this.analytics.forEach(i=>{i.gameMilestone(e,t,s,o)})}gameLifeEnd(e,t,s){this.isActive()&&this.analytics.forEach(o=>{o.gameLifeEnd(e,t,s)})}gameIngameTransactions(e,t,s,o){this.isActive()&&this.analytics.forEach(i=>{i.gameIngameTransactions(e,t,s,o)})}isActive(){return this.analytics.length>=1}}const Ze={BACKGROUND:{KEY:"background",FILE:"./assets/music/bg_music.ogg"},NEW_EFFECTS:{bomb_explode_1:"./assets/sounds/bomb_explode_1.ogg",ticking_bomb_before_explode:"./assets/sounds/ticking_bomb_before_explode.ogg",bomb_defuse:"./assets/sounds/bomb_defuse.ogg",close_popup_click:"./assets/sounds/close_popup_click.ogg",use_item_click:"./assets/sounds/use_item_click.ogg",shuffle_item:"./assets/sounds/shuffle_item.ogg",hint_item:"./assets/sounds/hint_item.ogg",clicks:"./assets/sounds/clicks.ogg",combo_1:"./assets/sounds/combo_1.ogg",combo_2:"./assets/sounds/combo_2.ogg",combo_3:"./assets/sounds/combo_3.ogg",combo_4:"./assets/sounds/combo_4.ogg",combo_5:"./assets/sounds/combo_5.ogg",invalid_match:"./assets/sounds/invalid_match.ogg",level_start:"./assets/sounds/level_start.ogg",level_complete:"./assets/sounds/level_complete.ogg",level_fail:"./assets/sounds/level_fail.ogg",rescue_timer:"./assets/sounds/rescue_timer.ogg",extra_tile_spawn:"./assets/sounds/extra_tile_spawn.ogg",tile_select:"./assets/sounds/tile_select.ogg",rocket_fly:"./assets/sounds/rocket_fly.ogg",collect_stars:"./assets/sounds/collect_stars.ogg",three_stars:"./assets/sounds/three_stars.ogg",progress_star:"./assets/sounds/progress_star.ogg",gift_charge:"./assets/sounds/gift_charge.ogg",gift_explode:"./assets/sounds/gift_explode.ogg",gift_reveal:"./assets/sounds/gift_reveal.ogg",daily_reward:"./assets/sounds/daily_reward.ogg"}},{NEW_EFFECTS:ui}=Ze;class wn{game;audios;volume;constructor(e){this.game=e,this.audios=new Map}play(e,t){const s={volume:this.volume,...t||{}};s.volume!==this.volume&&(s.volume*=this.volume);let o=this.audios.get(e);if(!o&&this.game.cache.audio.exists(e)){const i=this.game.sound.add(e);this.audios.set(e,i),o=i}if(o){o.play(void 0,s);return}ui[e]&&(this.game.globalScene.load.audio(e,ui[e]),this.game.globalScene.load.on(`${Phaser.Loader.Events.FILE_KEY_COMPLETE}audio-${e}`,()=>{const i=this.game.sound.add(e);this.audios.set(e,i),i.play(void 0,s)}),this.game.globalScene.load.start())}pauseAll(){this.audios.forEach(e=>{e.pause()})}resumeAll(){this.audios.forEach(e=>{e.resume()})}pause(e){const t=this.audios.get(e);t&&t.pause()}stop(e){const t=this.audios.get(e);t&&t.stop()}setVolume(e){this.volume=e}isMusicEnabled=()=>{const{player:e}=this.game;return!!e.getPlayerSetting("music")};isSoundEnabled=()=>{const{player:e}=this.game;return!!e.getPlayerSetting("sound")}}const En=wn;class yn{name;game;isSprite;audio;markers;volume;volumePerMs;targetVolume;constructor(e,t,s){this.name=t,this.game=e,this.markers={},this.isSprite=s,this.volume=0,this.isSprite||(this.audio=this.game.sound.add(this.name))}resumeForMusic(){return!this.audio||!this.audio.isPlaying?!1:(this.setVolume(1,200),!0)}play(e,t){const s={volume:this.volume,...t||{}};if(s.volume!==this.volume&&(s.volume*=this.volume),!this.isSprite){if(this.audio?.seek>0){this.audio.resume();return}this.audio?.play(e,s);return}this.createMaker(e),this.markers[e]?.play(e,s)}pause(e){if(!this.isSprite){this.audio?.pause();return}this.markers[e]?.pause()}stop(e){if(!this.isSprite){this.audio?.stop();return}this.markers[e]?.stop()}setVolume(e,t){if(t===0||e===this.volume){this.game.globalScene.events.off(Phaser.Scenes.Events.UPDATE,this.handleIncreaseVolume),this.volume=e,this.audio?.setVolume(e);return}this.volumePerMs=(e-this.volume)/t,this.targetVolume=e,this.game.globalScene.events.off(Phaser.Scenes.Events.UPDATE,this.handleIncreaseVolume),this.game.globalScene.events.on(Phaser.Scenes.Events.UPDATE,this.handleIncreaseVolume)}handleIncreaseVolume=(e,t)=>{this.volume+=this.volumePerMs*t,this.audio?.setVolume(this.volume),Math.abs(this.volume)<=.25?this.audio?.setMute(!0):this.audio?.setMute(!1),(this.volumePerMs>=0&&this.volume>=this.targetVolume||this.volumePerMs<=0&&this.volume<=this.targetVolume)&&(this.volume=this.targetVolume,this.game.globalScene.events.off(Phaser.Scenes.Events.UPDATE,this.handleIncreaseVolume))};isMusicEnabled=()=>{const{player:e}=this.game;return!!e.getPlayerSetting("music")};isSoundEnabled=()=>{const{player:e}=this.game;return!!e.getPlayerSetting("sound")};createMaker(e){if(!this.markers[e])try{this.markers[e]=this.game.sound.addAudioSprite(this.name)}catch(t){console.warn("createMaker",t)}}}const Pn=yn,{NEW_EFFECTS:K0}=Ze;class Sn extends Phaser.Plugins.BasePlugin{soundManager;musicManager;isMuteAll;initMusic=e=>{this.musicManager=new Pn(this.game,e,!1),this.setMusicVolume(this.isMuteAll?0:1)};initSound=()=>{this.soundManager=new En(this.game),this.setSoundVolume(this.isMuteAll?0:1)};playSound(e,t){try{if(!this.soundManager||this.isMuteAll||!this.soundManager.isSoundEnabled())return;this.soundManager.play(e,t)}catch{}}stopSound(e){try{this.soundManager.stop(e)}catch{}}playMusic(e={}){try{if(!this.musicManager||this.isMuteAll||!this.musicManager.isMusicEnabled())return;this.musicManager.play("",{loop:!0,...e}),this.musicManager.setVolume(.5,500)}catch{}}pauseMusic(e=!1){try{if(!this.musicManager)return;if(e){this.musicManager.pause("");return}this.musicManager.setVolume(0,500)}catch{}}stopMusic(){try{if(!this.musicManager)return;this.musicManager.stop("")}catch{}}pauseAllSounds(){try{if(!this.soundManager)return;this.soundManager.pauseAll()}catch{}}resumeAllSounds(){try{if(!this.soundManager)return;this.soundManager.resumeAll()}catch{}}setSoundVolume(e){try{if(!this.soundManager)return;this.soundManager.setVolume(e)}catch(t){console.warn("setSoundVolume",t)}}setMusicVolume(e,t=0){try{if(!this.musicManager)return;this.musicManager.setVolume(e,t)}catch(s){console.warn("setMusicVolume",s)}}muteAll(){this.isMuteAll=!0,this.setMusicVolume(0),this.setSoundVolume(0),this.game.globalScene.sound.mute=!0}unmuteAll(e=1){this.isMuteAll=!1,this.setMusicVolume(e),this.setSoundVolume(e),this.game.globalScene.sound.mute=!1}}const Ir="AUTH_TOKEN_REQUEST",Mr="AUTH_TOKEN_RECEIVED";class kn extends Error{payload;constructor(e,t){super(e),this.name="RequestTokenFail",this.message=e||"Request token fail",this.payload=t||{}}}const xn=kn;var ks="NOT_FOUND";function On(c){var e;return{get:function(s){return e&&c(e.key,s)?e.value:ks},put:function(s,o){e={key:s,value:o}},getEntries:function(){return e?[e]:[]},clear:function(){e=void 0}}}function Rn(c,e){var t=[];function s(n){var a=t.findIndex(function(d){return e(n,d.key)});if(a>-1){var l=t[a];return a>0&&(t.splice(a,1),t.unshift(l)),l.value}return ks}function o(n,a){s(n)===ks&&(t.unshift({key:n,value:a}),t.length>c&&t.pop())}function i(){return t}function r(){t=[]}return{get:s,put:o,getEntries:i,clear:r}}var An=function(e,t){return e===t};function _n(c){return function(t,s){if(t===null||s===null||t.length!==s.length)return!1;for(var o=t.length,i=0;i<o;i++)if(!c(t[i],s[i]))return!1;return!0}}function In(c,e){var t=typeof e=="object"?e:{equalityCheck:e},s=t.equalityCheck,o=s===void 0?An:s,i=t.maxSize,r=i===void 0?1:i,n=t.resultEqualityCheck,a=_n(o),l=r===1?On(a):Rn(r,a);function d(){var u=l.get(arguments);if(u===ks){if(u=c.apply(null,arguments),n){var m=l.getEntries(),f=m.find(function(h){return n(h.value,u)});f&&(u=f.value)}l.put(arguments,u)}return u}return d.clearCache=function(){return l.clear()},d}function Mn(c){var e=Array.isArray(c[0])?c[0]:c;if(!e.every(function(s){return typeof s=="function"})){var t=e.map(function(s){return typeof s=="function"?"function "+(s.name||"unnamed")+"()":typeof s}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+t+"]")}return e}function Cn(c){for(var e=arguments.length,t=new Array(e>1?e-1:0),s=1;s<e;s++)t[s-1]=arguments[s];var o=function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var l=0,d,u={memoizeOptions:void 0},m=n.pop();if(typeof m=="object"&&(u=m,m=n.pop()),typeof m!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof m+"]");var f=u,h=f.memoizeOptions,p=h===void 0?t:h,v=Array.isArray(p)?p:[p],b=Mn(n),g=c.apply(void 0,[function(){return l++,m.apply(null,arguments)}].concat(v)),T=c(function(){for(var E=[],S=b.length,R=0;R<S;R++)E.push(b[R].apply(null,arguments));return d=g.apply(null,E),d});return Object.assign(T,{resultFunc:m,memoizedResultFunc:g,dependencies:b,lastResult:function(){return d},recomputations:function(){return l},resetRecomputations:function(){return l=0}}),T};return o}var de=Cn(In);const Io="auth",Ln=c=>c[Io].token,Dn=c=>c[Io].isRequesting,Cr=de([Ln],c=>c),Nn=de([Dn],c=>c),Gn=()=>async(c,e)=>{try{const{facebook:t}=window.game,s=e(),o=Cr(s);if(Nn(s)||o!=="")return;c({type:Ir,payload:{}});const r=await t.getPlayerToken();c(hi(r))}catch(t){if(t instanceof Object&&GameCore.Utils.Object.hasOwn(t,"code")&&t.code==="PENDING_REQUEST")return;if(c(hi("")),t instanceof Object&&GameCore.Utils.Object.hasOwn(t,"message")&&typeof t.message=="string"){pe(new Error(t.message));return}pe(new xn)}},hi=c=>({type:Mr,payload:{token:c}});class Fn extends Phaser.Plugins.BasePlugin{get state(){return this.game.storage.getState()}async requestToken(){const{storage:e}=this.game;await e.dispatch(Gn())}getToken(){return Cr(this.state)}}const Bn='nunito,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif',Un=(c,e)=>({string:"+",style:"font-size: 1px; padding: "+Math.floor(e/2)+"px "+Math.floor(c/2)+"px;"}),Hn=(c,e=1)=>{const t=new Image;t.onload=function(){const s=Un(this.width*e,this.height*e);console.info(`%c ${s.string}`,`${s.style} background: transparent url(${c}) no-repeat center center; background-size: ${this.width*e}px ${this.height*e}px;`)},t.src=c},Yn=Hn;class Wn extends Phaser.Plugins.ScenePlugin{width;height;renderOptions;canvas;preload(e){const t=Object.keys(e);t.length<1||(t.forEach(s=>{this.scene.load.image(s,e[s])}),this.scene.load.start())}async capture(e){const{width:t,height:s,renderOptions:o}=e;return this.width=t,this.height=s,this.renderOptions=o,this.createCanvas(),await this.loadImages(),this.drawObjects(),this.snapshotFrame()}createCanvas(){this.canvas||(this.canvas=this.game.textures.createCanvas("FrameCaptureCanvas")),this.canvas.clear(),this.canvas.setSize(this.width,this.height)}loadImages(){return new Promise((e,t)=>{for(const s in this.renderOptions){const{name:o,image:i}=this.renderOptions[s];!i||this.scene.textures.get(o).key===o||this.scene.load.image(o,i)}this.scene.load.on(Phaser.Loader.Events.COMPLETE,e),this.scene.load.on(Phaser.Loader.Events.FILE_LOAD_ERROR,()=>{const s=new Error("Load image failed");t(s)}),this.scene.load.start()})}drawObjects(){for(const e in this.renderOptions){const t=this.renderOptions[e];switch(t.type){case"text":this.drawText(t);break;case"image":this.drawImage(t);break}}}drawText(e){const{context:t}=this.canvas,{x:s,y:o,font:i,text:r,fillStyle:n,lineWidth:a,textAlign:l}=e;t.font=`${i} ${Bn}`,t.fillStyle=n||"#ffffff",a&&(t.lineWidth=a),l&&(t.textAlign=l),t.fillText(r,s,o)}drawImage(e){const{context:t}=this.canvas,{x:s,y:o,name:i,frame:r,width:n,height:a,fallbackWithImage:l}=e;let d=this.scene.textures.get(i),u=d.getSourceImage(r);d.key==="__MISSING"&&l&&(d=this.scene.textures.get(l),u=d.getSourceImage()),t.drawImage(u,s,o,n,a)}snapshotFrame(){const e=this.canvas.getCanvas().toDataURL("image/jpeg",.85);return GameCore.Utils.Valid.isDebugger()&&Yn(e),e}}const Kn=Wn;class zn extends Phaser.Events.EventEmitter{game;options;performance;isRunning=!1;checkTimer;fpsHistory;constructor(e,t,s){super(),this.game=e,this.options=s,this.performance=t}start=()=>{if(this.isRunning)return;this.isRunning=!0;const{checkInterval:e}=this.options;this.checkTimer=e,this.fpsHistory=[],this.game.events.on(Phaser.Core.Events.POST_STEP,this.onPostStep)};stop=()=>{if(!this.isRunning)return;this.isRunning=!1,this.game.events.off(Phaser.Core.Events.POST_STEP,this.onPostStep);const{onlyUpdateWhenSwitchScene:e}=this.options;e&&this.checkFps()};onPostStep=(e,t)=>{if(this.checkTimer-=t,this.checkTimer>0)return;const{checkInterval:s,onlyUpdateWhenSwitchScene:o}=this.options;this.checkTimer+=s,this.fpsHistory.push(this.game.loop.actualFps),o===!1&&this.fpsHistory.length>=5&&this.checkFps()};checkFps(){if(this.fpsHistory.length===0)return;const{autoUpgradeQuality:e}=this.options;let t=!1;this.isLowFps()?t=this.performance.downgradeGraphicsQuality():e&&this.isHighFps()&&(t=this.performance.upgradeGraphicsQuality()),t&&(this.fpsHistory=[])}getFpsMedian(){return Phaser.Math.Median(this.fpsHistory)}isLowFps(){return this.getFpsMedian()<this.options.fpsThreshold}isHighFps(){return this.getFpsMedian()>this.options.fpsThreshold*1.2}}const jn=zn;class $n extends Phaser.Plugins.BasePlugin{fpsTracker;pixelRatio;minQuality;maxQuality;qualityAdjustStep;trackingSceneKeys=[];configure(e){const{pixelRatio:t,minQuality:s,maxQuality:o,qualityAdjustStep:i,trackingSceneKeys:r,...n}=e;this.pixelRatio=t,this.minQuality=s,this.maxQuality=o,this.qualityAdjustStep=i,this.trackingSceneKeys=r,this.fpsTracker=new jn(this.game,this,n)}active(){this.game.events.on(Phaser.Scenes.Events.WAKE,this.trackingScene),this.game.events.on(Phaser.Scenes.Events.START,this.trackingScene)}trackingScene=e=>{if(!this.trackingSceneKeys.includes(e))return;const t=this.game.scene.getScene(e);t.events.once(Phaser.Scenes.Events.UPDATE,this.fpsTracker.start),t.events.once(Phaser.Scenes.Events.SLEEP,this.fpsTracker.stop)};downgradeGraphicsQuality(){const e=this.pixelRatio;if(e<=this.minQuality)return!1;const t=+(e-this.qualityAdjustStep).toFixed(2);return t<this.minQuality?!1:(this.pixelRatio=t,this.game.world.resize(this.pixelRatio),console.warn(`💫 Graphics quality was downgraded! (${e} -> ${t})`),!0)}upgradeGraphicsQuality(){const e=this.pixelRatio;if(e>=this.maxQuality)return!1;const t=+(e+this.qualityAdjustStep).toFixed(2);return t>this.maxQuality?!1:(this.pixelRatio=t,this.game.world.resize(this.pixelRatio),console.warn(`🚀 Graphics quality was upgraded! (${e} -> ${t})`),!0)}}const Vn=$n,{DefaultTheme:Xn}=GameCore.Configs,Rt={sound:!0,music:!0,vibrate:!0,language:"en",theme:Xn},{StartCoins:Zn,StartLevel:qn,StartItems:Jn}=GameCore.Configs.Gameplay,{Valid:he,Object:ae}=GameCore.Utils;class Qn{score;settings;gameData;userGuideDisplays;constructor(e){this.setupDefaultData(),this.updateScore(e),this.updateSettings(e),this.updateGameData(e),this.updateUserGuideDisplays(e)}setupDefaultData(){this.score=0,this.settings={...Rt},this.gameData={coins:Zn,items:{...Jn},levelProgress:qn,lastTimePlayed:Date.now()},this.userGuideDisplays=0}updateScore(e){const{score:t}=e;he.isNumber(t)!==!1&&(this.score=t)}updateSettings(e){const{settings:t}=e;he.isObject(t)!==!1&&(ae.hasOwn(t,"sound")&&he.isBoolean(t.sound)&&(this.settings.sound=t.sound),ae.hasOwn(t,"music")&&he.isBoolean(t.music)&&(this.settings.music=t.music),ae.hasOwn(t,"vibrate")&&he.isBoolean(t.vibrate)&&(this.settings.vibrate=t.vibrate))}updateGameData(e){const{gameData:t}=e;if(he.isObject(t)!==!1){if(ae.hasOwn(t,"coins")&&he.isNumber(t.coins)&&(this.gameData.coins=t.coins),ae.hasOwn(t,"levelProgress")&&he.isNumber(t.levelProgress)&&(this.gameData.levelProgress=t.levelProgress),ae.hasOwn(t,"items")&&he.isObject(t.items)){const s=t.items;ae.hasOwn(s,"ItemHint")&&(this.gameData.items.ItemHint=s.ItemHint),ae.hasOwn(s,"ItemRocket")&&(this.gameData.items.ItemRocket=s.ItemRocket),ae.hasOwn(s,"ItemShuffle")&&(this.gameData.items.ItemShuffle=s.ItemShuffle),ae.hasOwn(s,"ItemBombDefuse")&&(this.gameData.items.ItemBombDefuse=s.ItemBombDefuse)}ae.hasOwn(t,"lastTimePlayed")&&he.isNumber(t.lastTimePlayed)&&(this.gameData.lastTimePlayed=t.lastTimePlayed)}}updateGameDataItems(e){ae.hasOwn(e,"ItemHint")&&(this.gameData.items.ItemHint=e.ItemHint),ae.hasOwn(e,"ItemRocket")&&(this.gameData.items.ItemRocket=e.ItemRocket),ae.hasOwn(e,"ItemShuffle")&&(this.gameData.items.ItemShuffle=e.ItemShuffle),ae.hasOwn(e,"ItemBombDefuse")&&(this.gameData.items.ItemBombDefuse=e.ItemBombDefuse)}updateUserGuideDisplays(e){const{userGuideDisplays:t}=e;he.isNumber(t)!==!1&&(this.userGuideDisplays=t)}toObject(){return{score:this.score,settings:this.settings,gameData:this.gameData,userGuideDisplays:this.userGuideDisplays}}convertToPlayerData(){const{coins:e,items:t,levelProgress:s,lastTimePlayed:o}=this.gameData;return{score:this.score,settings:this.settings,customFields:{coins:e,items:{...t},levelProgress:s,lastTimePlayed:o},userGuideDisplays:this.userGuideDisplays}}convertToFacebookData(e){const{score:t,settings:s,customFields:o,userGuideDisplays:i}=e,{coins:r,items:n,levelProgress:a,lastTimePlayed:l}=o||{};if(this.score=t,this.settings=s,this.userGuideDisplays=i,he.isNumber(r)&&(this.gameData.coins=r),he.isObject(n)){const{ItemBombDefuse:d,ItemHint:u,ItemRocket:m,ItemShuffle:f}=n;ae.hasOwn(n,"ItemHint")&&(this.gameData.items.ItemHint=u),ae.hasOwn(n,"ItemRocket")&&(this.gameData.items.ItemRocket=m),ae.hasOwn(n,"ItemShuffle")&&(this.gameData.items.ItemShuffle=f),ae.hasOwn(n,"ItemBombDefuse")&&(this.gameData.items.ItemBombDefuse=d)}return he.isNumber(a)&&(this.gameData.levelProgress=a),he.isNumber(l)&&(this.gameData.lastTimePlayed=l),this.toObject()}}const _t=Qn,el=c=>{try{const e=localStorage.getItem(c);return e===null?null:GameCore.Utils.Json.decode(e)}catch{return null}},Lr=(c,e)=>{try{const t=el(c);let s={};GameCore.Utils.Valid.isObject(t)&&(s=t);const o=GameCore.Utils.Json.clone(e);if(!GameCore.Utils.Valid.isObject(o))return!1;const i=GameCore.Utils.Object.clear(o),r=Ye(s,i),n=GameCore.Utils.Json.encode(r);return localStorage.setItem(c,n),!0}catch{return!1}};class Dr extends Error{constructor(e,t){super(e,t),this.name="BadRequest",this.message=e||"This request is bad",this.payload=t}}class So extends Error{constructor(e,t){super(e,t),this.name="RequestTimeout",this.message=e||"This request is timeout",this.payload=t}}const{AppId:tl,Network:Mo}=GameCore.Configs,sl=c=>{if(!c.ok)throw new Dr(null,{response:c})},Nr=()=>{const c=window.game.auth.getToken();return{token:c,timeout:Mo.Timeout,headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"}}},Gr=(c,e,t,s)=>async()=>{try{const o=`${c}/apps/${tl}/${e}`,i=new AbortController;t.signal=i.signal;const r=setTimeout(()=>{i.abort()},t.timeout);GameCore.Utils.Valid.isObject(s)&&(t.body=JSON.stringify(s));const n=await fetch(o,t);return clearTimeout(r),sl(n),await n.json()||{}}catch(o){if(o instanceof Dr)return null;throw o instanceof Object&&GameCore.Utils.Object.hasOwn(o,"name")&&o.name==="AbortError"?new So(null):o}},Co=async(c,e)=>{try{return c()}catch(t){if(t instanceof So&&e>0)try{return await an(600),await Co(c,e-1)}catch{return{}}return t instanceof So?{}:(console.warn(t),{})}},Fr=async(c,e={},t,s=Mo.Retries)=>{if(!t)return{};try{const o={...Nr(),...e,method:"GET"},i=Gr(t,c,o);return await Co(i,s)}catch(o){return console.warn(o),{}}},Br=async(c,e,t={},s,o=Mo.Retries)=>{if(!s)return{};try{const i={...Nr(),...t,method:"POST"},r=Gr(s,c,i,e);return await Co(r,o)}catch(i){return console.warn(i),{}}},{StartCoins:ol}=GameCore.Configs.Gameplay,Ur={score:0,settings:{...Rt},userGuideDisplays:0,customFields:{coins:ol,items:{},levelProgress:1,lastTimePlayed:Date.now()}},{ApiHost:Hr,PlayerDataStoreUsingApi:Yr}=GameCore.Configs,Lo=async c=>Yr?il(c):rl(c),il=async c=>{const e=GameCore.Utils.String.params(c);return(await Fr(`players?${e}`,{},Hr))?.data||[]},rl=async c=>{await GameSDK.player.setDataAsync(c);const e=Object.keys(Ur).concat(Object.keys(c)),t=e.filter((i,r)=>e.indexOf(i)===r),s=await GameSDK.player.getDataAsync(t),o=await GameSDK.player.getStatsAsync();return{...s,...o}},al=async c=>Yr?nl(c):ll(),nl=async c=>(await Br(`players/${c}/user-guide-displays/inc`,{},{},Hr))?.data||{},ll=async()=>await GameSDK.player.incrementStatsAsync({userGuideDisplays:1}),Wr="PLAYER_RECEIVED",Kr="PLAYER_DATA_UPDATE",zr="PLAYER_SCORE_UPDATE",jr="PLAYER_PROFILE_UPDATE",$r="PLAYER_SETTING_UPDATE",Vr="PLAYER_CONNECTED_PLAYERS_UPDATE";class cl extends Error{payload;constructor(e,t){super(e),this.name="PlayerDataNameNotSupport",this.message=e||"The name of player data is not supported",this.payload=t||{}}}const Xr=cl,Ls="player",dl=c=>c[Ls],ml=c=>c[Ls].data,ul=c=>c[Ls].connectedPlayers,hl=(c,e)=>e.limit,fl=(c,e)=>e.offset,Ds=de([dl],c=>c),pl=de([Ds],c=>c.playerId),bl=de([Ds],c=>c.ASID),ct=de([ml],c=>c);de([ct],c=>c.settings);const Zr=de([ul],c=>c),gl=de([Zr,hl,fl],(c,e,t)=>typeof e!="number"?[]:typeof t!="number"?[]:Object.keys(c).slice(t,e+t)||[]),vl=de([ct],c=>c.score),Tl=de([ct],c=>c.customFields),{AppId:wl,Tutorial:El,PlayerDataStore:qr}=GameCore.Configs,yl=(c,e)=>t=>{const{playerId:s,name:o,photo:i,locale:r}=c;t({type:Wr,payload:{playerId:s,name:o,photo:i,locale:r,data:e||{}}})},Pl=()=>async c=>{try{const{facebook:e}=window.game,t=await new Promise((i,r)=>{e.once("players",n=>{i(n)}),e.once("playersfail",()=>r([])),e.getPlayers()}),s=i=>!!i,o=t.map(i=>{const r=i.getID(),n=i.getName(),a=i.getPhoto();return!r||!n||!a?null:new Ss(r,n,a).toObject()}).filter(s);if(o.length<1)return;c(Jr(o))}catch(e){pe(e)}},Jr=c=>({type:Vr,payload:{connectedPlayers:c}}),Sl=(c,e)=>(t,s)=>{try{t({type:$r,payload:{name:c,value:e}});const o=s(),i=ct(o),r=new _t({}).convertToFacebookData(i);FBInstant.player.setDataAsync(r)}catch(o){pe(o)}},kl=()=>async(c,e)=>{try{const t=e(),s=Ds(t),{playerId:o,name:i,photo:r,locale:n}=s,a=await FBInstant.player.getASIDAsync(),l={appId:wl,playerId:o,name:i,photo:r,locale:n,ASID:a};Lo(l),c({type:jr,payload:{profile:l}})}catch(t){pe(t)}},xl=(c,e)=>async(t,s)=>{try{const o={customFields:{[c]:e}};await t(Do(o));const i=s(),r=ct(i),n=new _t({}).convertToFacebookData(r);FBInstant.player.setDataAsync(n)}catch(o){if(o instanceof Xr)return;pe(o)}},Ol=c=>async(e,t)=>{try{console.info("🚀 > setMultiCustomData",c),await e(Do({customFields:c}));const o=t(),i=ct(o),r={...i};Lo(r);const n=new _t({}).convertToFacebookData(i);FBInstant.player.setDataAsync(n)}catch(s){if(console.log("🤖 ? error",s),s instanceof Xr)return;pe(s)}},Do=c=>e=>{try{e({type:Kr,payload:{data:c}}),Lr(qr,c)}catch(t){pe(t)}},Rl=()=>async(c,e)=>{try{if(El.ForceUseTutorial)return;const{facebook:t}=window.game;c(Do({userGuideDisplays:1}));const s=e(),o=pl(s);await al(o),t.data.set("userGuideDisplays",1)}catch(t){pe(t)}},fi=c=>async(e,t)=>{try{await e({type:zr,payload:{score:c}}),Lo({score:c});const s=t(),i={...ct(s)};Lr(qr,i)}catch(s){pe(s)}};class Al extends Phaser.Plugins.BasePlugin{get state(){return this.game.storage.getState()}async incUserGuideDisplays(){const{storage:e}=this.game;await e.dispatch(Rl())}receiveData(e,t){const{storage:s}=this.game;s.dispatch(yl(e,t))}async updateData(){const{storage:e}=this.game;await e.dispatch(kl())}async updateBestScore(e){const t=this.getBestScore();if(e<=t)return;const{storage:s}=this.game;await s.dispatch(fi(e))}async setScore(e){const{storage:t}=this.game;await t.dispatch(fi(e))}async setSetting(e,t){const{storage:s}=this.game;await s.dispatch(Sl(e,t))}async setCustomData(e,t){const{storage:s}=this.game;await s.dispatch(xl(e,t))}async setMultiCustomData(e){const{storage:t}=this.game;await t.dispatch(Ol(e))}async requestConnectedPlayers(){const{storage:e}=this.game;await e.dispatch(Pl())}async updateConnectedPlayers(e){const{storage:t}=this.game;await t.dispatch(Jr(e))}getPlayer(){return Ds(this.state)}getPlayerId(){return this.getPlayer().playerId}getPlayerASID(){return bl(this.state)}getPlayerData(){return this.getPlayer().data}getPlayerSetting(e){const t=this.getPlayerSettings();return typeof e!="string"?null:GameCore.Utils.Object.hasOwn(t,e)?t[e]:GameCore.Utils.Object.hasOwn(Rt,e)?Rt[e]:null}getPlayerSettings(){return this.getPlayerData().settings}getPlayerIsNew(){return this.getPlayer().isUserNew}getCoins(){const e=this.getCustomData("coin");return GameCore.Utils.Valid.isNumber(e)?e:0}getBestScore(){return vl(this.state)}getCustomData(e){const t=Tl(this.state);return!GameCore.Utils.Valid.isObject(t)||!GameCore.Utils.Object.hasOwn(t,e)?null:t[e]}getConnectedPlayers(){return Zr(this.state)}getConnectedPlayerIds(e,t){return gl(this.state,{limit:e,offset:t})}}const{ApiHost:_l}=GameCore.Configs,Il=async c=>{const e=GameCore.Utils.String.params(c);return(await Fr(`players?${e}`,{},_l))?.data||[]},Qr="PROFILES_DATA_UPDATE",No="profile",Ml=c=>c[No].data,Cl=c=>c[No].profileIds,Ll=de([Ml],c=>c),Dl=de([Cl],c=>c),Nl=c=>async(e,t)=>{try{const s=t(),o=Dl(s),i=GameCore.Utils.Array.difference(c,o);if(i.length<1)return;const r=await Il({playerIds:i});e({type:Qr,payload:{data:r}})}catch(s){pe(s)}};class Gl extends Phaser.Plugins.BasePlugin{get state(){return this.game.storage.getState()}async requestProfiles(e){const{storage:t}=this.game;await t.dispatch(Nl(e))}getProfiles(){return Ll(this.state)}}var ea=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ts(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var xs={exports:{}};xs.exports;(function(c,e){(function(t,s){c.exports=s()})(ea,function(){return function(t){var s={};function o(i){if(s[i])return s[i].exports;var r=s[i]={i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=t,o.c=s,o.d=function(i,r,n){o.o(i,r)||Object.defineProperty(i,r,{enumerable:!0,get:n})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,r){if(1&r&&(i=o(i)),8&r||4&r&&typeof i=="object"&&i&&i.__esModule)return i;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:i}),2&r&&typeof i!="string")for(var a in i)o.d(n,a,function(l){return i[l]}.bind(null,a));return n},o.n=function(i){var r=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(r,"a",r),r},o.o=function(i,r){return Object.prototype.hasOwnProperty.call(i,r)},o.p="",o(o.s=6)}([function(t,s,o){var i=o(12),r={};function n(E,S){return S===a(E)}function a(E){var S=typeof E;return S!=="object"?S:E?E instanceof Error?"error":{}.toString.call(E).match(/\s([a-zA-Z]+)/)[1].toLowerCase():"null"}function l(E){return n(E,"function")}function d(E){var S=Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?"),R=RegExp("^"+S+"$");return u(E)&&R.test(E)}function u(E){var S=typeof E;return E!=null&&(S=="object"||S=="function")}function m(){var E=y();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(S){var R=(E+16*Math.random())%16|0;return E=Math.floor(E/16),(S==="x"?R:7&R|8).toString(16)})}var f={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};function h(E,S){var R,O;try{R=r.stringify(E)}catch(P){if(S&&l(S))try{R=S(E)}catch(x){O=x}else O=P}return{error:O,value:R}}function p(E,S){return function(R,O){try{S(R,O)}catch(P){E.error(P)}}}function v(E){return function S(R,O){var P,x,M,L={};try{for(x in R)(P=R[x])&&(n(P,"object")||n(P,"array"))?O.includes(P)?L[x]="Removed circular reference: "+a(P):((M=O.slice()).push(P),L[x]=S(P,M)):L[x]=P}catch(N){L="Failed cloning custom data: "+N.message}return L}(E,[E])}var b=["log","network","dom","navigation","error","manual"],g=["critical","error","warning","info","debug"];function T(E,S){for(var R=0;R<E.length;++R)if(E[R]===S)return!0;return!1}function y(){return Date.now?+Date.now():+new Date}t.exports={addParamsAndAccessTokenToPath:function(E,S,R){(R=R||{}).access_token=E;var O,P=[];for(O in R)Object.prototype.hasOwnProperty.call(R,O)&&P.push([O,R[O]].join("="));var x="?"+P.sort().join("&");(S=S||{}).path=S.path||"";var M,L=S.path.indexOf("?"),N=S.path.indexOf("#");L!==-1&&(N===-1||N>L)?(M=S.path,S.path=M.substring(0,L)+x+"&"+M.substring(L+1)):N!==-1?(M=S.path,S.path=M.substring(0,N)+x+M.substring(N)):S.path=S.path+x},createItem:function(E,S,R,O,P){for(var x,M,L,N,H,Y,X=[],te=[],me=0,Q=E.length;me<Q;++me){var We=a(Y=E[me]);switch(te.push(We),We){case"undefined":break;case"string":x?X.push(Y):x=Y;break;case"function":N=p(S,Y);break;case"date":X.push(Y);break;case"error":case"domexception":case"exception":M?X.push(Y):M=Y;break;case"object":case"array":if(Y instanceof Error||typeof DOMException<"u"&&Y instanceof DOMException){M?X.push(Y):M=Y;break}if(O&&We==="object"&&!H){for(var we=0,Lt=O.length;we<Lt;++we)if(Y[O[we]]!==void 0){H=Y;break}if(H)break}L?X.push(Y):L=Y;break;default:if(Y instanceof Error||typeof DOMException<"u"&&Y instanceof DOMException){M?X.push(Y):M=Y;break}X.push(Y)}}L&&(L=v(L)),X.length>0&&(L||(L=v({})),L.extraArgs=v(X));var Ne={message:x,err:M,custom:L,timestamp:y(),callback:N,notifier:R,diagnostic:{},uuid:m()};return function(Dt,ke){ke&&ke.level!==void 0&&(Dt.level=ke.level,delete ke.level),ke&&ke.skipFrames!==void 0&&(Dt.skipFrames=ke.skipFrames,delete ke.skipFrames)}(Ne,L),O&&H&&(Ne.request=H),P&&(Ne.lambdaContext=P),Ne._originalArgs=E,Ne.diagnostic.original_arg_types=te,Ne},addErrorContext:function(E,S){var R=E.data.custom||{},O=!1;try{for(var P=0;P<S.length;++P)S[P].hasOwnProperty("rollbarContext")&&(R=i(R,v(S[P].rollbarContext)),O=!0);O&&(E.data.custom=R)}catch(x){E.diagnostic.error_context="Failed: "+x.message}},createTelemetryEvent:function(E){for(var S,R,O,P,x=0,M=E.length;x<M;++x)switch(a(P=E[x])){case"string":!S&&T(b,P)?S=P:!O&&T(g,P)&&(O=P);break;case"object":R=P}return{type:S||"manual",metadata:R||{},level:O}},filterIp:function(E,S){if(E&&E.user_ip&&S!==!0){var R=E.user_ip;if(S)try{var O;if(R.indexOf(".")!==-1)(O=R.split(".")).pop(),O.push("0"),R=O.join(".");else if(R.indexOf(":")!==-1){if((O=R.split(":")).length>2){var P=O.slice(0,3),x=P[2].indexOf("/");x!==-1&&(P[2]=P[2].substring(0,x)),R=P.concat("0000:0000:0000:0000:0000").join(":")}}else R=null}catch{R=null}else R=null;E.user_ip=R}},formatArgsAsString:function(E){var S,R,O,P=[];for(S=0,R=E.length;S<R;++S){switch(a(O=E[S])){case"object":(O=(O=h(O)).error||O.value).length>500&&(O=O.substr(0,497)+"...");break;case"null":O="null";break;case"undefined":O="undefined";break;case"symbol":O=O.toString()}P.push(O)}return P.join(" ")},formatUrl:function(E,S){if(!(S=S||E.protocol)&&E.port&&(E.port===80?S="http:":E.port===443&&(S="https:")),S=S||"https:",!E.hostname)return null;var R=S+"//"+E.hostname;return E.port&&(R=R+":"+E.port),E.path&&(R+=E.path),R},get:function(E,S){if(E){var R=S.split("."),O=E;try{for(var P=0,x=R.length;P<x;++P)O=O[R[P]]}catch{O=void 0}return O}},handleOptions:function(E,S,R,O){var P=i(E,S,R);return P=function(x,M){return x.hostWhiteList&&!x.hostSafeList&&(x.hostSafeList=x.hostWhiteList,x.hostWhiteList=void 0,M&&M.log("hostWhiteList is deprecated. Use hostSafeList.")),x.hostBlackList&&!x.hostBlockList&&(x.hostBlockList=x.hostBlackList,x.hostBlackList=void 0,M&&M.log("hostBlackList is deprecated. Use hostBlockList.")),x}(P,O),!S||S.overwriteScrubFields||S.scrubFields&&(P.scrubFields=(E.scrubFields||[]).concat(S.scrubFields)),P},isError:function(E){return n(E,"error")||n(E,"exception")},isFiniteNumber:function(E){return Number.isFinite(E)},isFunction:l,isIterable:function(E){var S=a(E);return S==="object"||S==="array"},isNativeFunction:d,isObject:u,isString:function(E){return typeof E=="string"||E instanceof String},isType:n,isPromise:function(E){return u(E)&&n(E.then,"function")},jsonParse:function(E){var S,R;try{S=r.parse(E)}catch(O){R=O}return{error:R,value:S}},LEVELS:{debug:0,info:1,warning:2,error:3,critical:4},makeUnhandledStackInfo:function(E,S,R,O,P,x,M,L){var N={url:S||"",line:R,column:O};N.func=L.guessFunctionName(N.url,N.line),N.context=L.gatherContext(N.url,N.line);var H=typeof document<"u"&&document&&document.location&&document.location.href,Y=typeof window<"u"&&window&&window.navigator&&window.navigator.userAgent;return{mode:x,message:P?String(P):E||M,url:H,stack:[N],useragent:Y}},merge:i,now:y,redact:function(){return"********"},RollbarJSON:r,sanitizeUrl:function(E){var S=function(R){if(n(R,"string")){for(var O=f,P=O.parser[O.strictMode?"strict":"loose"].exec(R),x={},M=0,L=O.key.length;M<L;++M)x[O.key[M]]=P[M]||"";return x[O.q.name]={},x[O.key[12]].replace(O.q.parser,function(N,H,Y){H&&(x[O.q.name][H]=Y)}),x}}(E);return S?(S.anchor===""&&(S.source=S.source.replace("#","")),E=S.source.replace("?"+S.query,"")):"(unknown)"},set:function(E,S,R){if(E){var O=S.split("."),P=O.length;if(!(P<1))if(P!==1)try{for(var x=E[O[0]]||{},M=x,L=1;L<P-1;++L)x[O[L]]=x[O[L]]||{},x=x[O[L]];x[O[P-1]]=R,E[O[0]]=M}catch{return}else E[O[0]]=R}},setupJSON:function(E){l(r.stringify)&&l(r.parse)||(n(JSON,"undefined")||(E?(d(JSON.stringify)&&(r.stringify=JSON.stringify),d(JSON.parse)&&(r.parse=JSON.parse)):(l(JSON.stringify)&&(r.stringify=JSON.stringify),l(JSON.parse)&&(r.parse=JSON.parse))),l(r.stringify)&&l(r.parse)||E&&E(r))},stringify:h,maxByteSize:function(E){for(var S=0,R=E.length,O=0;O<R;O++){var P=E.charCodeAt(O);P<128?S+=1:P<2048?S+=2:P<65536&&(S+=3)}return S},typeName:a,uuid4:m}},function(t,s,o){o(17);var i=o(18),r=o(0);t.exports={error:function(){var n=Array.prototype.slice.call(arguments,0);n.unshift("Rollbar:"),i.ieVersion()<=8?console.error(r.formatArgsAsString(n)):console.error.apply(console,n)},info:function(){var n=Array.prototype.slice.call(arguments,0);n.unshift("Rollbar:"),i.ieVersion()<=8?console.info(r.formatArgsAsString(n)):console.info.apply(console,n)},log:function(){var n=Array.prototype.slice.call(arguments,0);n.unshift("Rollbar:"),i.ieVersion()<=8?console.log(r.formatArgsAsString(n)):console.log.apply(console,n)}}},function(t,s,o){t.exports={parse:function(i){var r,n,a={protocol:null,auth:null,host:null,path:null,hash:null,href:i,hostname:null,port:null,pathname:null,search:null,query:null};if((r=i.indexOf("//"))!==-1?(a.protocol=i.substring(0,r),n=r+2):n=0,(r=i.indexOf("@",n))!==-1&&(a.auth=i.substring(n,r),n=r+1),(r=i.indexOf("/",n))===-1){if((r=i.indexOf("?",n))===-1)return(r=i.indexOf("#",n))===-1?a.host=i.substring(n):(a.host=i.substring(n,r),a.hash=i.substring(r)),a.hostname=a.host.split(":")[0],a.port=a.host.split(":")[1],a.port&&(a.port=parseInt(a.port,10)),a;a.host=i.substring(n,r),a.hostname=a.host.split(":")[0],a.port=a.host.split(":")[1],a.port&&(a.port=parseInt(a.port,10)),n=r}else a.host=i.substring(n,r),a.hostname=a.host.split(":")[0],a.port=a.host.split(":")[1],a.port&&(a.port=parseInt(a.port,10)),n=r;if((r=i.indexOf("#",n))===-1?a.path=i.substring(n):(a.path=i.substring(n,r),a.hash=i.substring(r)),a.path){var l=a.path.split("?");a.pathname=l[0],a.query=l[1],a.search=a.query?"?"+a.query:null}return a}}},function(t,s,o){var i=o(24),r=new RegExp("^(([a-zA-Z0-9-_$ ]*): *)?(Uncaught )?([a-zA-Z0-9-_$ ]*): ");function n(){return null}function a(u){var m={};return m._stackFrame=u,m.url=u.fileName,m.line=u.lineNumber,m.func=u.functionName,m.column=u.columnNumber,m.args=u.args,m.context=null,m}function l(u,m){return{stack:function(){var f=[];m=m||0;try{f=i.parse(u)}catch{f=[]}for(var h=[],p=m;p<f.length;p++)h.push(new a(f[p]));return h}(),message:u.message,name:d(u),rawStack:u.stack,rawException:u}}function d(u){var m=u.name&&u.name.length&&u.name,f=u.constructor.name&&u.constructor.name.length&&u.constructor.name;return m&&f?m==="Error"?f:m:m||f}t.exports={guessFunctionName:function(){return"?"},guessErrorClass:function(u){if(!u||!u.match)return["Unknown error. There was no error message to display.",""];var m=u.match(r),f="(unknown)";return m&&(f=m[m.length-1],u=(u=u.replace((m[m.length-2]||"")+f+":","")).replace(/(^[\s]+|[\s]+$)/g,"")),[f,u]},gatherContext:n,parse:function(u,m){var f=u;if(f.nested||f.cause){for(var h=[];f;)h.push(new l(f,m)),f=f.nested||f.cause,m=0;return h[0].traceChain=h,h[0]}return new l(f,m)},Stack:l,Frame:a}},function(t,s,o){var i=o(0),r=o(5);function n(a,l){var d=l.split("."),u=d.length-1;try{for(var m=0;m<=u;++m)m<u?a=a[d[m]]:a[d[m]]=i.redact()}catch{}}t.exports=function(a,l,d){if(l=l||[],d)for(var u=0;u<d.length;++u)n(a,d[u]);var m=function(p){for(var v,b=[],g=0;g<p.length;++g)v="^\\[?(%5[bB])?"+p[g]+"\\[?(%5[bB])?\\]?(%5[dD])?$",b.push(new RegExp(v,"i"));return b}(l),f=function(p){for(var v,b=[],g=0;g<p.length;++g)v="\\[?(%5[bB])?"+p[g]+"\\[?(%5[bB])?\\]?(%5[dD])?",b.push(new RegExp("("+v+"=)([^&\\n]+)","igm"));return b}(l);function h(p,v){return v+i.redact()}return r(a,function p(v,b,g){var T=function(y,E){var S;for(S=0;S<m.length;++S)if(m[S].test(y)){E=i.redact();break}return E}(v,b);return T===b?i.isType(b,"object")||i.isType(b,"array")?r(b,p,g):function(y){var E;if(i.isType(y,"string"))for(E=0;E<f.length;++E)y=y.replace(f[E],h);return y}(T):T})}},function(t,s,o){var i=o(0);t.exports=function(r,n,a){var l,d,u,m,f=i.isType(r,"object"),h=i.isType(r,"array"),p=[];if(a=a||{obj:[],mapped:[]},f){if(m=a.obj.indexOf(r),f&&m!==-1)return a.mapped[m]||a.obj[m];a.obj.push(r),m=a.obj.length-1}if(f)for(l in r)Object.prototype.hasOwnProperty.call(r,l)&&p.push(l);else if(h)for(u=0;u<r.length;++u)p.push(u);var v=f?{}:[],b=!0;for(u=0;u<p.length;++u)d=r[l=p[u]],v[l]=n(l,d,a),b=b&&v[l]===r[l];return f&&!b&&(a.mapped[m]=v),b?r:v}},function(t,s,o){t.exports=o(7)},function(t,s,o){var i=o(8),r=typeof window<"u"&&window._rollbarConfig,n=r&&r.globalAlias||"Rollbar",a=typeof window<"u"&&window[n]&&typeof window[n].shimId=="function"&&window[n].shimId()!==void 0;if(typeof window>"u"||window._rollbarStartTime||(window._rollbarStartTime=new Date().getTime()),!a&&r){var l=new i(r);window[n]=l}else typeof window<"u"?(window.rollbar=i,window._rollbarDidLoad=!0):typeof self<"u"&&(self.rollbar=i,self._rollbarDidLoad=!0);t.exports=i},function(t,s,o){var i=o(9),r=o(31),n=o(32),a=o(35),l=o(37),d=o(4),u=o(38);i.setComponents({telemeter:r,instrumenter:n,polyfillJSON:a,wrapGlobals:l,scrub:d,truncation:u}),t.exports=i},function(t,s,o){var i=o(10),r=o(0),n=o(15),a=o(1),l=o(19),d=o(20),u=o(2),m=o(23),f=o(26),h=o(27),p=o(28),v=o(3);function b(P,x){this.options=r.handleOptions(O,P,null,a),this.options._configuredOptions=P;var M=this.components.telemeter,L=this.components.instrumenter,N=this.components.polyfillJSON;this.wrapGlobals=this.components.wrapGlobals,this.scrub=this.components.scrub;var H=this.components.truncation,Y=new d(H),X=new n(this.options,Y,u,H);M&&(this.telemeter=new M(this.options)),this.client=x||new i(this.options,X,a,this.telemeter,"browser");var te=E(),me=typeof document<"u"&&document;this.isChrome=te.chrome&&te.chrome.runtime,this.anonymousErrorsPending=0,function(Q,We,we){Q.addTransform(m.handleDomException).addTransform(m.handleItemWithError).addTransform(m.ensureItemHasSomethingToSay).addTransform(m.addBaseInfo).addTransform(m.addRequestInfo(we)).addTransform(m.addClientInfo(we)).addTransform(m.addPluginInfo(we)).addTransform(m.addBody).addTransform(f.addMessageWithError).addTransform(f.addTelemetryData).addTransform(f.addConfigToPayload).addTransform(m.addScrubber(We.scrub)).addTransform(f.addPayloadOptions).addTransform(f.userTransform(a)).addTransform(f.addConfiguredOptions).addTransform(f.addDiagnosticKeys).addTransform(f.itemToPayload)}(this.client.notifier,this,te),this.client.queue.addPredicate(p.checkLevel).addPredicate(h.checkIgnore).addPredicate(p.userCheckIgnore(a)).addPredicate(p.urlIsNotBlockListed(a)).addPredicate(p.urlIsSafeListed(a)).addPredicate(p.messageIsIgnored(a)),this.setupUnhandledCapture(),L&&(this.instrumenter=new L(this.options,this.client.telemeter,this,te,me),this.instrumenter.instrument()),r.setupJSON(N)}var g=null;function T(P){var x="Rollbar is not initialized";a.error(x),P&&P(new Error(x))}function y(P){for(var x=0,M=P.length;x<M;++x)if(r.isFunction(P[x]))return P[x]}function E(){return typeof window<"u"&&window||typeof self<"u"&&self}b.init=function(P,x){return g?g.global(P).configure(P):g=new b(P,x)},b.prototype.components={},b.setComponents=function(P){b.prototype.components=P},b.prototype.global=function(P){return this.client.global(P),this},b.global=function(P){if(g)return g.global(P);T()},b.prototype.configure=function(P,x){var M=this.options,L={};return x&&(L={payload:x}),this.options=r.handleOptions(M,P,L,a),this.options._configuredOptions=r.handleOptions(M._configuredOptions,P,L),this.client.configure(this.options,x),this.instrumenter&&this.instrumenter.configure(this.options),this.setupUnhandledCapture(),this},b.configure=function(P,x){if(g)return g.configure(P,x);T()},b.prototype.lastError=function(){return this.client.lastError},b.lastError=function(){if(g)return g.lastError();T()},b.prototype.log=function(){var P=this._createItem(arguments),x=P.uuid;return this.client.log(P),{uuid:x}},b.log=function(){if(g)return g.log.apply(g,arguments);var P=y(arguments);T(P)},b.prototype.debug=function(){var P=this._createItem(arguments),x=P.uuid;return this.client.debug(P),{uuid:x}},b.debug=function(){if(g)return g.debug.apply(g,arguments);var P=y(arguments);T(P)},b.prototype.info=function(){var P=this._createItem(arguments),x=P.uuid;return this.client.info(P),{uuid:x}},b.info=function(){if(g)return g.info.apply(g,arguments);var P=y(arguments);T(P)},b.prototype.warn=function(){var P=this._createItem(arguments),x=P.uuid;return this.client.warn(P),{uuid:x}},b.warn=function(){if(g)return g.warn.apply(g,arguments);var P=y(arguments);T(P)},b.prototype.warning=function(){var P=this._createItem(arguments),x=P.uuid;return this.client.warning(P),{uuid:x}},b.warning=function(){if(g)return g.warning.apply(g,arguments);var P=y(arguments);T(P)},b.prototype.error=function(){var P=this._createItem(arguments),x=P.uuid;return this.client.error(P),{uuid:x}},b.error=function(){if(g)return g.error.apply(g,arguments);var P=y(arguments);T(P)},b.prototype.critical=function(){var P=this._createItem(arguments),x=P.uuid;return this.client.critical(P),{uuid:x}},b.critical=function(){if(g)return g.critical.apply(g,arguments);var P=y(arguments);T(P)},b.prototype.buildJsonPayload=function(P){return this.client.buildJsonPayload(P)},b.buildJsonPayload=function(){if(g)return g.buildJsonPayload.apply(g,arguments);T()},b.prototype.sendJsonPayload=function(P){return this.client.sendJsonPayload(P)},b.sendJsonPayload=function(){if(g)return g.sendJsonPayload.apply(g,arguments);T()},b.prototype.setupUnhandledCapture=function(){var P=E();this.unhandledExceptionsInitialized||(this.options.captureUncaught||this.options.handleUncaughtExceptions)&&(l.captureUncaughtExceptions(P,this),this.wrapGlobals&&this.options.wrapGlobalEventHandlers&&this.wrapGlobals(P,this),this.unhandledExceptionsInitialized=!0),this.unhandledRejectionsInitialized||(this.options.captureUnhandledRejections||this.options.handleUnhandledRejections)&&(l.captureUnhandledRejections(P,this),this.unhandledRejectionsInitialized=!0)},b.prototype.handleUncaughtException=function(P,x,M,L,N,H){if(this.options.captureUncaught||this.options.handleUncaughtExceptions){if(this.options.inspectAnonymousErrors&&this.isChrome&&N===null&&x==="")return"anonymous";var Y,X=r.makeUnhandledStackInfo(P,x,M,L,N,"onerror","uncaught exception",v);r.isError(N)?(Y=this._createItem([P,N,H]))._unhandledStackInfo=X:r.isError(x)?(Y=this._createItem([P,x,H]))._unhandledStackInfo=X:(Y=this._createItem([P,H])).stackInfo=X,Y.level=this.options.uncaughtErrorLevel,Y._isUncaught=!0,this.client.log(Y)}},b.prototype.handleAnonymousErrors=function(){if(this.options.inspectAnonymousErrors&&this.isChrome){var P=this;try{Error.prepareStackTrace=function(x,M){if(P.options.inspectAnonymousErrors&&P.anonymousErrorsPending){if(P.anonymousErrorsPending-=1,!x)return;x._isAnonymous=!0,P.handleUncaughtException(x.message,null,null,null,x)}return x.stack}}catch(x){this.options.inspectAnonymousErrors=!1,this.error("anonymous error handler failed",x)}}},b.prototype.handleUnhandledRejection=function(P,x){if(this.options.captureUnhandledRejections||this.options.handleUnhandledRejections){var M="unhandled rejection was null or undefined!";if(P)if(P.message)M=P.message;else{var L=r.stringify(P);L.value&&(M=L.value)}var N,H=P&&P._rollbarContext||x&&x._rollbarContext;r.isError(P)?N=this._createItem([M,P,H]):(N=this._createItem([M,P,H])).stackInfo=r.makeUnhandledStackInfo(M,"",0,0,null,"unhandledrejection","",v),N.level=this.options.uncaughtErrorLevel,N._isUncaught=!0,N._originalArgs=N._originalArgs||[],N._originalArgs.push(x),this.client.log(N)}},b.prototype.wrap=function(P,x,M){try{var L;if(L=r.isFunction(x)?x:function(){return x||{}},!r.isFunction(P)||P._isWrap)return P;if(!P._rollbar_wrapped&&(P._rollbar_wrapped=function(){M&&r.isFunction(M)&&M.apply(this,arguments);try{return P.apply(this,arguments)}catch(Y){var H=Y;throw H&&window._rollbarWrappedError!==H&&(r.isType(H,"string")&&(H=new String(H)),H._rollbarContext=L()||{},H._rollbarContext._wrappedSource=P.toString(),window._rollbarWrappedError=H),H}},P._rollbar_wrapped._isWrap=!0,P.hasOwnProperty))for(var N in P)P.hasOwnProperty(N)&&N!=="_rollbar_wrapped"&&(P._rollbar_wrapped[N]=P[N]);return P._rollbar_wrapped}catch{return P}},b.wrap=function(P,x){if(g)return g.wrap(P,x);T()},b.prototype.captureEvent=function(){var P=r.createTelemetryEvent(arguments);return this.client.captureEvent(P.type,P.metadata,P.level)},b.captureEvent=function(){if(g)return g.captureEvent.apply(g,arguments);T()},b.prototype.captureDomContentLoaded=function(P,x){return x||(x=new Date),this.client.captureDomContentLoaded(x)},b.prototype.captureLoad=function(P,x){return x||(x=new Date),this.client.captureLoad(x)},b.prototype.loadFull=function(){a.info("Unexpected Rollbar.loadFull() called on a Notifier instance. This can happen when Rollbar is loaded multiple times.")},b.prototype._createItem=function(P){return r.createItem(P,a,this)};var S=o(29),R=o(30),O={version:S.version,scrubFields:R.scrubFields,logLevel:S.logLevel,reportLevel:S.reportLevel,uncaughtErrorLevel:S.uncaughtErrorLevel,endpoint:S.endpoint,verbose:!1,enabled:!0,transmit:!0,sendConfig:!1,includeItemsInTelemetry:!0,captureIp:!0,inspectAnonymousErrors:!0,ignoreDuplicateErrors:!0,wrapGlobalEventHandlers:!1};t.exports=b},function(t,s,o){var i=o(11),r=o(13),n=o(14),a=o(0);function l(m,f,h,p,v){this.options=a.merge(m),this.logger=h,l.rateLimiter.configureGlobal(this.options),l.rateLimiter.setPlatformOptions(v,this.options),this.api=f,this.queue=new r(l.rateLimiter,f,h,this.options);var b=this.options.tracer||null;u(b)?(this.tracer=b,this.options.tracer="opentracing-tracer-enabled",this.options._configuredOptions.tracer="opentracing-tracer-enabled"):this.tracer=null,this.notifier=new n(this.queue,this.options),this.telemeter=p,d(m),this.lastError=null,this.lastErrorHash="none"}function d(m){m.stackTraceLimit&&(Error.stackTraceLimit=m.stackTraceLimit)}function u(m){if(!m||!m.scope||typeof m.scope!="function")return!1;var f=m.scope();return!(!f||!f.active||typeof f.active!="function")}l.rateLimiter=new i({maxItems:0,itemsPerMinute:60}),l.prototype.global=function(m){return l.rateLimiter.configureGlobal(m),this},l.prototype.configure=function(m,f){var h=this.options,p={};f&&(p={payload:f}),this.options=a.merge(h,m,p);var v=this.options.tracer||null;return u(v)?(this.tracer=v,this.options.tracer="opentracing-tracer-enabled",this.options._configuredOptions.tracer="opentracing-tracer-enabled"):this.tracer=null,this.notifier&&this.notifier.configure(this.options),this.telemeter&&this.telemeter.configure(this.options),d(m),this.global(this.options),u(m.tracer)&&(this.tracer=m.tracer),this},l.prototype.log=function(m){var f=this._defaultLogLevel();return this._log(f,m)},l.prototype.debug=function(m){this._log("debug",m)},l.prototype.info=function(m){this._log("info",m)},l.prototype.warn=function(m){this._log("warning",m)},l.prototype.warning=function(m){this._log("warning",m)},l.prototype.error=function(m){this._log("error",m)},l.prototype.critical=function(m){this._log("critical",m)},l.prototype.wait=function(m){this.queue.wait(m)},l.prototype.captureEvent=function(m,f,h){return this.telemeter&&this.telemeter.captureEvent(m,f,h)},l.prototype.captureDomContentLoaded=function(m){return this.telemeter&&this.telemeter.captureDomContentLoaded(m)},l.prototype.captureLoad=function(m){return this.telemeter&&this.telemeter.captureLoad(m)},l.prototype.buildJsonPayload=function(m){return this.api.buildJsonPayload(m)},l.prototype.sendJsonPayload=function(m){this.api.postJsonPayload(m)},l.prototype._log=function(m,f){var h;if(f.callback&&(h=f.callback,delete f.callback),this.options.ignoreDuplicateErrors&&this._sameAsLastError(f)){if(h){var p=new Error("ignored identical item");p.item=f,h(p)}}else try{this._addTracingInfo(f),f.level=f.level||m,this.telemeter&&this.telemeter._captureRollbarItem(f),f.telemetryEvents=this.telemeter&&this.telemeter.copyEvents()||[],this.notifier.log(f,h)}catch(v){h&&h(v),this.logger.error(v)}},l.prototype._defaultLogLevel=function(){return this.options.logLevel||"debug"},l.prototype._sameAsLastError=function(m){if(!m._isUncaught)return!1;var f=function(h){var p=h.message||"",v=(h.err||{}).stack||String(h.err);return p+"::"+v}(m);return this.lastErrorHash===f||(this.lastError=m.err,this.lastErrorHash=f,!1)},l.prototype._addTracingInfo=function(m){if(this.tracer){var f=this.tracer.scope().active();if(function(v){if(!v||!v.context||typeof v.context!="function")return!1;var b=v.context();return!(!b||!b.toSpanId||!b.toTraceId||typeof b.toSpanId!="function"||typeof b.toTraceId!="function")}(f)){f.setTag("rollbar.error_uuid",m.uuid),f.setTag("rollbar.has_error",!0),f.setTag("error",!0),f.setTag("rollbar.item_url","https://rollbar.com/item/uuid/?uuid="+m.uuid),f.setTag("rollbar.occurrence_url","https://rollbar.com/occurrence/uuid/?uuid="+m.uuid);var h=f.context().toSpanId(),p=f.context().toTraceId();m.custom?(m.custom.opentracing_span_id=h,m.custom.opentracing_trace_id=p):m.custom={opentracing_span_id:h,opentracing_trace_id:p}}}},t.exports=l},function(t,s,o){var i=o(0);function r(l){this.startTime=i.now(),this.counter=0,this.perMinCounter=0,this.platform=null,this.platformOptions={},this.configureGlobal(l)}function n(l,d,u){return!l.ignoreRateLimit&&d>=1&&u>d}function a(l,d,u,m,f,h,p){var v=null;return u&&(u=new Error(u)),u||m||(v=function(b,g,T,y,E){var S,R=g.environment||g.payload&&g.payload.environment;S=E?"item per minute limit reached, ignoring errors until timeout":"maxItems has been hit, ignoring errors until reset.";var O={body:{message:{body:S,extra:{maxItems:T,itemsPerMinute:y}}},language:"javascript",environment:R,notifier:{version:g.notifier&&g.notifier.version||g.version}};return b==="browser"?(O.platform="browser",O.framework="browser-js",O.notifier.name="rollbar-browser-js"):b==="server"?(O.framework=g.framework||"node-js",O.notifier.name=g.notifier.name):b==="react-native"&&(O.framework=g.framework||"react-native",O.notifier.name=g.notifier.name),O}(l,d,f,h,p)),{error:u,shouldSend:m,payload:v}}r.globalSettings={startTime:i.now(),maxItems:void 0,itemsPerMinute:void 0},r.prototype.configureGlobal=function(l){l.startTime!==void 0&&(r.globalSettings.startTime=l.startTime),l.maxItems!==void 0&&(r.globalSettings.maxItems=l.maxItems),l.itemsPerMinute!==void 0&&(r.globalSettings.itemsPerMinute=l.itemsPerMinute)},r.prototype.shouldSend=function(l,d){var u=(d=d||i.now())-this.startTime;(u<0||u>=6e4)&&(this.startTime=d,this.perMinCounter=0);var m=r.globalSettings.maxItems,f=r.globalSettings.itemsPerMinute;if(n(l,m,this.counter))return a(this.platform,this.platformOptions,m+" max items reached",!1);if(n(l,f,this.perMinCounter))return a(this.platform,this.platformOptions,f+" items per minute reached",!1);this.counter++,this.perMinCounter++;var h=!n(l,m,this.counter),p=h;return h=h&&!n(l,f,this.perMinCounter),a(this.platform,this.platformOptions,null,h,m,f,p)},r.prototype.setPlatformOptions=function(l,d){this.platform=l,this.platformOptions=d},t.exports=r},function(t,s,o){var i=Object.prototype.hasOwnProperty,r=Object.prototype.toString,n=function(a){if(!a||r.call(a)!=="[object Object]")return!1;var l,d=i.call(a,"constructor"),u=a.constructor&&a.constructor.prototype&&i.call(a.constructor.prototype,"isPrototypeOf");if(a.constructor&&!d&&!u)return!1;for(l in a);return l===void 0||i.call(a,l)};t.exports=function a(){var l,d,u,m,f,h={},p=null,v=arguments.length;for(l=0;l<v;l++)if((p=arguments[l])!=null)for(f in p)d=h[f],h!==(u=p[f])&&(u&&n(u)?(m=d&&n(d)?d:{},h[f]=a(m,u)):u!==void 0&&(h[f]=u));return h}},function(t,s,o){var i=o(0);function r(a,l,d,u){this.rateLimiter=a,this.api=l,this.logger=d,this.options=u,this.predicates=[],this.pendingItems=[],this.pendingRequests=[],this.retryQueue=[],this.retryHandle=null,this.waitCallback=null,this.waitIntervalID=null}r.prototype.configure=function(a){this.api&&this.api.configure(a);var l=this.options;return this.options=i.merge(l,a),this},r.prototype.addPredicate=function(a){return i.isFunction(a)&&this.predicates.push(a),this},r.prototype.addPendingItem=function(a){this.pendingItems.push(a)},r.prototype.removePendingItem=function(a){var l=this.pendingItems.indexOf(a);l!==-1&&this.pendingItems.splice(l,1)},r.prototype.addItem=function(a,l,d,u){l&&i.isFunction(l)||(l=function(){});var m=this._applyPredicates(a);if(m.stop)return this.removePendingItem(u),void l(m.err);if(this._maybeLog(a,d),this.removePendingItem(u),this.options.transmit){this.pendingRequests.push(a);try{this._makeApiRequest(a,function(f,h){this._dequeuePendingRequest(a),l(f,h)}.bind(this))}catch(f){this._dequeuePendingRequest(a),l(f)}}else l(new Error("Transmit disabled"))},r.prototype.wait=function(a){i.isFunction(a)&&(this.waitCallback=a,this._maybeCallWait()||(this.waitIntervalID&&(this.waitIntervalID=clearInterval(this.waitIntervalID)),this.waitIntervalID=setInterval(function(){this._maybeCallWait()}.bind(this),500)))},r.prototype._applyPredicates=function(a){for(var l=null,d=0,u=this.predicates.length;d<u;d++)if(!(l=this.predicates[d](a,this.options))||l.err!==void 0)return{stop:!0,err:l.err};return{stop:!1,err:null}},r.prototype._makeApiRequest=function(a,l){var d=this.rateLimiter.shouldSend(a);d.shouldSend?this.api.postItem(a,function(u,m){u?this._maybeRetry(u,a,l):l(u,m)}.bind(this)):d.error?l(d.error):this.api.postItem(d.payload,l)};var n=["ECONNRESET","ENOTFOUND","ESOCKETTIMEDOUT","ETIMEDOUT","ECONNREFUSED","EHOSTUNREACH","EPIPE","EAI_AGAIN"];r.prototype._maybeRetry=function(a,l,d){var u=!1;if(this.options.retryInterval){for(var m=0,f=n.length;m<f;m++)if(a.code===n[m]){u=!0;break}u&&i.isFiniteNumber(this.options.maxRetries)&&(l.retries=l.retries?l.retries+1:1,l.retries>this.options.maxRetries&&(u=!1))}u?this._retryApiRequest(l,d):d(a)},r.prototype._retryApiRequest=function(a,l){this.retryQueue.push({item:a,callback:l}),this.retryHandle||(this.retryHandle=setInterval(function(){for(;this.retryQueue.length;){var d=this.retryQueue.shift();this._makeApiRequest(d.item,d.callback)}}.bind(this),this.options.retryInterval))},r.prototype._dequeuePendingRequest=function(a){var l=this.pendingRequests.indexOf(a);l!==-1&&(this.pendingRequests.splice(l,1),this._maybeCallWait())},r.prototype._maybeLog=function(a,l){if(this.logger&&this.options.verbose){var d=l;if(d=(d=d||i.get(a,"body.trace.exception.message"))||i.get(a,"body.trace_chain.0.exception.message"))return void this.logger.error(d);(d=i.get(a,"body.message.body"))&&this.logger.log(d)}},r.prototype._maybeCallWait=function(){return!(!i.isFunction(this.waitCallback)||this.pendingItems.length!==0||this.pendingRequests.length!==0)&&(this.waitIntervalID&&(this.waitIntervalID=clearInterval(this.waitIntervalID)),this.waitCallback(),!0)},t.exports=r},function(t,s,o){var i=o(0);function r(n,a){this.queue=n,this.options=a,this.transforms=[],this.diagnostic={}}r.prototype.configure=function(n){this.queue&&this.queue.configure(n);var a=this.options;return this.options=i.merge(a,n),this},r.prototype.addTransform=function(n){return i.isFunction(n)&&this.transforms.push(n),this},r.prototype.log=function(n,a){if(a&&i.isFunction(a)||(a=function(){}),!this.options.enabled)return a(new Error("Rollbar is not enabled"));this.queue.addPendingItem(n);var l=n.err;this._applyTransforms(n,function(d,u){if(d)return this.queue.removePendingItem(n),a(d,null);this.queue.addItem(u,a,l,n)}.bind(this))},r.prototype._applyTransforms=function(n,a){var l=-1,d=this.transforms.length,u=this.transforms,m=this.options,f=function(h,p){h?a(h,null):++l!==d?u[l](p,m,f):a(null,p)};f(null,n)},t.exports=r},function(t,s,o){var i=o(0),r=o(16),n={hostname:"api.rollbar.com",path:"/api/1/item/",search:null,version:"1",protocol:"https:",port:443};function a(d,u,m,f,h){this.options=d,this.transport=u,this.url=m,this.truncation=f,this.jsonBackup=h,this.accessToken=d.accessToken,this.transportOptions=l(d,m)}function l(d,u){return r.getTransportFromOptions(d,n,u)}a.prototype.postItem=function(d,u){var m=r.transportOptions(this.transportOptions,"POST"),f=r.buildPayload(this.accessToken,d,this.jsonBackup),h=this;setTimeout(function(){h.transport.post(h.accessToken,m,f,u)},0)},a.prototype.buildJsonPayload=function(d,u){var m,f=r.buildPayload(this.accessToken,d,this.jsonBackup);return(m=this.truncation?this.truncation.truncate(f):i.stringify(f)).error?(u&&u(m.error),null):m.value},a.prototype.postJsonPayload=function(d,u){var m=r.transportOptions(this.transportOptions,"POST");this.transport.postJsonPayload(this.accessToken,m,d,u)},a.prototype.configure=function(d){var u=this.oldOptions;return this.options=i.merge(u,d),this.transportOptions=l(this.options,this.url),this.options.accessToken!==void 0&&(this.accessToken=this.options.accessToken),this},t.exports=a},function(t,s,o){var i=o(0);t.exports={buildPayload:function(r,n,a){if(!i.isType(n.context,"string")){var l=i.stringify(n.context,a);l.error?n.context="Error: could not serialize 'context'":n.context=l.value||"",n.context.length>255&&(n.context=n.context.substr(0,255))}return{access_token:r,data:n}},getTransportFromOptions:function(r,n,a){var l=n.hostname,d=n.protocol,u=n.port,m=n.path,f=n.search,h=r.timeout,p=function(g){var T=typeof window<"u"&&window||typeof self<"u"&&self,y=g.defaultTransport||"xhr";return T.fetch===void 0&&(y="xhr"),T.XMLHttpRequest===void 0&&(y="fetch"),y}(r),v=r.proxy;if(r.endpoint){var b=a.parse(r.endpoint);l=b.hostname,d=b.protocol,u=b.port,m=b.pathname,f=b.search}return{timeout:h,hostname:l,protocol:d,port:u,path:m,search:f,proxy:v,transport:p}},transportOptions:function(r,n){var a=r.protocol||"https:",l=r.port||(a==="http:"?80:a==="https:"?443:void 0),d=r.hostname,u=r.path,m=r.timeout,f=r.transport;return r.search&&(u+=r.search),r.proxy&&(u=a+"//"+d+u,d=r.proxy.host||r.proxy.hostname,l=r.proxy.port,a=r.proxy.protocol||a),{timeout:m,protocol:a,hostname:d,path:u,port:l,method:n,transport:f}},appendPathToPath:function(r,n){var a=/\/$/.test(r),l=/^\//.test(n);return a&&l?n=n.substring(1):a||l||(n="/"+n),r+n}}},function(t,s){(function(o){o.console||(o.console={});for(var i,r,n=o.console,a=function(){},l=["memory"],d="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");i=l.pop();)n[i]||(n[i]={});for(;r=d.pop();)n[r]||(n[r]=a)})(typeof window>"u"?this:window)},function(t,s,o){var i={ieVersion:function(){if(typeof document<"u"){for(var r=3,n=document.createElement("div"),a=n.getElementsByTagName("i");n.innerHTML="<!--[if gt IE "+ ++r+"]><i></i><![endif]-->",a[0];);return r>4?r:void 0}}};t.exports=i},function(t,s,o){function i(r,n,a,l){r._rollbarWrappedError&&(l[4]||(l[4]=r._rollbarWrappedError),l[5]||(l[5]=r._rollbarWrappedError._rollbarContext),r._rollbarWrappedError=null);var d=n.handleUncaughtException.apply(n,l);a&&a.apply(r,l),d==="anonymous"&&(n.anonymousErrorsPending+=1)}t.exports={captureUncaughtExceptions:function(r,n,a){if(r){var l;if(typeof n._rollbarOldOnError=="function")l=n._rollbarOldOnError;else if(r.onerror){for(l=r.onerror;l._rollbarOldOnError;)l=l._rollbarOldOnError;n._rollbarOldOnError=l}n.handleAnonymousErrors();var d=function(){var u=Array.prototype.slice.call(arguments,0);i(r,n,l,u)};a&&(d._rollbarOldOnError=l),r.onerror=d}},captureUnhandledRejections:function(r,n,a){if(r){typeof r._rollbarURH=="function"&&r._rollbarURH.belongsToShim&&r.removeEventListener("unhandledrejection",r._rollbarURH);var l=function(d){var u,m,f;try{u=d.reason}catch{u=void 0}try{m=d.promise}catch{m="[unhandledrejection] error getting `promise` from event"}try{f=d.detail,!u&&f&&(u=f.reason,m=f.promise)}catch{}u||(u="[unhandledrejection] error getting `reason` from event"),n&&n.handleUnhandledRejection&&n.handleUnhandledRejection(u,m)};l.belongsToShim=a,r._rollbarURH=l,r.addEventListener("unhandledrejection",l)}}}},function(t,s,o){var i=o(0),r=o(21),n=o(22);function a(l){this.truncation=l}a.prototype.get=function(l,d,u,m,f){m&&i.isFunction(m)||(m=function(){}),i.addParamsAndAccessTokenToPath(l,d,u);var h=i.formatUrl(d);this._makeZoneRequest(l,h,"GET",null,m,f,d.timeout,d.transport)},a.prototype.post=function(l,d,u,m,f){if(m&&i.isFunction(m)||(m=function(){}),!u)return m(new Error("Cannot send empty request"));var h;if((h=this.truncation?this.truncation.truncate(u):i.stringify(u)).error)return m(h.error);var p=h.value,v=i.formatUrl(d);this._makeZoneRequest(l,v,"POST",p,m,f,d.timeout,d.transport)},a.prototype.postJsonPayload=function(l,d,u,m,f){m&&i.isFunction(m)||(m=function(){});var h=i.formatUrl(d);this._makeZoneRequest(l,h,"POST",u,m,f,d.timeout,d.transport)},a.prototype._makeZoneRequest=function(){var l=typeof window<"u"&&window||f!==void 0&&f,d=l&&l.Zone&&l.Zone.current,u=Array.prototype.slice.call(arguments);if(d&&d._name==="angular"){var m=d._parent,f=this;m.run(function(){f._makeRequest.apply(void 0,u)})}else this._makeRequest.apply(void 0,u)},a.prototype._makeRequest=function(l,d,u,m,f,h,p,v){if(typeof RollbarProxy<"u")return function(b,g){new RollbarProxy().sendJsonPayload(b,function(T){},function(T){g(new Error(T))})}(m,f);v==="fetch"?r(l,d,u,m,f,p):n(l,d,u,m,f,h,p)},t.exports=a},function(t,s,o){var i=o(1),r=o(0);t.exports=function(n,a,l,d,u,m){var f,h;r.isFiniteNumber(m)&&(f=new AbortController,h=setTimeout(function(){f.abort()},m)),fetch(a,{method:l,headers:{"Content-Type":"application/json","X-Rollbar-Access-Token":n,signal:f&&f.signal},body:d}).then(function(p){return h&&clearTimeout(h),p.json()}).then(function(p){u(null,p)}).catch(function(p){i.error(p.message),u(p)})}},function(t,s,o){var i=o(0),r=o(1);function n(a,l){var d=new Error(a);return d.code=l||"ENOTFOUND",d}t.exports=function(a,l,d,u,m,f,h){var p;if(!(p=f?f():function(){var g,T,y=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],E=y.length;for(T=0;T<E;T++)try{g=y[T]();break}catch{}return g}()))return m(new Error("No way to send a request"));try{try{var v=function(){try{if(v&&p.readyState===4){v=void 0;var g=i.jsonParse(p.responseText);if((E=p)&&E.status&&E.status===200)return void m(g.error,g.value);if(function(S){return S&&i.isType(S.status,"number")&&S.status>=400&&S.status<600}(p)){if(p.status===403){var T=g.value&&g.value.message;r.error(T)}m(new Error(String(p.status)))}else m(n("XHR response had no status code (likely connection failure)"))}}catch(S){var y;y=S&&S.stack?S:new Error(S),m(y)}var E};p.open(d,l,!0),p.setRequestHeader&&(p.setRequestHeader("Content-Type","application/json"),p.setRequestHeader("X-Rollbar-Access-Token",a)),i.isFiniteNumber(h)&&(p.timeout=h),p.onreadystatechange=v,p.send(u)}catch{if(typeof XDomainRequest<"u"){if(!window||!window.location)return m(new Error("No window available during request, unknown environment"));window.location.href.substring(0,5)==="http:"&&l.substring(0,5)==="https"&&(l="http"+l.substring(5));var b=new XDomainRequest;b.onprogress=function(){},b.ontimeout=function(){m(n("Request timed out","ETIMEDOUT"))},b.onerror=function(){m(new Error("Error during request"))},b.onload=function(){var T=i.jsonParse(b.responseText);m(T.error,T.value)},b.open(d,l,!0),b.send(u)}else m(new Error("Cannot find a method to transport a request"))}}catch(g){m(g)}}},function(t,s,o){var i=o(0),r=o(3),n=o(1);function a(m,f,h){var p=m.message,v=m.custom;p||(p="Item sent with null or missing arguments.");var b={body:p};v&&(b.extra=i.merge(v)),i.set(m,"data.body",{message:b}),h(null,m)}function l(m){var f=m.stackInfo.stack;return f&&f.length===0&&m._unhandledStackInfo&&m._unhandledStackInfo.stack&&(f=m._unhandledStackInfo.stack),f}function d(m,f,h){var p=m&&m.data.description,v=m&&m.custom,b=l(m),g=r.guessErrorClass(f.message),T={exception:{class:u(f,g[0],h),message:g[1]}};if(p&&(T.exception.description=p),b){var y,E,S,R,O,P,x,M;for(b.length===0&&(T.exception.stack=f.rawStack,T.exception.raw=String(f.rawException)),T.frames=[],x=0;x<b.length;++x)E={filename:(y=b[x]).url?i.sanitizeUrl(y.url):"(unknown)",lineno:y.line||null,method:y.func&&y.func!=="?"?y.func:"[anonymous]",colno:y.column},h.sendFrameUrl&&(E.url=y.url),E.method&&E.method.endsWith&&E.method.endsWith("_rollbar_wrapped")||(S=R=O=null,(P=y.context?y.context.length:0)&&(M=Math.floor(P/2),R=y.context.slice(0,M),S=y.context[M],O=y.context.slice(M)),S&&(E.code=S),(R||O)&&(E.context={},R&&R.length&&(E.context.pre=R),O&&O.length&&(E.context.post=O)),y.args&&(E.args=y.args),T.frames.push(E));T.frames.reverse(),v&&(T.extra=i.merge(v))}return T}function u(m,f,h){return m.name?m.name:h.guessErrorClass?f:"(unknown)"}t.exports={handleDomException:function(m,f,h){if(m.err&&r.Stack(m.err).name==="DOMException"){var p=new Error;p.name=m.err.name,p.message=m.err.message,p.stack=m.err.stack,p.nested=m.err,m.err=p}h(null,m)},handleItemWithError:function(m,f,h){if(m.data=m.data||{},m.err)try{m.stackInfo=m.err._savedStackTrace||r.parse(m.err,m.skipFrames),f.addErrorContext&&function(p){var v=[],b=p.err;for(v.push(b);b.nested||b.cause;)b=b.nested||b.cause,v.push(b);i.addErrorContext(p,v)}(m)}catch(p){n.error("Error while parsing the error object.",p);try{m.message=m.err.message||m.err.description||m.message||String(m.err)}catch(v){m.message=String(m.err)||String(v)}delete m.err}h(null,m)},ensureItemHasSomethingToSay:function(m,f,h){m.message||m.stackInfo||m.custom||h(new Error("No message, stack info, or custom data"),null),h(null,m)},addBaseInfo:function(m,f,h){var p=f.payload&&f.payload.environment||f.environment;m.data=i.merge(m.data,{environment:p,level:m.level,endpoint:f.endpoint,platform:"browser",framework:"browser-js",language:"javascript",server:{},uuid:m.uuid,notifier:{name:"rollbar-browser-js",version:f.version},custom:m.custom}),h(null,m)},addRequestInfo:function(m){return function(f,h,p){var v={};m&&m.location&&(v.url=m.location.href,v.query_string=m.location.search);var b="$remote_ip";h.captureIp?h.captureIp!==!0&&(b+="_anonymize"):b=null,b&&(v.user_ip=b),Object.keys(v).length>0&&i.set(f,"data.request",v),p(null,f)}},addClientInfo:function(m){return function(f,h,p){if(!m)return p(null,f);var v=m.navigator||{},b=m.screen||{};i.set(f,"data.client",{runtime_ms:f.timestamp-m._rollbarStartTime,timestamp:Math.round(f.timestamp/1e3),javascript:{browser:v.userAgent,language:v.language,cookie_enabled:v.cookieEnabled,screen:{width:b.width,height:b.height}}}),p(null,f)}},addPluginInfo:function(m){return function(f,h,p){if(!m||!m.navigator)return p(null,f);for(var v,b=[],g=m.navigator.plugins||[],T=0,y=g.length;T<y;++T)v=g[T],b.push({name:v.name,description:v.description});i.set(f,"data.client.javascript.plugins",b),p(null,f)}},addBody:function(m,f,h){m.stackInfo?m.stackInfo.traceChain?function(p,v,b){for(var g=p.stackInfo.traceChain,T=[],y=g.length,E=0;E<y;E++){var S=d(p,g[E],v);T.push(S)}i.set(p,"data.body",{trace_chain:T}),b(null,p)}(m,f,h):function(p,v,b){if(l(p)){var g=d(p,p.stackInfo,v);i.set(p,"data.body",{trace:g}),b(null,p)}else{var T=p.stackInfo,y=r.guessErrorClass(T.message),E=u(T,y[0],v),S=y[1];p.message=E+": "+S,a(p,v,b)}}(m,f,h):a(m,f,h)},addScrubber:function(m){return function(f,h,p){if(m){var v=h.scrubFields||[],b=h.scrubPaths||[];f.data=m(f.data,v,b)}p(null,f)}}}},function(t,s,o){var i,r,n;(function(a,l){r=[o(25)],(n=typeof(i=function(d){var u=/(^|@)\S+:\d+/,m=/^\s*at .*(\S+:\d+|\(native\))/m,f=/^(eval@)?(\[native code])?$/;return{parse:function(h){if(h.stacktrace!==void 0||h["opera#sourceloc"]!==void 0)return this.parseOpera(h);if(h.stack&&h.stack.match(m))return this.parseV8OrIE(h);if(h.stack)return this.parseFFOrSafari(h);throw new Error("Cannot parse given Error object")},extractLocation:function(h){if(h.indexOf(":")===-1)return[h];var p=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(h.replace(/[()]/g,""));return[p[1],p[2]||void 0,p[3]||void 0]},parseV8OrIE:function(h){return h.stack.split(`
`).filter(function(p){return!!p.match(m)},this).map(function(p){p.indexOf("(eval ")>-1&&(p=p.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(,.*$)/g,""));var v=p.replace(/^\s+/,"").replace(/\(eval code/g,"(").replace(/^.*?\s+/,""),b=v.match(/ (\(.+\)$)/);v=b?v.replace(b[0],""):v;var g=this.extractLocation(b?b[1]:v),T=b&&v||void 0,y=["eval","<anonymous>"].indexOf(g[0])>-1?void 0:g[0];return new d({functionName:T,fileName:y,lineNumber:g[1],columnNumber:g[2],source:p})},this)},parseFFOrSafari:function(h){return h.stack.split(`
`).filter(function(p){return!p.match(f)},this).map(function(p){if(p.indexOf(" > eval")>-1&&(p=p.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),p.indexOf("@")===-1&&p.indexOf(":")===-1)return new d({functionName:p});var v=/((.*".+"[^@]*)?[^@]*)(?:@)/,b=p.match(v),g=b&&b[1]?b[1]:void 0,T=this.extractLocation(p.replace(v,""));return new d({functionName:g,fileName:T[0],lineNumber:T[1],columnNumber:T[2],source:p})},this)},parseOpera:function(h){return!h.stacktrace||h.message.indexOf(`
`)>-1&&h.message.split(`
`).length>h.stacktrace.split(`
`).length?this.parseOpera9(h):h.stack?this.parseOpera11(h):this.parseOpera10(h)},parseOpera9:function(h){for(var p=/Line (\d+).*script (?:in )?(\S+)/i,v=h.message.split(`
`),b=[],g=2,T=v.length;g<T;g+=2){var y=p.exec(v[g]);y&&b.push(new d({fileName:y[2],lineNumber:y[1],source:v[g]}))}return b},parseOpera10:function(h){for(var p=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,v=h.stacktrace.split(`
`),b=[],g=0,T=v.length;g<T;g+=2){var y=p.exec(v[g]);y&&b.push(new d({functionName:y[3]||void 0,fileName:y[2],lineNumber:y[1],source:v[g]}))}return b},parseOpera11:function(h){return h.stack.split(`
`).filter(function(p){return!!p.match(u)&&!p.match(/^Error created at/)},this).map(function(p){var v,b=p.split("@"),g=this.extractLocation(b.pop()),T=b.shift()||"",y=T.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;T.match(/\(([^)]*)\)/)&&(v=T.replace(/^[^(]+\(([^)]*)\)$/,"$1"));var E=v===void 0||v==="[arguments not available]"?void 0:v.split(",");return new d({functionName:y,args:E,fileName:g[0],lineNumber:g[1],columnNumber:g[2],source:p})},this)}}})=="function"?i.apply(s,r):i)===void 0||(t.exports=n)})()},function(t,s,o){var i,r,n;(function(a,l){r=[],(n=typeof(i=function(){function d(y){return y.charAt(0).toUpperCase()+y.substring(1)}function u(y){return function(){return this[y]}}var m=["isConstructor","isEval","isNative","isToplevel"],f=["columnNumber","lineNumber"],h=["fileName","functionName","source"],p=m.concat(f,h,["args"],["evalOrigin"]);function v(y){if(y)for(var E=0;E<p.length;E++)y[p[E]]!==void 0&&this["set"+d(p[E])](y[p[E]])}v.prototype={getArgs:function(){return this.args},setArgs:function(y){if(Object.prototype.toString.call(y)!=="[object Array]")throw new TypeError("Args must be an Array");this.args=y},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(y){if(y instanceof v)this.evalOrigin=y;else{if(!(y instanceof Object))throw new TypeError("Eval Origin must be an Object or StackFrame");this.evalOrigin=new v(y)}},toString:function(){var y=this.getFileName()||"",E=this.getLineNumber()||"",S=this.getColumnNumber()||"",R=this.getFunctionName()||"";return this.getIsEval()?y?"[eval] ("+y+":"+E+":"+S+")":"[eval]:"+E+":"+S:R?R+" ("+y+":"+E+":"+S+")":y+":"+E+":"+S}},v.fromString=function(y){var E=y.indexOf("("),S=y.lastIndexOf(")"),R=y.substring(0,E),O=y.substring(E+1,S).split(","),P=y.substring(S+1);if(P.indexOf("@")===0)var x=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(P,""),M=x[1],L=x[2],N=x[3];return new v({functionName:R,args:O||void 0,fileName:M,lineNumber:L||void 0,columnNumber:N||void 0})};for(var b=0;b<m.length;b++)v.prototype["get"+d(m[b])]=u(m[b]),v.prototype["set"+d(m[b])]=function(y){return function(E){this[y]=!!E}}(m[b]);for(var g=0;g<f.length;g++)v.prototype["get"+d(f[g])]=u(f[g]),v.prototype["set"+d(f[g])]=function(y){return function(E){if(S=E,isNaN(parseFloat(S))||!isFinite(S))throw new TypeError(y+" must be a Number");var S;this[y]=Number(E)}}(f[g]);for(var T=0;T<h.length;T++)v.prototype["get"+d(h[T])]=u(h[T]),v.prototype["set"+d(h[T])]=function(y){return function(E){this[y]=String(E)}}(h[T]);return v})=="function"?i.apply(s,r):i)===void 0||(t.exports=n)})()},function(t,s,o){var i=o(0);function r(n,a){i.isFunction(n[a])&&(n[a]=n[a].toString())}t.exports={itemToPayload:function(n,a,l){var d=n.data;n._isUncaught&&(d._isUncaught=!0),n._originalArgs&&(d._originalArgs=n._originalArgs),l(null,d)},addPayloadOptions:function(n,a,l){var d=a.payload||{};d.body&&delete d.body,n.data=i.merge(n.data,d),l(null,n)},addTelemetryData:function(n,a,l){n.telemetryEvents&&i.set(n,"data.body.telemetry",n.telemetryEvents),l(null,n)},addMessageWithError:function(n,a,l){if(n.message){var d="data.body.trace_chain.0",u=i.get(n,d);if(u||(d="data.body.trace",u=i.get(n,d)),u){if(!u.exception||!u.exception.description)return i.set(n,d+".exception.description",n.message),void l(null,n);var m=i.get(n,d+".extra")||{},f=i.merge(m,{message:n.message});i.set(n,d+".extra",f)}l(null,n)}else l(null,n)},userTransform:function(n){return function(a,l,d){var u=i.merge(a),m=null;try{i.isFunction(l.transform)&&(m=l.transform(u.data,a))}catch(f){return l.transform=null,n.error("Error while calling custom transform() function. Removing custom transform().",f),void d(null,a)}i.isPromise(m)?m.then(function(f){f&&(u.data=f),d(null,u)},function(f){d(f,a)}):d(null,u)}},addConfigToPayload:function(n,a,l){if(!a.sendConfig)return l(null,n);var d=i.get(n,"data.custom")||{};d._rollbarConfig=a,n.data.custom=d,l(null,n)},addConfiguredOptions:function(n,a,l){var d=a._configuredOptions;r(d,"transform"),r(d,"checkIgnore"),r(d,"onSendCallback"),delete d.accessToken,n.data.notifier.configured_options=d,l(null,n)},addDiagnosticKeys:function(n,a,l){var d=i.merge(n.notifier.client.notifier.diagnostic,n.diagnostic);if(i.get(n,"err._isAnonymous")&&(d.is_anonymous=!0),n._isUncaught&&(d.is_uncaught=n._isUncaught),n.err)try{d.raw_error={message:n.err.message,name:n.err.name,constructor_name:n.err.constructor&&n.err.constructor.name,filename:n.err.fileName,line:n.err.lineNumber,column:n.err.columnNumber,stack:n.err.stack}}catch(u){d.raw_error={failed:String(u)}}n.data.notifier.diagnostic=i.merge(n.data.notifier.diagnostic,d),l(null,n)}}},function(t,s,o){var i=o(0);t.exports={checkIgnore:function(r,n){return!i.get(n,"plugins.jquery.ignoreAjaxErrors")||!i.get(r,"body.message.extra.isAjax")}}},function(t,s,o){var i=o(0);function r(a,l,d){if(!a)return!d;var u,m,f=a.frames;if(!f||f.length===0)return!d;for(var h=l.length,p=f.length,v=0;v<p;v++){if(u=f[v].filename,!i.isType(u,"string"))return!d;for(var b=0;b<h;b++)if(m=l[b],new RegExp(m).test(u))return!0}return!1}function n(a,l,d,u){var m,f,h=!1;d==="blocklist"&&(h=!0);try{if(m=h?l.hostBlockList:l.hostSafeList,f=i.get(a,"body.trace_chain")||[i.get(a,"body.trace")],!m||m.length===0||f.length===0||!f[0])return!h;for(var p=f.length,v=0;v<p;v++)if(r(f[v],m,h))return!0}catch(g){h?l.hostBlockList=null:l.hostSafeList=null;var b=h?"hostBlockList":"hostSafeList";return u.error("Error while reading your configuration's "+b+" option. Removing custom "+b+".",g),!h}return!1}t.exports={checkLevel:function(a,l){var d=a.level,u=i.LEVELS[d]||0,m=l.reportLevel;return!(u<(i.LEVELS[m]||0))},userCheckIgnore:function(a){return function(l,d){var u=!!l._isUncaught;delete l._isUncaught;var m=l._originalArgs;delete l._originalArgs;try{i.isFunction(d.onSendCallback)&&d.onSendCallback(u,m,l)}catch(f){d.onSendCallback=null,a.error("Error while calling onSendCallback, removing",f)}try{if(i.isFunction(d.checkIgnore)&&d.checkIgnore(u,m,l))return!1}catch(f){d.checkIgnore=null,a.error("Error while calling custom checkIgnore(), removing",f)}return!0}},urlIsNotBlockListed:function(a){return function(l,d){return!n(l,d,"blocklist",a)}},urlIsSafeListed:function(a){return function(l,d){return n(l,d,"safelist",a)}},messageIsIgnored:function(a){return function(l,d){var u,m,f,h,p,v;try{if(!(f=d.ignoredMessages)||f.length===0||(v=function(b){var g=b.body,T=[];if(g.trace_chain)for(var y=g.trace_chain,E=0;E<y.length;E++){var S=y[E];T.push(i.get(S,"exception.message"))}return g.trace&&T.push(i.get(g,"trace.exception.message")),g.message&&T.push(i.get(g,"message.body")),T}(l)).length===0)return!0;for(h=f.length,u=0;u<h;u++)for(p=new RegExp(f[u],"gi"),m=0;m<v.length;m++)if(p.test(v[m]))return!1}catch{d.ignoredMessages=null,a.error("Error while reading your configuration's ignoredMessages option. Removing custom ignoredMessages.")}return!0}}}},function(t,s,o){t.exports={version:"2.26.1",endpoint:"api.rollbar.com/api/1/item/",logLevel:"debug",reportLevel:"debug",uncaughtErrorLevel:"error",maxItems:0,itemsPerMin:60}},function(t,s,o){t.exports={scrubFields:["pw","pass","passwd","password","secret","confirm_password","confirmPassword","password_confirmation","passwordConfirmation","access_token","accessToken","X-Rollbar-Access-Token","secret_key","secretKey","secretToken","cc-number","card number","cardnumber","cardnum","ccnum","ccnumber","cc num","creditcardnumber","credit card number","newcreditcardnumber","new credit card","creditcardno","credit card no","card#","card #","cc-csc","cvc","cvc2","cvv2","ccv2","security code","card verification","name on credit card","name on card","nameoncard","cardholder","card holder","name des karteninhabers","ccname","card type","cardtype","cc type","cctype","payment type","expiration date","expirationdate","expdate","cc-exp","ccmonth","ccyear"]}},function(t,s,o){var i=o(0);function r(a){this.queue=[],this.options=i.merge(a);var l=this.options.maxTelemetryEvents||100;this.maxQueueSize=Math.max(0,Math.min(l,100))}function n(a,l){return l||{error:"error",manual:"info"}[a]||"info"}r.prototype.configure=function(a){var l=this.options;this.options=i.merge(l,a);var d=this.options.maxTelemetryEvents||100,u=Math.max(0,Math.min(d,100)),m=0;this.maxQueueSize>u&&(m=this.maxQueueSize-u),this.maxQueueSize=u,this.queue.splice(0,m)},r.prototype.copyEvents=function(){var a=Array.prototype.slice.call(this.queue,0);if(i.isFunction(this.options.filterTelemetry))try{for(var l=a.length;l--;)this.options.filterTelemetry(a[l])&&a.splice(l,1)}catch{this.options.filterTelemetry=null}return a},r.prototype.capture=function(a,l,d,u,m){var f={level:n(a,d),type:a,timestamp_ms:m||i.now(),body:l,source:"client"};u&&(f.uuid=u);try{if(i.isFunction(this.options.filterTelemetry)&&this.options.filterTelemetry(f))return!1}catch{this.options.filterTelemetry=null}return this.push(f),f},r.prototype.captureEvent=function(a,l,d,u){return this.capture(a,l,d,u)},r.prototype.captureError=function(a,l,d,u){var m={message:a.message||String(a)};return a.stack&&(m.stack=a.stack),this.capture("error",m,l,d,u)},r.prototype.captureLog=function(a,l,d,u){return this.capture("log",{message:a},l,d,u)},r.prototype.captureNetwork=function(a,l,d,u){l=l||"xhr",a.subtype=a.subtype||l,u&&(a.request=u);var m=this.levelFromStatus(a.status_code);return this.capture("network",a,m,d)},r.prototype.levelFromStatus=function(a){return a>=200&&a<400?"info":a===0||a>=400?"error":"info"},r.prototype.captureDom=function(a,l,d,u,m){var f={subtype:a,element:l};return d!==void 0&&(f.value=d),u!==void 0&&(f.checked=u),this.capture("dom",f,"info",m)},r.prototype.captureNavigation=function(a,l,d){return this.capture("navigation",{from:a,to:l},"info",d)},r.prototype.captureDomContentLoaded=function(a){return this.capture("navigation",{subtype:"DOMContentLoaded"},"info",void 0,a&&a.getTime())},r.prototype.captureLoad=function(a){return this.capture("navigation",{subtype:"load"},"info",void 0,a&&a.getTime())},r.prototype.captureConnectivityChange=function(a,l){return this.captureNetwork({change:a},"connectivity",l)},r.prototype._captureRollbarItem=function(a){if(this.options.includeItemsInTelemetry)return a.err?this.captureError(a.err,a.level,a.uuid,a.timestamp):a.message?this.captureLog(a.message,a.level,a.uuid,a.timestamp):a.custom?this.capture("log",a.custom,a.level,a.uuid,a.timestamp):void 0},r.prototype.push=function(a){this.queue.push(a),this.queue.length>this.maxQueueSize&&this.queue.shift()},t.exports=r},function(t,s,o){var i=o(0),r=o(33),n=o(4),a=o(2),l=o(34),d={network:!0,networkResponseHeaders:!1,networkResponseBody:!1,networkRequestHeaders:!1,networkRequestBody:!1,networkErrorOnHttp5xx:!1,networkErrorOnHttp4xx:!1,networkErrorOnHttp0:!1,log:!0,dom:!0,navigation:!0,connectivity:!0,contentSecurityPolicy:!0,errorOnContentSecurityPolicy:!1};function u(h,p,v,b,g){var T=h[p];h[p]=v(T),b&&b[g].push([h,p,T])}function m(h,p){for(var v;h[p].length;)(v=h[p].shift())[0][v[1]]=v[2]}function f(h,p,v,b,g){this.options=h;var T=h.autoInstrument;h.enabled===!1||T===!1?this.autoInstrument={}:(i.isType(T,"object")||(T=d),this.autoInstrument=i.merge(d,T)),this.scrubTelemetryInputs=!!h.scrubTelemetryInputs,this.telemetryScrubber=h.telemetryScrubber,this.defaultValueScrubber=function(y){for(var E=[],S=0;S<y.length;++S)E.push(new RegExp(y[S],"i"));return function(R){var O=function(x){if(!x||!x.attributes)return null;for(var M=x.attributes,L=0;L<M.length;++L)if(M[L].key==="name")return M[L].value;return null}(R);if(!O)return!1;for(var P=0;P<E.length;++P)if(E[P].test(O))return!0;return!1}}(h.scrubFields),this.telemeter=p,this.rollbar=v,this.diagnostic=v.client.notifier.diagnostic,this._window=b||{},this._document=g||{},this.replacements={network:[],log:[],navigation:[],connectivity:[]},this.eventRemovers={dom:[],connectivity:[],contentsecuritypolicy:[]},this._location=this._window.location,this._lastHref=this._location&&this._location.href}f.prototype.configure=function(h){this.options=i.merge(this.options,h);var p=h.autoInstrument,v=i.merge(this.autoInstrument);h.enabled===!1||p===!1?this.autoInstrument={}:(i.isType(p,"object")||(p=d),this.autoInstrument=i.merge(d,p)),this.instrument(v),h.scrubTelemetryInputs!==void 0&&(this.scrubTelemetryInputs=!!h.scrubTelemetryInputs),h.telemetryScrubber!==void 0&&(this.telemetryScrubber=h.telemetryScrubber)},f.prototype.instrument=function(h){!this.autoInstrument.network||h&&h.network?!this.autoInstrument.network&&h&&h.network&&this.deinstrumentNetwork():this.instrumentNetwork(),!this.autoInstrument.log||h&&h.log?!this.autoInstrument.log&&h&&h.log&&this.deinstrumentConsole():this.instrumentConsole(),!this.autoInstrument.dom||h&&h.dom?!this.autoInstrument.dom&&h&&h.dom&&this.deinstrumentDom():this.instrumentDom(),!this.autoInstrument.navigation||h&&h.navigation?!this.autoInstrument.navigation&&h&&h.navigation&&this.deinstrumentNavigation():this.instrumentNavigation(),!this.autoInstrument.connectivity||h&&h.connectivity?!this.autoInstrument.connectivity&&h&&h.connectivity&&this.deinstrumentConnectivity():this.instrumentConnectivity(),!this.autoInstrument.contentSecurityPolicy||h&&h.contentSecurityPolicy?!this.autoInstrument.contentSecurityPolicy&&h&&h.contentSecurityPolicy&&this.deinstrumentContentSecurityPolicy():this.instrumentContentSecurityPolicy()},f.prototype.deinstrumentNetwork=function(){m(this.replacements,"network")},f.prototype.instrumentNetwork=function(){var h=this;function p(b,g){b in g&&i.isFunction(g[b])&&u(g,b,function(T){return h.rollbar.wrap(T)})}if("XMLHttpRequest"in this._window){var v=this._window.XMLHttpRequest.prototype;u(v,"open",function(b){return function(g,T){return i.isType(T,"string")&&(this.__rollbar_xhr?(this.__rollbar_xhr.method=g,this.__rollbar_xhr.url=T,this.__rollbar_xhr.status_code=null,this.__rollbar_xhr.start_time_ms=i.now(),this.__rollbar_xhr.end_time_ms=null):this.__rollbar_xhr={method:g,url:T,status_code:null,start_time_ms:i.now(),end_time_ms:null}),b.apply(this,arguments)}},this.replacements,"network"),u(v,"setRequestHeader",function(b){return function(g,T){return this.__rollbar_xhr||(this.__rollbar_xhr={}),i.isType(g,"string")&&i.isType(T,"string")&&(h.autoInstrument.networkRequestHeaders&&(this.__rollbar_xhr.request_headers||(this.__rollbar_xhr.request_headers={}),this.__rollbar_xhr.request_headers[g]=T),g.toLowerCase()==="content-type"&&(this.__rollbar_xhr.request_content_type=T)),b.apply(this,arguments)}},this.replacements,"network"),u(v,"send",function(b){return function(g){var T=this;function y(){if(T.__rollbar_xhr&&(T.__rollbar_xhr.status_code===null&&(T.__rollbar_xhr.status_code=0,h.autoInstrument.networkRequestBody&&(T.__rollbar_xhr.request=g),T.__rollbar_event=h.captureNetwork(T.__rollbar_xhr,"xhr",void 0)),T.readyState<2&&(T.__rollbar_xhr.start_time_ms=i.now()),T.readyState>3)){T.__rollbar_xhr.end_time_ms=i.now();var E=null;if(T.__rollbar_xhr.response_content_type=T.getResponseHeader("Content-Type"),h.autoInstrument.networkResponseHeaders){var S=h.autoInstrument.networkResponseHeaders;E={};try{var R,O;if(S===!0){var P=T.getAllResponseHeaders();if(P){var x,M,L=P.trim().split(/[\r\n]+/);for(O=0;O<L.length;O++)R=(x=L[O].split(": ")).shift(),M=x.join(": "),E[R]=M}}else for(O=0;O<S.length;O++)E[R=S[O]]=T.getResponseHeader(R)}catch{}}var N=null;if(h.autoInstrument.networkResponseBody)try{N=T.responseText}catch{}var H=null;(N||E)&&(H={},N&&(h.isJsonContentType(T.__rollbar_xhr.response_content_type)?H.body=h.scrubJson(N):H.body=N),E&&(H.headers=E)),H&&(T.__rollbar_xhr.response=H);try{var Y=T.status;Y=Y===1223?204:Y,T.__rollbar_xhr.status_code=Y,T.__rollbar_event.level=h.telemeter.levelFromStatus(Y),h.errorOnHttpStatus(T.__rollbar_xhr)}catch{}}}return p("onload",T),p("onerror",T),p("onprogress",T),"onreadystatechange"in T&&i.isFunction(T.onreadystatechange)?u(T,"onreadystatechange",function(E){return h.rollbar.wrap(E,void 0,y)}):T.onreadystatechange=y,T.__rollbar_xhr&&h.trackHttpErrors()&&(T.__rollbar_xhr.stack=new Error().stack),b.apply(this,arguments)}},this.replacements,"network")}"fetch"in this._window&&u(this._window,"fetch",function(b){return function(g,T){for(var y=new Array(arguments.length),E=0,S=y.length;E<S;E++)y[E]=arguments[E];var R,O=y[0],P="GET";i.isType(O,"string")?R=O:O&&(R=O.url,O.method&&(P=O.method)),y[1]&&y[1].method&&(P=y[1].method);var x={method:P,url:R,status_code:null,start_time_ms:i.now(),end_time_ms:null};if(y[1]&&y[1].headers){var M=r(y[1].headers);x.request_content_type=M.get("Content-Type"),h.autoInstrument.networkRequestHeaders&&(x.request_headers=h.fetchHeaders(M,h.autoInstrument.networkRequestHeaders))}return h.autoInstrument.networkRequestBody&&(y[1]&&y[1].body?x.request=y[1].body:y[0]&&!i.isType(y[0],"string")&&y[0].body&&(x.request=y[0].body)),h.captureNetwork(x,"fetch",void 0),h.trackHttpErrors()&&(x.stack=new Error().stack),b.apply(this,y).then(function(L){x.end_time_ms=i.now(),x.status_code=L.status,x.response_content_type=L.headers.get("Content-Type");var N=null;h.autoInstrument.networkResponseHeaders&&(N=h.fetchHeaders(L.headers,h.autoInstrument.networkResponseHeaders));var H=null;return h.autoInstrument.networkResponseBody&&typeof L.text=="function"&&(H=L.clone().text()),(N||H)&&(x.response={},H&&(typeof H.then=="function"?H.then(function(Y){Y&&h.isJsonContentType(x.response_content_type)?x.response.body=h.scrubJson(Y):x.response.body=Y}):x.response.body=H),N&&(x.response.headers=N)),h.errorOnHttpStatus(x),L})}},this.replacements,"network")},f.prototype.captureNetwork=function(h,p,v){return h.request&&this.isJsonContentType(h.request_content_type)&&(h.request=this.scrubJson(h.request)),this.telemeter.captureNetwork(h,p,v)},f.prototype.isJsonContentType=function(h){return!!(h&&i.isType(h,"string")&&h.toLowerCase().includes("json"))},f.prototype.scrubJson=function(h){return JSON.stringify(n(JSON.parse(h),this.options.scrubFields))},f.prototype.fetchHeaders=function(h,p){var v={};try{var b;if(p===!0){if(typeof h.entries=="function")for(var g=h.entries(),T=g.next();!T.done;)v[T.value[0]]=T.value[1],T=g.next()}else for(b=0;b<p.length;b++){var y=p[b];v[y]=h.get(y)}}catch{}return v},f.prototype.trackHttpErrors=function(){return this.autoInstrument.networkErrorOnHttp5xx||this.autoInstrument.networkErrorOnHttp4xx||this.autoInstrument.networkErrorOnHttp0},f.prototype.errorOnHttpStatus=function(h){var p=h.status_code;if(p>=500&&this.autoInstrument.networkErrorOnHttp5xx||p>=400&&this.autoInstrument.networkErrorOnHttp4xx||p===0&&this.autoInstrument.networkErrorOnHttp0){var v=new Error("HTTP request failed with Status "+p);v.stack=h.stack,this.rollbar.error(v,{skipFrames:1})}},f.prototype.deinstrumentConsole=function(){if("console"in this._window&&this._window.console.log)for(var h;this.replacements.log.length;)h=this.replacements.log.shift(),this._window.console[h[0]]=h[1]},f.prototype.instrumentConsole=function(){if("console"in this._window&&this._window.console.log){var h=this,p=this._window.console,v=["debug","info","warn","error","log"];try{for(var b=0,g=v.length;b<g;b++)T(v[b])}catch(y){this.diagnostic.instrumentConsole={error:y.message}}}function T(y){var E=p[y],S=p,R=y==="warn"?"warning":y;p[y]=function(){var O=Array.prototype.slice.call(arguments),P=i.formatArgsAsString(O);h.telemeter.captureLog(P,R),E&&Function.prototype.apply.call(E,S,O)},h.replacements.log.push([y,E])}},f.prototype.deinstrumentDom=function(){("addEventListener"in this._window||"attachEvent"in this._window)&&this.removeListeners("dom")},f.prototype.instrumentDom=function(){if("addEventListener"in this._window||"attachEvent"in this._window){var h=this.handleClick.bind(this),p=this.handleBlur.bind(this);this.addListener("dom",this._window,"click","onclick",h,!0),this.addListener("dom",this._window,"blur","onfocusout",p,!0)}},f.prototype.handleClick=function(h){try{var p=l.getElementFromEvent(h,this._document),v=p&&p.tagName,b=l.isDescribedElement(p,"a")||l.isDescribedElement(p,"button");v&&(b||l.isDescribedElement(p,"input",["button","submit"]))?this.captureDomEvent("click",p):l.isDescribedElement(p,"input",["checkbox","radio"])&&this.captureDomEvent("input",p,p.value,p.checked)}catch{}},f.prototype.handleBlur=function(h){try{var p=l.getElementFromEvent(h,this._document);p&&p.tagName&&(l.isDescribedElement(p,"textarea")?this.captureDomEvent("input",p,p.value):l.isDescribedElement(p,"select")&&p.options&&p.options.length?this.handleSelectInputChanged(p):l.isDescribedElement(p,"input")&&!l.isDescribedElement(p,"input",["button","submit","hidden","checkbox","radio"])&&this.captureDomEvent("input",p,p.value))}catch{}},f.prototype.handleSelectInputChanged=function(h){if(h.multiple)for(var p=0;p<h.options.length;p++)h.options[p].selected&&this.captureDomEvent("input",h,h.options[p].value);else h.selectedIndex>=0&&h.options[h.selectedIndex]&&this.captureDomEvent("input",h,h.options[h.selectedIndex].value)},f.prototype.captureDomEvent=function(h,p,v,b){if(v!==void 0)if(this.scrubTelemetryInputs||l.getElementType(p)==="password")v="[scrubbed]";else{var g=l.describeElement(p);this.telemetryScrubber?this.telemetryScrubber(g)&&(v="[scrubbed]"):this.defaultValueScrubber(g)&&(v="[scrubbed]")}var T=l.elementArrayToString(l.treeToArray(p));this.telemeter.captureDom(h,T,v,b)},f.prototype.deinstrumentNavigation=function(){var h=this._window.chrome;!(h&&h.app&&h.app.runtime)&&this._window.history&&this._window.history.pushState&&m(this.replacements,"navigation")},f.prototype.instrumentNavigation=function(){var h=this._window.chrome;if(!(h&&h.app&&h.app.runtime)&&this._window.history&&this._window.history.pushState){var p=this;u(this._window,"onpopstate",function(v){return function(){var b=p._location.href;p.handleUrlChange(p._lastHref,b),v&&v.apply(this,arguments)}},this.replacements,"navigation"),u(this._window.history,"pushState",function(v){return function(){var b=arguments.length>2?arguments[2]:void 0;return b&&p.handleUrlChange(p._lastHref,b+""),v.apply(this,arguments)}},this.replacements,"navigation")}},f.prototype.handleUrlChange=function(h,p){var v=a.parse(this._location.href),b=a.parse(p),g=a.parse(h);this._lastHref=p,v.protocol===b.protocol&&v.host===b.host&&(p=b.path+(b.hash||"")),v.protocol===g.protocol&&v.host===g.host&&(h=g.path+(g.hash||"")),this.telemeter.captureNavigation(h,p)},f.prototype.deinstrumentConnectivity=function(){("addEventListener"in this._window||"body"in this._document)&&(this._window.addEventListener?this.removeListeners("connectivity"):m(this.replacements,"connectivity"))},f.prototype.instrumentConnectivity=function(){if("addEventListener"in this._window||"body"in this._document)if(this._window.addEventListener)this.addListener("connectivity",this._window,"online",void 0,function(){this.telemeter.captureConnectivityChange("online")}.bind(this),!0),this.addListener("connectivity",this._window,"offline",void 0,function(){this.telemeter.captureConnectivityChange("offline")}.bind(this),!0);else{var h=this;u(this._document.body,"ononline",function(p){return function(){h.telemeter.captureConnectivityChange("online"),p&&p.apply(this,arguments)}},this.replacements,"connectivity"),u(this._document.body,"onoffline",function(p){return function(){h.telemeter.captureConnectivityChange("offline"),p&&p.apply(this,arguments)}},this.replacements,"connectivity")}},f.prototype.handleCspEvent=function(h){var p="Security Policy Violation: blockedURI: "+h.blockedURI+", violatedDirective: "+h.violatedDirective+", effectiveDirective: "+h.effectiveDirective+", ";h.sourceFile&&(p+="location: "+h.sourceFile+", line: "+h.lineNumber+", col: "+h.columnNumber+", "),p+="originalPolicy: "+h.originalPolicy,this.telemeter.captureLog(p,"error"),this.handleCspError(p)},f.prototype.handleCspError=function(h){this.autoInstrument.errorOnContentSecurityPolicy&&this.rollbar.error(h)},f.prototype.deinstrumentContentSecurityPolicy=function(){"addEventListener"in this._document&&this.removeListeners("contentsecuritypolicy")},f.prototype.instrumentContentSecurityPolicy=function(){if("addEventListener"in this._document){var h=this.handleCspEvent.bind(this);this.addListener("contentsecuritypolicy",this._document,"securitypolicyviolation",null,h,!1)}},f.prototype.addListener=function(h,p,v,b,g,T){p.addEventListener?(p.addEventListener(v,g,T),this.eventRemovers[h].push(function(){p.removeEventListener(v,g,T)})):b&&(p.attachEvent(b,g),this.eventRemovers[h].push(function(){p.detachEvent(b,g)}))},f.prototype.removeListeners=function(h){for(;this.eventRemovers[h].length;)this.eventRemovers[h].shift()()},t.exports=f},function(t,s,o){function i(n){return typeof n!="string"&&(n=String(n)),n.toLowerCase()}function r(n){this.map={},n instanceof r?n.forEach(function(a,l){this.append(l,a)},this):Array.isArray(n)?n.forEach(function(a){this.append(a[0],a[1])},this):n&&Object.getOwnPropertyNames(n).forEach(function(a){this.append(a,n[a])},this)}r.prototype.append=function(n,a){n=i(n),a=function(d){return typeof d!="string"&&(d=String(d)),d}(a);var l=this.map[n];this.map[n]=l?l+", "+a:a},r.prototype.get=function(n){return n=i(n),this.has(n)?this.map[n]:null},r.prototype.has=function(n){return this.map.hasOwnProperty(i(n))},r.prototype.forEach=function(n,a){for(var l in this.map)this.map.hasOwnProperty(l)&&n.call(a,this.map[l],l,this)},r.prototype.entries=function(){var n=[];return this.forEach(function(a,l){n.push([l,a])}),function(a){return{next:function(){var l=a.shift();return{done:l===void 0,value:l}}}}(n)},t.exports=function(n){return typeof Headers>"u"?new r(n):new Headers(n)}},function(t,s,o){function i(a){return(a.getAttribute("type")||"").toLowerCase()}function r(a){if(!a||!a.tagName)return"";var l=[a.tagName];a.id&&l.push("#"+a.id),a.classes&&l.push("."+a.classes.join("."));for(var d=0;d<a.attributes.length;d++)l.push("["+a.attributes[d].key+'="'+a.attributes[d].value+'"]');return l.join("")}function n(a){if(!a||!a.tagName)return null;var l,d,u,m,f={};f.tagName=a.tagName.toLowerCase(),a.id&&(f.id=a.id),(l=a.className)&&typeof l=="string"&&(f.classes=l.split(/\s+/));var h=["type","name","title","alt"];for(f.attributes=[],m=0;m<h.length;m++)d=h[m],(u=a.getAttribute(d))&&f.attributes.push({key:d,value:u});return f}t.exports={describeElement:n,descriptionToString:r,elementArrayToString:function(a){for(var l,d,u=3,m=[],f=0,h=a.length-1;h>=0;h--){if(l=r(a[h]),d=f+m.length*u+l.length,h<a.length-1&&d>=83){m.unshift("...");break}m.unshift(l),f+=l.length}return m.join(" > ")},treeToArray:function(a){for(var l,d=[],u=0;a&&u<5&&(l=n(a)).tagName!=="html";u++)d.unshift(l),a=a.parentNode;return d},getElementFromEvent:function(a,l){return a.target?a.target:l&&l.elementFromPoint?l.elementFromPoint(a.clientX,a.clientY):void 0},isDescribedElement:function(a,l,d){if(a.tagName.toLowerCase()!==l.toLowerCase())return!1;if(!d)return!0;a=i(a);for(var u=0;u<d.length;u++)if(d[u]===a)return!0;return!1},getElementType:i}},function(t,s,o){var i=o(36);t.exports=i},function(t,s){t.exports=function(o){var i,r,n,a,l,d,u,m,f,h,p,v,b,g=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;function T(S){return S<10?"0"+S:S}function y(){return this.valueOf()}function E(S){return g.lastIndex=0,g.test(S)?'"'+S.replace(g,function(R){var O=n[R];return typeof O=="string"?O:"\\u"+("0000"+R.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+S+'"'}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+T(this.getUTCMonth()+1)+"-"+T(this.getUTCDate())+"T"+T(this.getUTCHours())+":"+T(this.getUTCMinutes())+":"+T(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=y,Number.prototype.toJSON=y,String.prototype.toJSON=y),typeof o.stringify!="function"&&(n={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},o.stringify=function(S,R,O){var P;if(i="",r="",typeof O=="number")for(P=0;P<O;P+=1)r+=" ";else typeof O=="string"&&(r=O);if(a=R,R&&typeof R!="function"&&(typeof R!="object"||typeof R.length!="number"))throw new Error("JSON.stringify");return function x(M,L){var N,H,Y,X,te,me=i,Q=L[M];switch(Q&&typeof Q=="object"&&typeof Q.toJSON=="function"&&(Q=Q.toJSON(M)),typeof a=="function"&&(Q=a.call(L,M,Q)),typeof Q){case"string":return E(Q);case"number":return isFinite(Q)?String(Q):"null";case"boolean":case"null":return String(Q);case"object":if(!Q)return"null";if(i+=r,te=[],Object.prototype.toString.apply(Q)==="[object Array]"){for(X=Q.length,N=0;N<X;N+=1)te[N]=x(N,Q)||"null";return Y=te.length===0?"[]":i?`[
`+i+te.join(`,
`+i)+`
`+me+"]":"["+te.join(",")+"]",i=me,Y}if(a&&typeof a=="object")for(X=a.length,N=0;N<X;N+=1)typeof a[N]=="string"&&(Y=x(H=a[N],Q))&&te.push(E(H)+(i?": ":":")+Y);else for(H in Q)Object.prototype.hasOwnProperty.call(Q,H)&&(Y=x(H,Q))&&te.push(E(H)+(i?": ":":")+Y);return Y=te.length===0?"{}":i?`{
`+i+te.join(`,
`+i)+`
`+me+"}":"{"+te.join(",")+"}",i=me,Y}}("",{"":S})}),typeof o.parse!="function"&&(o.parse=(h={"\\":"\\",'"':'"',"/":"/",t:"	",n:`
`,r:"\r",f:"\f",b:"\b"},p={go:function(){l="ok"},firstokey:function(){m=f,l="colon"},okey:function(){m=f,l="colon"},ovalue:function(){l="ocomma"},firstavalue:function(){l="acomma"},avalue:function(){l="acomma"}},v={go:function(){l="ok"},ovalue:function(){l="ocomma"},firstavalue:function(){l="acomma"},avalue:function(){l="acomma"}},b={"{":{go:function(){d.push({state:"ok"}),u={},l="firstokey"},ovalue:function(){d.push({container:u,state:"ocomma",key:m}),u={},l="firstokey"},firstavalue:function(){d.push({container:u,state:"acomma"}),u={},l="firstokey"},avalue:function(){d.push({container:u,state:"acomma"}),u={},l="firstokey"}},"}":{firstokey:function(){var S=d.pop();f=u,u=S.container,m=S.key,l=S.state},ocomma:function(){var S=d.pop();u[m]=f,f=u,u=S.container,m=S.key,l=S.state}},"[":{go:function(){d.push({state:"ok"}),u=[],l="firstavalue"},ovalue:function(){d.push({container:u,state:"ocomma",key:m}),u=[],l="firstavalue"},firstavalue:function(){d.push({container:u,state:"acomma"}),u=[],l="firstavalue"},avalue:function(){d.push({container:u,state:"acomma"}),u=[],l="firstavalue"}},"]":{firstavalue:function(){var S=d.pop();f=u,u=S.container,m=S.key,l=S.state},acomma:function(){var S=d.pop();u.push(f),f=u,u=S.container,m=S.key,l=S.state}},":":{colon:function(){if(Object.hasOwnProperty.call(u,m))throw new SyntaxError("Duplicate key '"+m+'"');l="ovalue"}},",":{ocomma:function(){u[m]=f,l="okey"},acomma:function(){u.push(f),l="avalue"}},true:{go:function(){f=!0,l="ok"},ovalue:function(){f=!0,l="ocomma"},firstavalue:function(){f=!0,l="acomma"},avalue:function(){f=!0,l="acomma"}},false:{go:function(){f=!1,l="ok"},ovalue:function(){f=!1,l="ocomma"},firstavalue:function(){f=!1,l="acomma"},avalue:function(){f=!1,l="acomma"}},null:{go:function(){f=null,l="ok"},ovalue:function(){f=null,l="ocomma"},firstavalue:function(){f=null,l="acomma"},avalue:function(){f=null,l="acomma"}}},function(S,R){var O,P,x=/^[\u0020\t\n\r]*(?:([,:\[\]{}]|true|false|null)|(-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)|"((?:[^\r\n\t\\\"]|\\(?:["\\\/trnfb]|u[0-9a-fA-F]{4}))*)")/;l="go",d=[];try{for(;O=x.exec(S);)O[1]?b[O[1]][l]():O[2]?(f=+O[2],v[l]()):(P=O[3],f=P.replace(/\\(?:u(.{4})|([^u]))/g,function(M,L,N){return L?String.fromCharCode(parseInt(L,16)):h[N]}),p[l]()),S=S.slice(O[0].length)}catch(M){l=M}if(l!=="ok"||/[^\u0020\t\n\r]/.test(S))throw l instanceof SyntaxError?l:new SyntaxError("JSON");return typeof R=="function"?function M(L,N){var H,Y,X=L[N];if(X&&typeof X=="object")for(H in f)Object.prototype.hasOwnProperty.call(X,H)&&((Y=M(X,H))!==void 0?X[H]=Y:delete X[H]);return R.call(L,N,X)}({"":f},""):f}))}},function(t,s,o){function i(r,n,a){if(n.hasOwnProperty&&n.hasOwnProperty("addEventListener")){for(var l=n.addEventListener;l._rollbarOldAdd&&l.belongsToShim;)l=l._rollbarOldAdd;var d=function(f,h,p){l.call(this,f,r.wrap(h),p)};d._rollbarOldAdd=l,d.belongsToShim=a,n.addEventListener=d;for(var u=n.removeEventListener;u._rollbarOldRemove&&u.belongsToShim;)u=u._rollbarOldRemove;var m=function(f,h,p){u.call(this,f,h&&h._rollbar_wrapped||h,p)};m._rollbarOldRemove=u,m.belongsToShim=a,n.removeEventListener=m}}t.exports=function(r,n,a){if(r){var l,d,u="EventTarget,Window,Node,ApplicationCache,AudioTrackList,ChannelMergerNode,CryptoOperation,EventSource,FileReader,HTMLUnknownElement,IDBDatabase,IDBRequest,IDBTransaction,KeyOperation,MediaController,MessagePort,ModalWindow,Notification,SVGElementInstance,Screen,TextTrack,TextTrackCue,TextTrackList,WebSocket,WebSocketWorker,Worker,XMLHttpRequest,XMLHttpRequestEventTarget,XMLHttpRequestUpload".split(",");for(l=0;l<u.length;++l)r[d=u[l]]&&r[d].prototype&&i(n,r[d].prototype,a)}}},function(t,s,o){var i=o(0),r=o(5);function n(p,v){return[p,i.stringify(p,v)]}function a(p,v){var b=p.length;return b>2*v?p.slice(0,v).concat(p.slice(b-v)):p}function l(p,v,b){b=b===void 0?30:b;var g,T=p.data.body;if(T.trace_chain)for(var y=T.trace_chain,E=0;E<y.length;E++)g=a(g=y[E].frames,b),y[E].frames=g;else T.trace&&(g=a(g=T.trace.frames,b),T.trace.frames=g);return[p,i.stringify(p,v)]}function d(p,v){return v&&v.length>p?v.slice(0,p-3).concat("..."):v}function u(p,v,b){return[v=r(v,function g(T,y,E){switch(i.typeName(y)){case"string":return d(p,y);case"object":case"array":return r(y,g,E);default:return y}}),i.stringify(v,b)]}function m(p){return p.exception&&(delete p.exception.description,p.exception.message=d(255,p.exception.message)),p.frames=a(p.frames,1),p}function f(p,v){var b=p.data.body;if(b.trace_chain)for(var g=b.trace_chain,T=0;T<g.length;T++)g[T]=m(g[T]);else b.trace&&(b.trace=m(b.trace));return[p,i.stringify(p,v)]}function h(p,v){return i.maxByteSize(p)>v}t.exports={truncate:function(p,v,b){b=b===void 0?524288:b;for(var g,T,y,E=[n,l,u.bind(null,1024),u.bind(null,512),u.bind(null,256),f];g=E.shift();)if(p=(T=g(p,v))[0],(y=T[1]).error||!h(y.value,b))return y;return y},raw:n,truncateFrames:l,truncateStrings:u,maybeTruncateValue:d}}])})})(xs,xs.exports);var Fl=xs.exports;const Bl=ts(Fl),Ul="production",Hl="null",Yl="34",Wl="webpack:///./",Kl="master",{UseMockup:zl,FilterError:Us}=GameCore.Configs.Rollbar;class jl extends Phaser.Plugins.BasePlugin{enable;rollbar;events=[];setup(){this.rollbar=new Bl({accessToken:Hl,checkIgnore:this.checkIgnore,onSendCallback:this.beforeSend,captureUncaught:!0,scrubTelemetryInputs:!0,captureUnhandledRejections:!0,autoInstrument:{dom:!1,navigation:!1},payload:{environment:Ul,client:{javascript:{code_version:Yl}},server:{root:Wl,branch:Kl}}}),this.enable=!0}configure(e){this.rollbar&&this.rollbar.configure(e)}beforeSend=(e,t,s)=>{zl&&this.showPopupError(s)};checkIgnore=(e,t,s)=>{try{return this.isErrorIgnore(t)?(console.warn(t),!0):!1}catch{return!1}};showPopupError=e=>{const t=e?.body?.trace?.exception;t&&this.events.push(t);const s=e?.body?.trace?.frames||[];this.events.push(...s);let o=document.getElementById("popup-error");o||(o=document.createElement("div"),o.id="popup-error",document.body.appendChild(o)),o.innerHTML=`<div style="color: #fff; display: flex; flex-flow: column; align-items: center; ">
      <pre id="json" style="overflow: auto; background-color: rgb(195 112 97 / 80%); padding: 10px; max-height: 80vh; max-width: 90vw; border: 5px solid #545454;">${JSON.stringify(this.events,null,2)}</pre>
      <button id="close" style="cursor: pointer; padding: 10px 20px; border-radius: 100px;">Close</button>
      </div>`,o.style="top: 0px; z-index: 10000; width: 100vw; max-height: 100vh; position: absolute; display: flex; align-items: center; justify-content: center;";const i=document.getElementById("close");i&&(i.onclick=this.closePopup)};closePopup=()=>{this.events=[{}],document.getElementById("popup-error")?.remove()};isErrorIgnore=e=>{if(!e||e.length===0)return!1;let t=!1;const s=e[0];return s instanceof Object&&(t=this.isIgnoreByCode(s)||this.isIgnoreByMessage(s)),t};isIgnoreByCode=e=>{if(GameCore.Utils.Object.hasOwn(e,"code")){const{code:t}=e,{accepted:s,ignored:o}=Us.Codes;if(typeof t=="string"){if(s.indexOf(t)>=0)return!1;if(o.indexOf(t)>=0)return!0}}else if(GameCore.Utils.Object.hasOwn(e,"name")){const{name:t}=e,{accepted:s,ignored:o}=Us.Codes;if(typeof t=="string"){if(s.indexOf(t)>=0)return!1;if(o.indexOf(t)>=0)return!0}}return!1};isIgnoreByMessage=e=>{if(GameCore.Utils.Object.hasOwn(e,"message")){const{message:t}=e,{accepted:s,ignored:o}=Us.Messages;if(typeof t=="string"){if(s.indexOf(t)>=0)return!1;if(o.indexOf(t)>=0)return!0}}return!1};addExtraState=()=>{try{if(!GameCore.Utils.Object.hasOwn(window,"game")||!GameCore.Utils.Object.hasOwn(window.game,"storage")||!GameCore.Utils.Object.hasOwn(window.game.storage,"getState"))return;const{getState:e}=window.game.storage,t=e(),{player:s,match:o,...i}=t||{};this.rollbar.configure({payload:{player:s,match:o,other:i}})}catch(e){console.warn("%c addExtraState: ","font-size:12px;background-color: #42b983;color:#fff;",e)}};sendException(e,t){if(e){if(!this.enable){console.error(e);return}this.rollbar&&(this.addExtraState(),this.rollbar.error(e,t))}}}const $l=jl;class Vl extends Phaser.Events.EventEmitter{emit(e,t){return super.emit(e,t)}}const Xl=Vl;class Zl extends Phaser.GameObjects.Container{zone;background;constructor(e,t,s,o){super(e),this.setName(t),this.setVisible(!1);const{width:i,height:r}=this.scene.world.getWorldSize();this.setSize(s||i,o||r),this.addZone(),this.addBackground()}open(e){GameCore.Utils.Valid.isObject(e)&&(this.setDataEnabled(),this.setData(e)),this.setBlockInputOutsideEnabled(!0),this.scene.screen.bringToTop(this.name),!this.visible&&(this.setVisible(!0),this.logPageviewOnOpen(),this.logEventOpen())}close(){this.setBlockInputOutsideEnabled(!1),this.visible&&(this.setVisible(!1),this.logPageviewOnClose())}incY(e){this.y+=e,this.background.y-=e}incX(e){this.x+=e,this.background.x-=e}incScale(e){this.scale+=e,this.background.scale-=e^e*(100/e)}setBlockInputOutsideEnabled(e){this.scene.input.setTopOnly(e)}addZone(){this.zone=this.scene.add.zone(0,0,this.width,this.height),this.zone.setInteractive({}),this.add(this.zone)}addBackground(){const e="screen-background";if(!this.scene.textures.exists(e)){const t=this.width+2,s=this.height+2,o=this.scene.add.graphics();o.fillStyle(0,1),o.fillRect(0,0,t,s),o.generateTexture(e,t,s),o.destroy()}this.background=this.scene.add.image(0,0,e),this.add(this.background)}logPageviewOnOpen(){this.scene.analytics.pageview(this.name)}logPageviewOnClose(){this.scene.analytics.pageview(this.scene.scene.key)}logEventOpen(){this.scene.analytics.event(U.SCREEN_OPEN,{screen_name:this.getScreenName()})}getScreenName(){return GameCore.Utils.String.toUpperCamelCase(this.name.toLowerCase())}}const ql=Zl,Jl={OPEN:"open",CLOSE:"close",CREATED:"created"},Ql=Jl;GameCore.Screen=ql;GameCore.Screens={Events:Ql};let ec=class extends Phaser.Plugins.ScenePlugin{events;boot(){this.events=new Xl,this.registryScreenFactory()}get(e){const t=this.scene.children.getByName(e);return t===null?null:t}add(e,t,s,o){let i=this.get(e);return i||(i=this.scene.add.screen(e,t,s,o),this.events.emit(GameCore.Screens.Events.CREATED,i),i)}open(e,t){const s=this.get(e);return s?(s.open(t),s.emit(GameCore.Screens.Events.OPEN,s),this.events.emit(GameCore.Screens.Events.OPEN,s),console.log("Screen open",e,t),!0):!1}close(e){const t=this.get(e);return t?(t.close(),t.emit(GameCore.Screens.Events.CLOSE,t),this.events.emit(GameCore.Screens.Events.CLOSE,t),console.log("Screen close",e),!0):!1}bringToTop(e){const t=this.scene.children.getByName(e);t&&this.scene.children.bringToTop(t)}registryScreenFactory(){Phaser.GameObjects.GameObjectFactory.register("screen",this.createScreen)}createScreen(e,t,s,o){const i=new t(this.scene,e,s,o);return Phaser.Display.Align.In.Center(i,this.scene.gameZone),this.existing(i),i}};var Go={exports:{}};Go.exports;(function(c){(function(e,t){c.exports=t()})(ea,function(){var e=Object.prototype.toString;function t(u,m){return u==null?!1:Object.prototype.hasOwnProperty.call(u,m)}function s(u){if(!u||r(u)&&u.length===0)return!0;if(typeof u!="string"){for(var m in u)if(t(u,m))return!1;return!0}return!1}function o(u){return e.call(u)}function i(u){return typeof u=="object"&&o(u)==="[object Object]"}var r=Array.isArray||function(u){return e.call(u)==="[object Array]"};function n(u){return typeof u=="boolean"||o(u)==="[object Boolean]"}function a(u){var m=parseInt(u);return m.toString()===u?m:u}function l(u){u=u||{};var m=function(b){return Object.keys(m).reduce(function(g,T){return T==="create"||typeof m[T]=="function"&&(g[T]=m[T].bind(m,b)),g},{})},f;u.includeInheritedProps?f=function(){return!0}:f=function(b,g){return typeof g=="number"&&Array.isArray(b)||t(b,g)};function h(b,g){if(f(b,g))return b[g]}var p;u.includeInheritedProps?p=function(b,g){typeof g!="string"&&typeof g!="number"&&(g=String(g));var T=h(b,g);if(g==="__proto__"||g==="prototype"||g==="constructor"&&typeof T=="function")throw new Error("For security reasons, object's magic properties cannot be set");return T}:p=function(b,g){return h(b,g)};function v(b,g,T,y){if(typeof g=="number"&&(g=[g]),!g||g.length===0)return b;if(typeof g=="string")return v(b,g.split(".").map(a),T,y);var E=g[0],S=p(b,E);return g.length===1?((S===void 0||!y)&&(b[E]=T),S):(S===void 0&&(typeof g[1]=="number"?b[E]=[]:b[E]={}),v(b[E],g.slice(1),T,y))}return m.has=function(b,g){if(typeof g=="number"?g=[g]:typeof g=="string"&&(g=g.split(".")),!g||g.length===0)return!!b;for(var T=0;T<g.length;T++){var y=a(g[T]);if(typeof y=="number"&&r(b)&&y<b.length||(u.includeInheritedProps?y in Object(b):t(b,y)))b=b[y];else return!1}return!0},m.ensureExists=function(b,g,T){return v(b,g,T,!0)},m.set=function(b,g,T,y){return v(b,g,T,y)},m.insert=function(b,g,T,y){var E=m.get(b,g);y=~~y,r(E)||(E=[],m.set(b,g,E)),E.splice(y,0,T)},m.empty=function(b,g){if(!s(g)&&b!=null){var T,y;if(T=m.get(b,g)){if(typeof T=="string")return m.set(b,g,"");if(n(T))return m.set(b,g,!1);if(typeof T=="number")return m.set(b,g,0);if(r(T))T.length=0;else if(i(T))for(y in T)f(T,y)&&delete T[y];else return m.set(b,g,null)}}},m.push=function(b,g){var T=m.get(b,g);r(T)||(T=[],m.set(b,g,T)),T.push.apply(T,Array.prototype.slice.call(arguments,2))},m.coalesce=function(b,g,T){for(var y,E=0,S=g.length;E<S;E++)if((y=m.get(b,g[E]))!==void 0)return y;return T},m.get=function(b,g,T){if(typeof g=="number"&&(g=[g]),!g||g.length===0)return b;if(b==null)return T;if(typeof g=="string")return m.get(b,g.split("."),T);var y=a(g[0]),E=p(b,y);return E===void 0?T:g.length===1?E:m.get(b[y],g.slice(1),T)},m.del=function(g,T){if(typeof T=="number"&&(T=[T]),g==null||s(T))return g;if(typeof T=="string")return m.del(g,T.split("."));var y=a(T[0]);if(p(g,y),!f(g,y))return g;if(T.length===1)r(g)?g.splice(y,1):delete g[y];else return m.del(g[y],T.slice(1));return g},m}var d=l();return d.create=l,d.withInheritedProps=l({includeInheritedProps:!0}),d})})(Go);var tc=Go.exports,pi=tc.get;function sc(c,e){return c===e}function oc(c,e,t){t=t||sc;var s=pi(c(),e);return function(i){return function(){var r=pi(c(),e);if(!t(s,r)){var n=s;s=r,i(r,n,e)}}}}var ic=oc;const rc=ts(ic);function Jt(c){"@babel/helpers - typeof";return Jt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jt(c)}function ac(c,e){if(Jt(c)!=="object"||c===null)return c;var t=c[Symbol.toPrimitive];if(t!==void 0){var s=t.call(c,e||"default");if(Jt(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(c)}function nc(c){var e=ac(c,"string");return Jt(e)==="symbol"?e:String(e)}function lc(c,e,t){return e=nc(e),e in c?Object.defineProperty(c,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):c[e]=t,c}function bi(c,e){var t=Object.keys(c);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(c);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(c,o).enumerable})),t.push.apply(t,s)}return t}function gi(c){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?bi(Object(t),!0).forEach(function(s){lc(c,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(t)):bi(Object(t)).forEach(function(s){Object.defineProperty(c,s,Object.getOwnPropertyDescriptor(t,s))})}return c}function ce(c){return"Minified Redux error #"+c+"; visit https://redux.js.org/Errors?code="+c+" for the full message or use the non-minified dev environment for full errors. "}var vi=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Hs=function(){return Math.random().toString(36).substring(7).split("").join(".")},Os={INIT:"@@redux/INIT"+Hs(),REPLACE:"@@redux/REPLACE"+Hs(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Hs()}};function cc(c){if(typeof c!="object"||c===null)return!1;for(var e=c;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(c)===e}function ta(c,e,t){var s;if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(ce(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(ce(1));return t(ta)(c,e)}if(typeof c!="function")throw new Error(ce(2));var o=c,i=e,r=[],n=r,a=!1;function l(){n===r&&(n=r.slice())}function d(){if(a)throw new Error(ce(3));return i}function u(p){if(typeof p!="function")throw new Error(ce(4));if(a)throw new Error(ce(5));var v=!0;return l(),n.push(p),function(){if(v){if(a)throw new Error(ce(6));v=!1,l();var g=n.indexOf(p);n.splice(g,1),r=null}}}function m(p){if(!cc(p))throw new Error(ce(7));if(typeof p.type>"u")throw new Error(ce(8));if(a)throw new Error(ce(9));try{a=!0,i=o(i,p)}finally{a=!1}for(var v=r=n,b=0;b<v.length;b++){var g=v[b];g()}return p}function f(p){if(typeof p!="function")throw new Error(ce(10));o=p,m({type:Os.REPLACE})}function h(){var p,v=u;return p={subscribe:function(g){if(typeof g!="object"||g===null)throw new Error(ce(11));function T(){g.next&&g.next(d())}T();var y=v(T);return{unsubscribe:y}}},p[vi]=function(){return this},p}return m({type:Os.INIT}),s={dispatch:m,subscribe:u,getState:d,replaceReducer:f},s[vi]=h,s}function dc(c){Object.keys(c).forEach(function(e){var t=c[e],s=t(void 0,{type:Os.INIT});if(typeof s>"u")throw new Error(ce(12));if(typeof t(void 0,{type:Os.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ce(13))})}function mc(c){for(var e=Object.keys(c),t={},s=0;s<e.length;s++){var o=e[s];typeof c[o]=="function"&&(t[o]=c[o])}var i=Object.keys(t),r;try{dc(t)}catch(n){r=n}return function(a,l){if(a===void 0&&(a={}),r)throw r;for(var d=!1,u={},m=0;m<i.length;m++){var f=i[m],h=t[f],p=a[f],v=h(p,l);if(typeof v>"u")throw l&&l.type,new Error(ce(14));u[f]=v,d=d||v!==p}return d=d||i.length!==Object.keys(a).length,d?u:a}}function sa(){for(var c=arguments.length,e=new Array(c),t=0;t<c;t++)e[t]=arguments[t];return e.length===0?function(s){return s}:e.length===1?e[0]:e.reduce(function(s,o){return function(){return s(o.apply(void 0,arguments))}})}function uc(){for(var c=arguments.length,e=new Array(c),t=0;t<c;t++)e[t]=arguments[t];return function(s){return function(){var o=s.apply(void 0,arguments),i=function(){throw new Error(ce(15))},r={getState:o.getState,dispatch:function(){return i.apply(void 0,arguments)}},n=e.map(function(a){return a(r)});return i=sa.apply(void 0,n)(o.dispatch),gi(gi({},o),{},{dispatch:i})}}}function oa(c){var e=function(s){var o=s.dispatch,i=s.getState;return function(r){return function(n){return typeof n=="function"?n(o,i,c):r(n)}}};return e}var ia=oa();ia.withExtraArgument=oa;const hc=ia,ra="CONTEXT_RECEIVED",fc="CONTEXT_PROCESSED",aa="CONTEXT_GAME_MODE_DETECTED",pc="MESSAGES_SENT_UPDATE",bc="MESSAGES_SENT_REMOVE",na="SCENE_KEY_UPDATE";function Ie(c){for(var e=arguments.length,t=Array(e>1?e-1:0),s=1;s<e;s++)t[s-1]=arguments[s];throw Error("[Immer] minified error nr: "+c+(t.length?" "+t.map(function(o){return"'"+o+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function at(c){return!!c&&!!c[ee]}function nt(c){var e;return!!c&&(function(t){if(!t||typeof t!="object")return!1;var s=Object.getPrototypeOf(t);if(s===null)return!0;var o=Object.hasOwnProperty.call(s,"constructor")&&s.constructor;return o===Object||typeof o=="function"&&Function.toString.call(o)===kc}(c)||Array.isArray(c)||!!c[ki]||!!(!((e=c.constructor)===null||e===void 0)&&e[ki])||Fo(c)||Bo(c))}function lt(c,e,t){t===void 0&&(t=!1),It(c)===0?(t?Object.keys:Ot)(c).forEach(function(s){t&&typeof s=="symbol"||e(s,c[s],c)}):c.forEach(function(s,o){return e(o,s,c)})}function It(c){var e=c[ee];return e?e.i>3?e.i-4:e.i:Array.isArray(c)?1:Fo(c)?2:Bo(c)?3:0}function xt(c,e){return It(c)===2?c.has(e):Object.prototype.hasOwnProperty.call(c,e)}function gc(c,e){return It(c)===2?c.get(e):c[e]}function la(c,e,t){var s=It(c);s===2?c.set(e,t):s===3?c.add(t):c[e]=t}function ca(c,e){return c===e?c!==0||1/c==1/e:c!=c&&e!=e}function Fo(c){return Pc&&c instanceof Map}function Bo(c){return Sc&&c instanceof Set}function ot(c){return c.o||c.t}function Uo(c){if(Array.isArray(c))return Array.prototype.slice.call(c);var e=ma(c);delete e[ee];for(var t=Ot(e),s=0;s<t.length;s++){var o=t[s],i=e[o];i.writable===!1&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(e[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:c[o]})}return Object.create(Object.getPrototypeOf(c),e)}function Ho(c,e){return e===void 0&&(e=!1),Yo(c)||at(c)||!nt(c)||(It(c)>1&&(c.set=c.add=c.clear=c.delete=vc),Object.freeze(c),e&&lt(c,function(t,s){return Ho(s,!0)},!0)),c}function vc(){Ie(2)}function Yo(c){return c==null||typeof c!="object"||Object.isFrozen(c)}function De(c){var e=Ro[c];return e||Ie(18,c),e}function Tc(c,e){Ro[c]||(Ro[c]=e)}function ko(){return Qt}function Ys(c,e){e&&(De("Patches"),c.u=[],c.s=[],c.v=e)}function Rs(c){xo(c),c.p.forEach(wc),c.p=null}function xo(c){c===Qt&&(Qt=c.l)}function Ti(c){return Qt={p:[],l:Qt,h:c,m:!0,_:0}}function wc(c){var e=c[ee];e.i===0||e.i===1?e.j():e.g=!0}function Ws(c,e){e._=e.p.length;var t=e.p[0],s=c!==void 0&&c!==t;return e.h.O||De("ES5").S(e,c,s),s?(t[ee].P&&(Rs(e),Ie(4)),nt(c)&&(c=As(e,c),e.l||_s(e,c)),e.u&&De("Patches").M(t[ee].t,c,e.u,e.s)):c=As(e,t,[]),Rs(e),e.u&&e.v(e.u,e.s),c!==da?c:void 0}function As(c,e,t){if(Yo(e))return e;var s=e[ee];if(!s)return lt(e,function(n,a){return wi(c,s,e,n,a,t)},!0),e;if(s.A!==c)return e;if(!s.P)return _s(c,s.t,!0),s.t;if(!s.I){s.I=!0,s.A._--;var o=s.i===4||s.i===5?s.o=Uo(s.k):s.o,i=o,r=!1;s.i===3&&(i=new Set(o),o.clear(),r=!0),lt(i,function(n,a){return wi(c,s,o,n,a,t,r)}),_s(c,o,!1),t&&c.u&&De("Patches").N(s,t,c.u,c.s)}return s.o}function wi(c,e,t,s,o,i,r){if(at(o)){var n=As(c,o,i&&e&&e.i!==3&&!xt(e.R,s)?i.concat(s):void 0);if(la(t,s,n),!at(n))return;c.m=!1}else r&&t.add(o);if(nt(o)&&!Yo(o)){if(!c.h.D&&c._<1)return;As(c,o),e&&e.A.l||_s(c,o)}}function _s(c,e,t){t===void 0&&(t=!1),!c.l&&c.h.D&&c.m&&Ho(e,t)}function Ks(c,e){var t=c[ee];return(t?ot(t):c)[e]}function Ei(c,e){if(e in c)for(var t=Object.getPrototypeOf(c);t;){var s=Object.getOwnPropertyDescriptor(t,e);if(s)return s;t=Object.getPrototypeOf(t)}}function qe(c){c.P||(c.P=!0,c.l&&qe(c.l))}function zs(c){c.o||(c.o=Uo(c.t))}function Oo(c,e,t){var s=Fo(e)?De("MapSet").F(e,t):Bo(e)?De("MapSet").T(e,t):c.O?function(o,i){var r=Array.isArray(o),n={i:r?1:0,A:i?i.A:ko(),P:!1,I:!1,R:{},l:i,t:o,k:null,o:null,j:null,C:!1},a=n,l=es;r&&(a=[n],l=Xt);var d=Proxy.revocable(a,l),u=d.revoke,m=d.proxy;return n.k=m,n.j=u,m}(e,t):De("ES5").J(e,t);return(t?t.A:ko()).p.push(s),s}function Ec(c){return at(c)||Ie(22,c),function e(t){if(!nt(t))return t;var s,o=t[ee],i=It(t);if(o){if(!o.P&&(o.i<4||!De("ES5").K(o)))return o.t;o.I=!0,s=yi(t,i),o.I=!1}else s=yi(t,i);return lt(s,function(r,n){o&&gc(o.t,r)===n||la(s,r,e(n))}),i===3?new Set(s):s}(c)}function yi(c,e){switch(e){case 2:return new Map(c);case 3:return Array.from(c)}return Uo(c)}function yc(){function c(i,r){var n=o[i];return n?n.enumerable=r:o[i]=n={configurable:!0,enumerable:r,get:function(){var a=this[ee];return es.get(a,i)},set:function(a){var l=this[ee];es.set(l,i,a)}},n}function e(i){for(var r=i.length-1;r>=0;r--){var n=i[r][ee];if(!n.P)switch(n.i){case 5:s(n)&&qe(n);break;case 4:t(n)&&qe(n)}}}function t(i){for(var r=i.t,n=i.k,a=Ot(n),l=a.length-1;l>=0;l--){var d=a[l];if(d!==ee){var u=r[d];if(u===void 0&&!xt(r,d))return!0;var m=n[d],f=m&&m[ee];if(f?f.t!==u:!ca(m,u))return!0}}var h=!!r[ee];return a.length!==Ot(r).length+(h?0:1)}function s(i){var r=i.k;if(r.length!==i.t.length)return!0;var n=Object.getOwnPropertyDescriptor(r,r.length-1);if(n&&!n.get)return!0;for(var a=0;a<r.length;a++)if(!r.hasOwnProperty(a))return!0;return!1}var o={};Tc("ES5",{J:function(i,r){var n=Array.isArray(i),a=function(d,u){if(d){for(var m=Array(u.length),f=0;f<u.length;f++)Object.defineProperty(m,""+f,c(f,!0));return m}var h=ma(u);delete h[ee];for(var p=Ot(h),v=0;v<p.length;v++){var b=p[v];h[b]=c(b,d||!!h[b].enumerable)}return Object.create(Object.getPrototypeOf(u),h)}(n,i),l={i:n?5:4,A:r?r.A:ko(),P:!1,I:!1,R:{},l:r,t:i,k:a,o:null,g:!1,C:!1};return Object.defineProperty(a,ee,{value:l,writable:!0}),a},S:function(i,r,n){n?at(r)&&r[ee].A===i&&e(i.p):(i.u&&function a(l){if(l&&typeof l=="object"){var d=l[ee];if(d){var u=d.t,m=d.k,f=d.R,h=d.i;if(h===4)lt(m,function(T){T!==ee&&(u[T]!==void 0||xt(u,T)?f[T]||a(m[T]):(f[T]=!0,qe(d)))}),lt(u,function(T){m[T]!==void 0||xt(m,T)||(f[T]=!1,qe(d))});else if(h===5){if(s(d)&&(qe(d),f.length=!0),m.length<u.length)for(var p=m.length;p<u.length;p++)f[p]=!1;else for(var v=u.length;v<m.length;v++)f[v]=!0;for(var b=Math.min(m.length,u.length),g=0;g<b;g++)m.hasOwnProperty(g)||(f[g]=!0),f[g]===void 0&&a(m[g])}}}}(i.p[0]),e(i.p))},K:function(i){return i.i===4?t(i):s(i)}})}var Pi,Qt,Wo=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Pc=typeof Map<"u",Sc=typeof Set<"u",Si=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",da=Wo?Symbol.for("immer-nothing"):((Pi={})["immer-nothing"]=!0,Pi),ki=Wo?Symbol.for("immer-draftable"):"__$immer_draftable",ee=Wo?Symbol.for("immer-state"):"__$immer_state";var kc=""+Object.prototype.constructor,Ot=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(c){return Object.getOwnPropertyNames(c).concat(Object.getOwnPropertySymbols(c))}:Object.getOwnPropertyNames,ma=Object.getOwnPropertyDescriptors||function(c){var e={};return Ot(c).forEach(function(t){e[t]=Object.getOwnPropertyDescriptor(c,t)}),e},Ro={},es={get:function(c,e){if(e===ee)return c;var t=ot(c);if(!xt(t,e))return function(o,i,r){var n,a=Ei(i,r);return a?"value"in a?a.value:(n=a.get)===null||n===void 0?void 0:n.call(o.k):void 0}(c,t,e);var s=t[e];return c.I||!nt(s)?s:s===Ks(c.t,e)?(zs(c),c.o[e]=Oo(c.A.h,s,c)):s},has:function(c,e){return e in ot(c)},ownKeys:function(c){return Reflect.ownKeys(ot(c))},set:function(c,e,t){var s=Ei(ot(c),e);if(s?.set)return s.set.call(c.k,t),!0;if(!c.P){var o=Ks(ot(c),e),i=o?.[ee];if(i&&i.t===t)return c.o[e]=t,c.R[e]=!1,!0;if(ca(t,o)&&(t!==void 0||xt(c.t,e)))return!0;zs(c),qe(c)}return c.o[e]===t&&(t!==void 0||e in c.o)||Number.isNaN(t)&&Number.isNaN(c.o[e])||(c.o[e]=t,c.R[e]=!0),!0},deleteProperty:function(c,e){return Ks(c.t,e)!==void 0||e in c.t?(c.R[e]=!1,zs(c),qe(c)):delete c.R[e],c.o&&delete c.o[e],!0},getOwnPropertyDescriptor:function(c,e){var t=ot(c),s=Reflect.getOwnPropertyDescriptor(t,e);return s&&{writable:!0,configurable:c.i!==1||e!=="length",enumerable:s.enumerable,value:t[e]}},defineProperty:function(){Ie(11)},getPrototypeOf:function(c){return Object.getPrototypeOf(c.t)},setPrototypeOf:function(){Ie(12)}},Xt={};lt(es,function(c,e){Xt[c]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),Xt.deleteProperty=function(c,e){return Xt.set.call(this,c,e,void 0)},Xt.set=function(c,e,t){return es.set.call(this,c[0],e,t,c[0])};var xc=function(){function c(t){var s=this;this.O=Si,this.D=!0,this.produce=function(o,i,r){if(typeof o=="function"&&typeof i!="function"){var n=i;i=o;var a=s;return function(p){var v=this;p===void 0&&(p=n);for(var b=arguments.length,g=Array(b>1?b-1:0),T=1;T<b;T++)g[T-1]=arguments[T];return a.produce(p,function(y){var E;return(E=i).call.apply(E,[v,y].concat(g))})}}var l;if(typeof i!="function"&&Ie(6),r!==void 0&&typeof r!="function"&&Ie(7),nt(o)){var d=Ti(s),u=Oo(s,o,void 0),m=!0;try{l=i(u),m=!1}finally{m?Rs(d):xo(d)}return typeof Promise<"u"&&l instanceof Promise?l.then(function(p){return Ys(d,r),Ws(p,d)},function(p){throw Rs(d),p}):(Ys(d,r),Ws(l,d))}if(!o||typeof o!="object"){if((l=i(o))===void 0&&(l=o),l===da&&(l=void 0),s.D&&Ho(l,!0),r){var f=[],h=[];De("Patches").M(o,l,f,h),r(f,h)}return l}Ie(21,o)},this.produceWithPatches=function(o,i){if(typeof o=="function")return function(l){for(var d=arguments.length,u=Array(d>1?d-1:0),m=1;m<d;m++)u[m-1]=arguments[m];return s.produceWithPatches(l,function(f){return o.apply(void 0,[f].concat(u))})};var r,n,a=s.produce(o,i,function(l,d){r=l,n=d});return typeof Promise<"u"&&a instanceof Promise?a.then(function(l){return[l,r,n]}):[a,r,n]},typeof t?.useProxies=="boolean"&&this.setUseProxies(t.useProxies),typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze)}var e=c.prototype;return e.createDraft=function(t){nt(t)||Ie(8),at(t)&&(t=Ec(t));var s=Ti(this),o=Oo(this,t,void 0);return o[ee].C=!0,xo(s),o},e.finishDraft=function(t,s){var o=t&&t[ee],i=o.A;return Ys(i,s),Ws(void 0,i)},e.setAutoFreeze=function(t){this.D=t},e.setUseProxies=function(t){t&&!Si&&Ie(20),this.O=t},e.applyPatches=function(t,s){var o;for(o=s.length-1;o>=0;o--){var i=s[o];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}o>-1&&(s=s.slice(o+1));var r=De("Patches").$;return at(t)?r(t,s):this.produce(t,function(n){return r(n,s)})},c}(),Te=new xc,Oc=Te.produce;Te.produceWithPatches.bind(Te);Te.setAutoFreeze.bind(Te);Te.setUseProxies.bind(Te);Te.applyPatches.bind(Te);Te.createDraft.bind(Te);Te.finishDraft.bind(Te);const Mt=Oc,Rc={currentSceneKey:"",prevSceneKey:""},Ac=(c=Rc,e)=>Mt(c,t=>{const{payload:s}=e;if(!s)return;const{sceneKey:o}=s;switch(e.type){case na:t.currentSceneKey=o,t.prevSceneKey=c.currentSceneKey;break}});yc();const ua={processed:!1,contextId:"",contextType:"SOLO",entryPointData:{},currentGameMode:""},js=ua,_c=(c=ua,e)=>Mt(c,t=>{const{payload:s}=e;if(!s)return;const{gameMode:o,contextId:i,contextType:r,entryPointData:n}=s;switch(e.type){case ra:t.contextId=i,t.contextType=r,t.entryPointData=n;break;case fc:t.contextId=i,t.contextType=r,t.processed=!0;break;case aa:t.currentGameMode=o;break}}),Ic={data:{}},Mc=(c=Ic,e)=>Mt(c,t=>{const{payload:s}=e;if(!s)return;const{opponentId:o}=s;if(typeof o=="string")switch(e.type){case pc:c.data[o]?t.data[o].sent=!0:t.data[o]={sent:!0};break;case bc:c.data[o]?t.data[o].sent=!1:t.data[o]={sent:!1};break}}),Cc={token:"",isRequesting:!1},Lc=(c=Cc,e)=>Mt(c,t=>{const{payload:s}=e;if(!s)return;const{token:o}=s;switch(e.type){case Ir:t.isRequesting=!0;break;case Mr:t.token=o,t.isRequesting=!1;break}}),Dc={[Io]:Lc},Nc={ASID:"",playerId:"",name:"",photo:"",locale:"",connectedPlayers:{},data:{score:0,settings:Rt,userGuideDisplays:0,customFields:{}},isUserNew:!0},Gc=(c=Nc,e)=>Mt(c,t=>{const{payload:s}=e;if(!s)return;const{name:o,value:i,data:r={},score:n,connectedPlayers:a=[],profile:l}=s;switch(e.type){case Wr:{const{playerId:d,name:u,photo:m,locale:f,data:h}=s;if(t.playerId=d,t.name=u,t.photo=m,t.locale=f,GameCore.Utils.Valid.isObject(h)){const p=h;t.data=Ye(c.data,p)}h.userGuideDisplays>0&&(t.isUserNew=!1)}break;case jr:{const{playerId:d,name:u,photo:m,locale:f,ASID:h}=l;t.ASID=h,t.playerId=d,t.name=u,t.photo=m,t.locale=f}break;case zr:t.data.score=n;break;case $r:if(!GameCore.Utils.Object.hasOwn(t.data.settings,o))break;t.data.settings[o]=i;break;case Kr:t.data=Ye(c.data,r),r.userGuideDisplays>0&&(t.isUserNew=!1);break;case Vr:{if(a.length<=0)break;const d=GameCore.Utils.Object.keyBy(a,"playerId");t.connectedPlayers=Ye(c.connectedPlayers,d)}break}}),Fc={[Ls]:Gc},Bc={data:{},profileIds:[]},Uc=(c=Bc,e)=>Mt(c,t=>{const{payload:s}=e;if(!s)return;const{data:o=[]}=s;switch(e.type){case Qr:{const i=GameCore.Utils.Object.keyBy(o,"playerId"),r=Object.keys(i);t.data=Ye({...c.data},i),t.profileIds=[...new Set([...c.profileIds,...r])]}break}}),Hc={[No]:Uc},Yc=mc({scene:Ac,context:_c,messages:Mc,...Dc,...Fc,...Hc}),{__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:j0}=window;let Wc=sa;const Kc=c=>{const e=Wc(uc(hc));return ta(Yc,c,e)},zc=Kc;class jc extends Phaser.Plugins.BasePlugin{store;initiator;init(){this.store=zc({})}setInitiator(e){this.initiator=e}async syncStore(){this.initiator.initContext(),await this.initiator.initPlayer()}dispatch=e=>this.store.dispatch(e);getState=()=>this.store.getState();subscribe=e=>this.store.subscribe(e);watch=(e,t)=>{const s=rc(()=>{const o=this.getState();return e(o)});return this.subscribe(s(o=>{t(o)}))}}var Ko={exports:{}};Ko.exports;(function(c){(function(){function e(w,k,I){return w.call.apply(w.bind,arguments)}function t(w,k,I){if(!w)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,_),w.apply(k,D)}}return function(){return w.apply(k,arguments)}}function s(w,k,I){return s=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?e:t,s.apply(null,arguments)}var o=Date.now||function(){return+new Date};function i(w,k){this.a=w,this.o=k||w,this.c=this.o.document}var r=!!window.FontFace;function n(w,k,I,_){if(k=w.c.createElement(k),I)for(var D in I)I.hasOwnProperty(D)&&(D=="style"?k.style.cssText=I[D]:k.setAttribute(D,I[D]));return _&&k.appendChild(w.c.createTextNode(_)),k}function a(w,k,I){w=w.c.getElementsByTagName(k)[0],w||(w=document.documentElement),w.insertBefore(I,w.lastChild)}function l(w){w.parentNode&&w.parentNode.removeChild(w)}function d(w,k,I){k=k||[],I=I||[];for(var _=w.className.split(/\s+/),D=0;D<k.length;D+=1){for(var K=!1,z=0;z<_.length;z+=1)if(k[D]===_[z]){K=!0;break}K||_.push(k[D])}for(k=[],D=0;D<_.length;D+=1){for(K=!1,z=0;z<I.length;z+=1)if(_[D]===I[z]){K=!0;break}K||k.push(_[D])}w.className=k.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function u(w,k){for(var I=w.className.split(/\s+/),_=0,D=I.length;_<D;_++)if(I[_]==k)return!0;return!1}function m(w){return w.o.location.hostname||w.a.location.hostname}function f(w,k,I){function _(){q&&D&&K&&(q(z),q=null)}k=n(w,"link",{rel:"stylesheet",href:k,media:"all"});var D=!1,K=!0,z=null,q=I||null;r?(k.onload=function(){D=!0,_()},k.onerror=function(){D=!0,z=Error("Stylesheet failed to load"),_()}):setTimeout(function(){D=!0,_()},0),a(w,"head",k)}function h(w,k,I,_){var D=w.c.getElementsByTagName("head")[0];if(D){var K=n(w,"script",{src:k}),z=!1;return K.onload=K.onreadystatechange=function(){z||this.readyState&&this.readyState!="loaded"&&this.readyState!="complete"||(z=!0,I&&I(null),K.onload=K.onreadystatechange=null,K.parentNode.tagName=="HEAD"&&D.removeChild(K))},D.appendChild(K),setTimeout(function(){z||(z=!0,I&&I(Error("Script load timeout")))},_||5e3),K}return null}function p(){this.a=0,this.c=null}function v(w){return w.a++,function(){w.a--,g(w)}}function b(w,k){w.c=k,g(w)}function g(w){w.a==0&&w.c&&(w.c(),w.c=null)}function T(w){this.a=w||"-"}T.prototype.c=function(w){for(var k=[],I=0;I<arguments.length;I++)k.push(arguments[I].replace(/[\W_]+/g,"").toLowerCase());return k.join(this.a)};function y(w,k){this.c=w,this.f=4,this.a="n";var I=(k||"n4").match(/^([nio])([1-9])$/i);I&&(this.a=I[1],this.f=parseInt(I[2],10))}function E(w){return O(w)+" "+(w.f+"00")+" 300px "+S(w.c)}function S(w){var k=[];w=w.split(/,\s*/);for(var I=0;I<w.length;I++){var _=w[I].replace(/['"]/g,"");_.indexOf(" ")!=-1||/^\d/.test(_)?k.push("'"+_+"'"):k.push(_)}return k.join(",")}function R(w){return w.a+w.f}function O(w){var k="normal";return w.a==="o"?k="oblique":w.a==="i"&&(k="italic"),k}function P(w){var k=4,I="n",_=null;return w&&((_=w.match(/(normal|oblique|italic)/i))&&_[1]&&(I=_[1].substr(0,1).toLowerCase()),(_=w.match(/([1-9]00|normal|bold)/i))&&_[1]&&(/bold/i.test(_[1])?k=7:/[1-9]00/.test(_[1])&&(k=parseInt(_[1].substr(0,1),10)))),I+k}function x(w,k){this.c=w,this.f=w.o.document.documentElement,this.h=k,this.a=new T("-"),this.j=k.events!==!1,this.g=k.classes!==!1}function M(w){w.g&&d(w.f,[w.a.c("wf","loading")]),N(w,"loading")}function L(w){if(w.g){var k=u(w.f,w.a.c("wf","active")),I=[],_=[w.a.c("wf","loading")];k||I.push(w.a.c("wf","inactive")),d(w.f,I,_)}N(w,"inactive")}function N(w,k,I){w.j&&w.h[k]&&(I?w.h[k](I.c,R(I)):w.h[k]())}function H(){this.c={}}function Y(w,k,I){var _=[],D;for(D in k)if(k.hasOwnProperty(D)){var K=w.c[D];K&&_.push(K(k[D],I))}return _}function X(w,k){this.c=w,this.f=k,this.a=n(this.c,"span",{"aria-hidden":"true"},this.f)}function te(w){a(w.c,"body",w.a)}function me(w){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+S(w.c)+";"+("font-style:"+O(w)+";font-weight:"+(w.f+"00")+";")}function Q(w,k,I,_,D,K){this.g=w,this.j=k,this.a=_,this.c=I,this.f=D||3e3,this.h=K||void 0}Q.prototype.start=function(){var w=this.c.o.document,k=this,I=o(),_=new Promise(function(z,q){function J(){o()-I>=k.f?q():w.fonts.load(E(k.a),k.h).then(function(se){1<=se.length?z():setTimeout(J,25)},function(){q()})}J()}),D=null,K=new Promise(function(z,q){D=setTimeout(q,k.f)});Promise.race([K,_]).then(function(){D&&(clearTimeout(D),D=null),k.g(k.a)},function(){k.j(k.a)})};function We(w,k,I,_,D,K,z){this.v=w,this.B=k,this.c=I,this.a=_,this.s=z||"BESbswy",this.f={},this.w=D||3e3,this.u=K||null,this.m=this.j=this.h=this.g=null,this.g=new X(this.c,this.s),this.h=new X(this.c,this.s),this.j=new X(this.c,this.s),this.m=new X(this.c,this.s),w=new y(this.a.c+",serif",R(this.a)),w=me(w),this.g.a.style.cssText=w,w=new y(this.a.c+",sans-serif",R(this.a)),w=me(w),this.h.a.style.cssText=w,w=new y("serif",R(this.a)),w=me(w),this.j.a.style.cssText=w,w=new y("sans-serif",R(this.a)),w=me(w),this.m.a.style.cssText=w,te(this.g),te(this.h),te(this.j),te(this.m)}var we={D:"serif",C:"sans-serif"},Lt=null;function Ne(){if(Lt===null){var w=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);Lt=!!w&&(536>parseInt(w[1],10)||parseInt(w[1],10)===536&&11>=parseInt(w[2],10))}return Lt}We.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=o(),ke(this)};function Dt(w,k,I){for(var _ in we)if(we.hasOwnProperty(_)&&k===w.f[we[_]]&&I===w.f[we[_]])return!0;return!1}function ke(w){var k=w.g.a.offsetWidth,I=w.h.a.offsetWidth,_;(_=k===w.f.serif&&I===w.f["sans-serif"])||(_=Ne()&&Dt(w,k,I)),_?o()-w.A>=w.w?Ne()&&Dt(w,k,I)&&(w.u===null||w.u.hasOwnProperty(w.a.c))?Fs(w,w.v):Fs(w,w.B):Fa(w):Fs(w,w.v)}function Fa(w){setTimeout(s(function(){ke(this)},w),50)}function Fs(w,k){setTimeout(s(function(){l(this.g.a),l(this.h.a),l(this.j.a),l(this.m.a),k(this.a)},w),0)}function Bs(w,k,I){this.c=w,this.a=k,this.f=0,this.m=this.j=!1,this.s=I}var rs=null;Bs.prototype.g=function(w){var k=this.a;k.g&&d(k.f,[k.a.c("wf",w.c,R(w).toString(),"active")],[k.a.c("wf",w.c,R(w).toString(),"loading"),k.a.c("wf",w.c,R(w).toString(),"inactive")]),N(k,"fontactive",w),this.m=!0,Jo(this)},Bs.prototype.h=function(w){var k=this.a;if(k.g){var I=u(k.f,k.a.c("wf",w.c,R(w).toString(),"active")),_=[],D=[k.a.c("wf",w.c,R(w).toString(),"loading")];I||_.push(k.a.c("wf",w.c,R(w).toString(),"inactive")),d(k.f,_,D)}N(k,"fontinactive",w),Jo(this)};function Jo(w){--w.f==0&&w.j&&(w.m?(w=w.a,w.g&&d(w.f,[w.a.c("wf","active")],[w.a.c("wf","loading"),w.a.c("wf","inactive")]),N(w,"active")):L(w.a))}function Qo(w){this.j=w,this.a=new H,this.h=0,this.f=this.g=!0}Qo.prototype.load=function(w){this.c=new i(this.j,w.context||this.j),this.g=w.events!==!1,this.f=w.classes!==!1,Ua(this,new x(this.c,w),w)};function Ba(w,k,I,_,D){var K=--w.h==0;(w.f||w.g)&&setTimeout(function(){var z=D||null,q=_||null||{};if(I.length===0&&K)L(k.a);else{k.f+=I.length,K&&(k.j=K);var J,se=[];for(J=0;J<I.length;J++){var oe=I[J],ue=q[oe.c],xe=k.a,dt=oe;if(xe.g&&d(xe.f,[xe.a.c("wf",dt.c,R(dt).toString(),"loading")]),N(xe,"fontloading",dt),xe=null,rs===null)if(window.FontFace){var dt=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent),qa=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);rs=dt?42<parseInt(dt[1],10):!qa}else rs=!1;rs?xe=new Q(s(k.g,k),s(k.h,k),k.c,oe,k.s,ue):xe=new We(s(k.g,k),s(k.h,k),k.c,oe,k.s,z,ue),se.push(xe)}for(J=0;J<se.length;J++)se[J].start()}},0)}function Ua(w,k,I){var D=[],_=I.timeout;M(k);var D=Y(w.a,I,w.c),K=new Bs(w.c,k,_);for(w.h=D.length,k=0,I=D.length;k<I;k++)D[k].load(function(z,q,J){Ba(w,K,z,q,J)})}function ei(w,k){this.c=w,this.a=k}ei.prototype.load=function(w){function k(){if(K["__mti_fntLst"+_]){var z=K["__mti_fntLst"+_](),q=[],J;if(z)for(var se=0;se<z.length;se++){var oe=z[se].fontfamily;z[se].fontStyle!=null&&z[se].fontWeight!=null?(J=z[se].fontStyle+z[se].fontWeight,q.push(new y(oe,J))):q.push(new y(oe))}w(q)}else setTimeout(function(){k()},50)}var I=this,_=I.a.projectId,D=I.a.version;if(_){var K=I.c.o;h(this.c,(I.a.api||"https://fast.fonts.net/jsapi")+"/"+_+".js"+(D?"?v="+D:""),function(z){z?w([]):(K["__MonotypeConfiguration__"+_]=function(){return I.a},k())}).id="__MonotypeAPIScript__"+_}else w([])};function ti(w,k){this.c=w,this.a=k}ti.prototype.load=function(w){var k,I,_=this.a.urls||[],D=this.a.families||[],K=this.a.testStrings||{},z=new p;for(k=0,I=_.length;k<I;k++)f(this.c,_[k],v(z));var q=[];for(k=0,I=D.length;k<I;k++)if(_=D[k].split(":"),_[1])for(var J=_[1].split(","),se=0;se<J.length;se+=1)q.push(new y(_[0],J[se]));else q.push(new y(_[0]));b(z,function(){w(q,K)})};function Ha(w,k){w?this.c=w:this.c=Ya,this.a=[],this.f=[],this.g=k||""}var Ya="https://fonts.googleapis.com/css";function Wa(w,k){for(var I=k.length,_=0;_<I;_++){var D=k[_].split(":");D.length==3&&w.f.push(D.pop());var K="";D.length==2&&D[1]!=""&&(K=":"),w.a.push(D.join(K))}}function Ka(w){if(w.a.length==0)throw Error("No fonts to load!");if(w.c.indexOf("kit=")!=-1)return w.c;for(var k=w.a.length,I=[],_=0;_<k;_++)I.push(w.a[_].replace(/ /g,"+"));return k=w.c+"?family="+I.join("%7C"),0<w.f.length&&(k+="&subset="+w.f.join(",")),0<w.g.length&&(k+="&text="+encodeURIComponent(w.g)),k}function za(w){this.f=w,this.a=[],this.c={}}var si={latin:"BESbswy","latin-ext":"çöüğş",cyrillic:"йяЖ",greek:"αβΣ",khmer:"កខគ",Hanuman:"កខគ"},ja={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},$a={i:"i",italic:"i",n:"n",normal:"n"},Va=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function Xa(w){for(var k=w.f.length,I=0;I<k;I++){var _=w.f[I].split(":"),D=_[0].replace(/\+/g," "),K=["n4"];if(2<=_.length){var z,q=_[1];if(z=[],q)for(var q=q.split(","),J=q.length,se=0;se<J;se++){var oe;if(oe=q[se],oe.match(/^[\w-]+$/)){var ue=Va.exec(oe.toLowerCase());if(ue==null)oe="";else{if(oe=ue[2],oe=oe==null||oe==""?"n":$a[oe],ue=ue[1],ue==null||ue=="")ue="4";else var xe=ja[ue],ue=xe||(isNaN(ue)?"4":ue.substr(0,1));oe=[oe,ue].join("")}}else oe="";oe&&z.push(oe)}0<z.length&&(K=z),_.length==3&&(_=_[2],z=[],_=_?_.split(","):z,0<_.length&&(_=si[_[0]])&&(w.c[D]=_))}for(w.c[D]||(_=si[D])&&(w.c[D]=_),_=0;_<K.length;_+=1)w.a.push(new y(D,K[_]))}}function oi(w,k){this.c=w,this.a=k}var Za={Arimo:!0,Cousine:!0,Tinos:!0};oi.prototype.load=function(w){var k=new p,I=this.c,_=new Ha(this.a.api,this.a.text),D=this.a.families;Wa(_,D);var K=new za(D);Xa(K),f(I,Ka(_),v(k)),b(k,function(){w(K.a,K.c,Za)})};function ii(w,k){this.c=w,this.a=k}ii.prototype.load=function(w){var k=this.a.id,I=this.c.o;k?h(this.c,(this.a.api||"https://use.typekit.net")+"/"+k+".js",function(_){if(_)w([]);else if(I.Typekit&&I.Typekit.config&&I.Typekit.config.fn){_=I.Typekit.config.fn;for(var D=[],K=0;K<_.length;K+=2)for(var z=_[K],q=_[K+1],J=0;J<q.length;J++)D.push(new y(z,q[J]));try{I.Typekit.load({events:!1,classes:!1,async:!0})}catch{}w(D)}},2e3):w([])};function ri(w,k){this.c=w,this.f=k,this.a=[]}ri.prototype.load=function(w){var k=this.f.id,I=this.c.o,_=this;k?(I.__webfontfontdeckmodule__||(I.__webfontfontdeckmodule__={}),I.__webfontfontdeckmodule__[k]=function(D,K){for(var z=0,q=K.fonts.length;z<q;++z){var J=K.fonts[z];_.a.push(new y(J.name,P("font-weight:"+J.weight+";font-style:"+J.style)))}w(_.a)},h(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+m(this.c)+"/"+k+".js",function(D){D&&w([])})):w([])};var Ke=new Qo(window);Ke.a.c.custom=function(w,k){return new ti(k,w)},Ke.a.c.fontdeck=function(w,k){return new ri(k,w)},Ke.a.c.monotype=function(w,k){return new ei(k,w)},Ke.a.c.typekit=function(w,k){return new ii(k,w)},Ke.a.c.google=function(w,k){return new oi(k,w)};var ai={load:s(Ke.load,Ke)};c.exports?c.exports=ai:(window.WebFont=ai,window.WebFontConfig&&Ke.load(window.WebFontConfig))})()})(Ko);var $c=Ko.exports;const Vc=ts($c);class Xc extends Phaser.Loader.File{payload;constructor(e,t){super(e,{type:"webfont",key:t.type}),this.payload=t}load(){const{type:e}=this.payload;let t;switch(e){case"google":t=this.getGoogleFontConfig(this.payload);break;case"local":t=this.getLocalFontConfig(this.payload);break}Vc.load(t)}getGoogleFontConfig(e){const{character:t,fontName:s,fontWeight:o=400}=e;return{google:{families:[`${s}:${o}`],text:t},active:()=>{this.loader.nextFile(this,!0)},timeout:15e3}}getLocalFontConfig(e){const{fontName:t,fontType:s}=e,o=document.createElement("style");document.head.appendChild(o);const i=o.sheet;if(i){const n=`@font-face { font-family: "${t}"; src: url("assets/fonts/${t}${s==="opentype"?".otf":".ttf"}") format("${s}"); }`;i.insertRule(n,0)}return{custom:{families:[t]},active:()=>{this.loader.nextFile(this,!0)},timeout:15e3}}}const Zc=Xc;class qc extends Phaser.Plugins.ScenePlugin{addFont(e){const t=new Zc(this.scene.load,e);this.scene.load.addFile(t)}}class Jc extends Phaser.Plugins.BasePlugin{portraitRatio;portraitWidth;portraitHeight;landscapeRatio;landscapeWidth;landscapeHeight;worldWidth;worldHeight;worldRatio;autoResize;disableLandscape;fullSizeOnLandscape;forcePixelRatio;configure(e){const{autoResize:t,portraitRatio:s,portraitWidth:o,portraitHeight:i,landscapeWidth:r,landscapeHeight:n,landscapeRatio:a,disableLandscape:l,fullSizeOnLandscape:d}=e;this.autoResize=t,this.disableLandscape=l,this.fullSizeOnLandscape=d,this.portraitRatio=s,this.portraitWidth=o,this.portraitHeight=i,this.landscapeRatio=a,this.landscapeWidth=r,this.landscapeHeight=n,this.initWorldSize(),this.addEventResize()}resize(e){e&&e>0&&(this.forcePixelRatio=e);const{width:t,height:s}=this.getCanvasSizeFixedRatio(this.worldRatio);this.resizeCanvas(t,s),this.game.scene.scenes.forEach(o=>{const i=o.cameras.main;if(!i)return;const r=this.getZoomRatio(),{width:n,height:a}=this.getWorldSize();i.setZoom(r),i.centerOn(n/2,a/2)})}resizeCanvas(e,t){this.game.canvas.width=e,this.game.canvas.height=t,this.game.scale.resize(e,t)}getWorldSize(){return{width:this.worldWidth,height:this.worldHeight}}initWorldSize(){this.worldWidth=this.portraitWidth,this.worldHeight=this.portraitHeight;const e=this.getScreenRatio();if(this.isScreenSmallerOrEqualRatio(this.portraitRatio))this.worldHeight=this.worldWidth/e;else if(!this.disableLandscape&&(this.worldWidth=this.landscapeWidth,this.worldHeight=this.landscapeHeight,this.landscapeRatio>e&&(this.worldHeight=this.worldWidth/e),this.fullSizeOnLandscape)){this.worldRatio=this.worldWidth/this.worldHeight;const{width:t,height:s}=this.getCanvasSizeFixedRatio(e),o=this.getZoomRatio();this.worldWidth=t/o,this.worldHeight=s/o}this.worldRatio=this.worldWidth/this.worldHeight,console.info("🚀 > this.worldRatio",this.worldRatio)}getZoomRatio(){const{width:e}=this.getWorldSize(),{width:t}=this.getCanvasSizeFixedRatio(this.worldRatio);return t/e}getPixelRatio(){if(this.forcePixelRatio>0)return this.forcePixelRatio;if(GameCore.Utils.Device.isDesktop())return 2;let e=GameCore.Utils.Device.pixelRatio();return e>2&&(e=2),e}getPhysicPixels(e,t){return e*t}getCanvasSizeFixedRatio(e){const t=this.getPixelRatio();let s=this.getScreenWidth()*t,o=this.getScreenHeight()*t;return this.isScreenEqualRatioWithError(e)?{width:s,height:o}:(this.isScreenSmallerOrEqualRatio(e)?o=s/e:s=o*e,{width:s,height:o})}getScreenRatio(){return this.getScreenWidth()/this.getScreenHeight()}getScreenHeight(){const{body:e,documentElement:t}=document,{clientHeight:s}=e,{clientHeight:o}=t;return Math.max(o,s)||0}getScreenWidth(){const{body:e,documentElement:t}=document,{clientWidth:s}=e,{clientWidth:o}=t;return Math.max(o,s)||0}isScreenEqualRatioWithError(e){const s=this.getScreenRatio();return e<s+1e-5&&e>s-1e-5}isScreenSmallerOrEqualRatio(e){return this.getScreenRatio()<=e}addEventResize(){this.autoResize&&window.addEventListener("resize",this.handleResize)}handleResize=Sr(()=>{this.resize()},300);isLandscape(){return this.worldRatio>this.portraitRatio}}class Qc{contextId;contextType;entryPointData;constructor(e,t,s){this.contextId=e||js.contextId,this.contextType=t||js.contextType,this.entryPointData=s||js.entryPointData}toObject(){return{contextId:this.contextId,contextType:this.contextType,entryPointData:this.entryPointData}}}const ed=(c,e,t)=>({type:ra,payload:{contextId:c,contextType:e,entryPointData:t}}),td=()=>c=>{c(sd("normal"))},sd=c=>e=>{e({type:aa,payload:{gameMode:c}}),_o("game-mode",c)},od={SCORE:"score",SETTINGS:"settings",GAME_DATA:"gameData",USER_GUIDE_DISPLAYS:"userGuideDisplays"},id=od;let qt=!1,At=!1;const ha=c=>{qt=c},rd=()=>{At=ad()},ad=()=>{if(GameCore.Utils.Device.isDesktop())return!1;const e=qt;return qt=!0,At=!0,St(0),qt=e,At},$s=()=>At,St=c=>{try{if(!qt||!At)return!1;const e=GameCore.Utils.Device;return(e.isAndroid()||e.isMobileWeb())&&nd(c),!0}catch{return At=!1,!1}},nd=c=>{window.navigator.vibrate(0),window.navigator.vibrate(c)};class ld{game;constructor(e){this.game=e}initContext=()=>{const e=window.GameSDK.context.getID(),t=window.GameSDK.context.getType(),s=window.GameSDK.getEntryPointData(),o=new Qc(e,t,s),{contextId:i,contextType:r,entryPointData:n}=o.toObject();this.game.storage.dispatch(ed(i,r,n))};initPlayer=async()=>{const{player:e}=this.game,t=this.getPlayerInfo(),s=Object.values(id),o=await FBInstant.player.getDataAsync(s);console.info("🚀 > rawData",o);const i=new _t(o);console.info("🚀 > playerData",i);const r=i.toObject();r.settings.music===!0&&window.game.audio.playMusic(),r.settings.vibrate===!0&&ha(!0),e.receiveData(t,i.convertToPlayerData())};getPlayerInfo=()=>{try{const e=window.GameSDK.player.getID();let t=window.GameSDK.player.getName();const s=window.GameSDK.player.getPhoto(),o=window.GameSDK.getLocale();if(!GameCore.Utils.Valid.isString(e))throw new Error("Player ID is not valid");return GameCore.Utils.Valid.isString(t)||(t="You"),new Ss(e,t,s,o).toObject()}catch{return new Ss("123","You").toObject()}}}const re={BOOT_SCENE:"BOOT_SCENE",LOAD_SCENE:"LOAD_SCENE",GAME_SCENE:"GAME_SCENE",GLOBAL_SCENE:"GLOBAL_SCENE",TEST_SCENE:"TEST_SCENE",ANIMATIONS_SCENE:"ANIMATIONS_SCENE"},Ao={SWITCH:Symbol("SWITCH")};class cd extends Phaser.Plugins.BasePlugin{Text;Texture;currentLocale;supportedLanguages;data;configure(e){this.applyOptions(e)}getCurrentLanguage(){return this.currentLocale}switchLanguage(e="en"){const t=this.getCorrectLocale(e);this.currentLocale=t,this.Text=this.data[t].Text,this.Texture=this.data[t].Texture}getText(e){if(typeof e=="object"){const{key:t,variables:s=[],locale:o=this.currentLocale}=e,i=this.getCorrectLocale(o),r=this.data[i].Text[t];return this.replaceVariables(r,s)}return this.Text[e]}getTexture(e){if(typeof e=="object"){const{key:t,variables:s=[],locale:o=this.currentLocale}=e,i=this.getCorrectLocale(o),r=this.data[i].Texture[t];return this.replaceVariables(r,s)}return this.Texture[e]}isSupportLanguage(e){return this.supportedLanguages.indexOf(e)>=0}applyOptions(e){const{data:t,locale:s="en",upperCaseText:o=!1}=e;this.data=t,this.supportedLanguages=Object.keys(t);const i=this.getCorrectLocale(s);if(this.currentLocale=i,this.Text=t[i].Text,this.Texture=t[i].Texture,o)for(const r in this.Text)this.Text[r]=this.Text[r].toUpperCase()}replaceVariables(e,t){const s=t.length;if(s==0)return e;let o=0;return e.replace(/{.*}/,function(){return String(t[Math.min(o++,s-1)])})}getCorrectLocale(e){let t=e.split("_")[0];return this.isSupportLanguage(t)||(t="en"),t}}const dd={title:"Tile Connect",lv:"Lv",level:"Level",invite:"Invite",pause:"Pause",continue:"Continue",restart:"Restart",invite_friends:"Invite Friends",failed:"Failed",reason_time_out:"Time is up!",resurrection:"Resurrection",replay:"Replay",victory:"Victory",get:"Get",get_continue:"Get, and Continue",hint_description:"Show one matchable pair on the board",rocket_description:"Destroy two pairs on the board",shuffle_description:"Shuffle all tiles on the board",defuse_description:"Remove a bomb tile on the board",get_now:"Get now",free:"Free",reason_bomb:"The bomb exploded!",continue_question:"Continue?",skip:"Skip",tutorial_level_3:"Remove all icon tiles before the end of time",tutorial_hint:`Tap to reveal
a connectable pair`,rocket:"Rocket",tutorial_rocket_tile:"After the rocket is eliminated, two more will be eliminated",ok:"OK",boom:"Boom",tutorial_bomb_tile:"Remove this icon tile before the bomb exploded",tutorial_level_7:"Tap to clear a pair of bomb tiles",tutorial_level_8:"Tap to rearrange the tiles",tutorial_level_11:"Tap to eliminate 2 pairs",combo:"Combo",good:"Good",excellent:"Excellent",great:"Great",unbelievable:"Unbelievable",loading:"Loading",no_rewards_1:"Sorry, No Rewards!",no_rewards_2:"You have cancelled the ad!",no_ads:"No ads to display!",loading_ads:"Loading ads..."},md={boom:"texts/boom",get_continue:"texts/get-and-continue",rocket:"texts/rocket",victory:"texts/victory",text_failed:"texts/text-failed",text_continue:"texts/text-continue",text_replay:"texts/text-replay",text_pause:"texts/text-pause",tutorial_text_failed:"text-failed",tutorial_text_good:"text-good",effect_good:"texts/good",effect_excellent:"texts/excellent",effect_great:"texts/great",effect_unbelievable:"texts/unbelievable"},ud={Text:dd,Texture:md},hd={title:"Hubung Ubin",lv:"Lv",level:"Level",invite:"Undang",pause:"Jeda",continue:"Lanjut",restart:"Mulai Ulang",invite_friends:"Undang Teman",failed:"Gagal",reason_time_out:"Waktu selesai!",resurrection:"Kebangkitan",replay:"Ulangi Permainan",victory:"KEMENANGAN",get:"Ambil",get_continue:"Dapatkan dan Lanjutkan",hint_description:"Tampilkan satu pasang yang dapat dicocokkan di papan",rocket_description:"Hancurkan dua pasang di papan",shuffle_description:"Acak semua ubin di papan",defuse_description:"Hilangkan ubin bom di papan",get_now:"Ambil",free:"Gratis",reason_bomb:"Bom meledak!",continue_question:"LANJUT?",skip:"Lewati",tutorial_level_3:"Hilangkan semua ubin ikon sebelum waktu berakhir",tutorial_hint:`Ketuk untuk
 mengungkap satu pasang
 yang dapat dihubungkan`,rocket:"Roket",tutorial_rocket_tile:"Setelah roket ini dihilangkan, dua lainnya akan dihilangkan",ok:"Oke",boom:"Duar",tutorial_bomb_tile:"Hilangkan ubin ikon ini sebelum bom meledak",tutorial_level_7:"Ketuk untuk membersihkan sepasang ubin bom",tutorial_level_8:"Ketuk untuk menyusun ulang ubin",tutorial_level_11:"Ketuk untuk menghilangkan 2 pasang",combo:"Kombo",good:"Bagus",excellent:"Luar Biasa",great:"Hebat",unbelievable:"Dahsyat",loading:"Memuat...",no_rewards_1:"Maaf, Tak Ada Hadiah!",no_rewards_2:"Kamu membatalkan iklan!",no_ads:"TIidak Ada Iklan Untuk Ditonton",loading_ads:"Memuat Iklan..."},fd={boom:"texts/indonesian/boom",get_continue:"texts/indonesian/get-and-continue",rocket:"texts/indonesian/rocket",victory:"texts/indonesian/victory",text_failed:"texts/indonesian/text-failed",text_continue:"texts/indonesian/text-continue",text_replay:"texts/indonesian/text-replay",text_pause:"texts/indonesian/text-pause",tutorial_text_failed:"text-failed-id",tutorial_text_good:"text-good-id",effect_good:"texts/indonesian/good-id",effect_excellent:"texts/indonesian/excellent-id",effect_great:"texts/indonesian/great-id",effect_unbelievable:"texts/indonesian/unbelievable-id"},pd={Text:hd,Texture:fd},bd={title:"Соединение плиток",lv:"Ур.",level:"Уровень",invite:"Звать",pause:"Приостановлена",continue:"Продолжить",restart:"Начать Сначала",invite_friends:"Пригласить Друзей",failed:"Провален",reason_time_out:"Время вышло!",resurrection:"Воскрешение",replay:"Повтор",victory:"Победа",get:"Получить",get_continue:"Получить и продолжить",hint_description:"Покажите на доске одну пару, которую можно сопоставить",rocket_description:"Уничтожьте две пары на доске",shuffle_description:"Перетасуйте все плитки на доске",defuse_description:"Уберите с доски плитку с бомбой",get_now:"Получить",free:"дар",reason_bomb:"Бомба взорвалась!",continue_question:"Продолжить?",skip:"Пропустить",tutorial_level_3:"Удалите все плитки со значкам до истечения времени",tutorial_hint:`Нажмите,
чтобы отобразить пару,
которую можно
соединить`,rocket:"Ракета",tutorial_rocket_tile:"Когда ракета будет уничтожена, будут уничтожены еще две",ok:"Да",boom:"Бум",tutorial_bomb_tile:"Уберите эту плитку со значком до того, как бомба взорвется",tutorial_level_7:"Нажмите, чтобы удалить пару плиток с бомбами",tutorial_level_8:"Нажмите, чтобы переставить плитки",tutorial_level_11:"Нажмите, чтобы удалить 2 пары",combo:"Комбо",good:"Хорошо",excellent:"Превосходно",great:"Отлично",unbelievable:"Невероятно",loading:"Загрузка",no_rewards_1:"Извините, наград нет!",no_rewards_2:"Вы не посмотрели рекламу до конца!",no_ads:"Нет Объявлений Для Отображения!",loading_ads:"Загрузка Объявлений..."},gd={boom:"texts/russian/boom",get_continue:"texts/russian/get-and-continue",rocket:"texts/russian/rocket",victory:"texts/russian/victory",text_failed:"texts/russian/text-failed",text_continue:"texts/russian/text-continue",text_replay:"texts/russian/text-replay",text_pause:"texts/russian/text-pause",tutorial_text_failed:"text-failed-ru",tutorial_text_good:"text-good-ru",effect_good:"texts/russian/good-ru",effect_excellent:"texts/russian/excellent-ru",effect_great:"texts/russian/great-ru",effect_unbelievable:"texts/russian/unbelievable-ru"},vd={Text:bd,Texture:gd},Td={title:"「タイルコネクト」",lv:"Lv",level:"レベル",invite:"招待",pause:"一時停止",continue:"コンティニュー",restart:"リスタート",invite_friends:"友達を招待",failed:"失敗",reason_time_out:"時間切れです！",resurrection:"復活",replay:"リプレイ",victory:"勝利",get:"入手",get_continue:"取得して続行",hint_description:`ボード上のマッチング
可能なペアを1つ表示`,rocket_description:`ボード上の2つ
のペアを破壊`,shuffle_description:`ボード上のすべての
タイルをシャッフル`,defuse_description:`ボード上の爆弾
タイルを消す`,get_now:"今すぐ入手",free:"無料",reason_bomb:"爆弾が爆発しました！",continue_question:"コンティニューしますか？",skip:"スキップ",tutorial_level_3:`終了時間までに
アイコンタイル
をすべて削除`,tutorial_hint:`タップして接続
可能なペアを表示`,rocket:"ロケット",tutorial_rocket_tile:`ロケットを消した後
さらに2つが消えます`,ok:"分かりました",boom:"ブーム",tutorial_bomb_tile:`爆弾が爆発する前に、
このアイコンタイル
を消します`,tutorial_level_7:`タップして爆弾タイル
のペアを1つ消す`,tutorial_level_8:`タップしてタイル
を並べ替える`,tutorial_level_11:"タップして2つのペアを消す",combo:"コンボ",good:"良い",excellent:"素晴らしい",great:"最高",unbelievable:"信じられない",loading:"読み込み中",no_rewards_1:"リワードはありません！",no_rewards_2:`広告をキャンセル
しました！`,no_ads:`表示できる広告
はありません`,loading_ads:`広告を読み込んで
います...`},wd={boom:"texts/japanese/boom",get_continue:"texts/japanese/get-and-continue",rocket:"texts/japanese/rocket",victory:"texts/japanese/victory",text_failed:"texts/japanese/text-failed",text_continue:"texts/japanese/text-continue",text_replay:"texts/japanese/text-replay",text_pause:"texts/japanese/text-pause",tutorial_text_failed:"text-failed-ja",tutorial_text_good:"text-good-ja",effect_good:"texts/japanese/good-ja",effect_excellent:"texts/japanese/excellent-ja",effect_great:"texts/japanese/great-ja",effect_unbelievable:"texts/japanese/unbelievable-ja"},Ed={Text:Td,Texture:wd},yd={title:"Tile Connect",lv:"Lv",level:"Nível",invite:"Convidar",pause:"Pausar",continue:"Continuar",restart:"Reiniciar",invite_friends:"Convidar amigos",failed:"Falhou",reason_time_out:"Acabou o tempo!",resurrection:"Ressurreição",replay:"Repetição",victory:"Vitória",get:"Consegue",get_continue:"Apanha e continua",hint_description:"Mostra um par compatível no tabuleiro",rocket_description:"Destrói dois pares no tabuleiro",shuffle_description:"Baralha todas as peças do tabuleiro",defuse_description:"Retira uma peça bomba no tabuleiro",get_now:"Consegue",free:"Grátis",reason_bomb:"A bomba explodiu!",continue_question:"Continuar?",skip:"Pular",tutorial_level_3:"Remove todas as peças antes do tempo acabar",tutorial_hint:"Toca para revelares um par conectável",rocket:"Foguete",tutorial_rocket_tile:"Após o foguete explodir, serão eliminadas mais duas",ok:"OK",boom:"Pumba",tutorial_bomb_tile:"Remove esta peça antes da bomba explodir",tutorial_level_7:"Toca para eliminares um par de peças bomba",tutorial_level_8:"Toca para reorganizares as peças",tutorial_level_11:"Toca para eliminares 2 pares",combo:"Combo",good:"Boa",excellent:"Excelente",great:"Óptimo",unbelievable:"Inacreditável",loading:"A carregar",no_rewards_1:"Desculpa, não há recompensas!",no_rewards_2:"Cancelaste o anúncio!",no_ads:"Não há anúncios para mostrar!",loading_ads:"A carregar anúncios..."},Pd={boom:"texts/portuguese/boom",get_continue:"texts/portuguese/get-and-continue",rocket:"texts/portuguese/rocket",victory:"texts/portuguese/victory",text_failed:"texts/portuguese/text-failed",text_continue:"texts/portuguese/text-continue",text_replay:"texts/portuguese/text-replay",text_pause:"texts/portuguese/text-pause",tutorial_text_failed:"text-failed-pt",tutorial_text_good:"text-good-pt",effect_good:"texts/portuguese/good-pt",effect_excellent:"texts/portuguese/excellent-pt",effect_great:"texts/portuguese/great-pt",effect_unbelievable:"texts/portuguese/unbelievable-pt"},Sd={Text:yd,Texture:Pd},kd={title:"Tile Connect",lv:"Lv",level:"Nivel",invite:"Invitar",pause:"Pausar",continue:"Continuar",restart:"Reiniciar",invite_friends:"Invitar amigos",failed:"Fracaso",reason_time_out:"¡Se acabó el tiempo!",resurrection:"Resurreccion",replay:"Repetición",victory:"Victoria",get:"Consigue",get_continue:"Coge y continua",hint_description:"Muestra un par emparejable en el tablero",rocket_description:"Destruye dos pares en el tablero",shuffle_description:"Baraja todas las fichas del tablero",defuse_description:"Quitar una ficha de bomba en el tablero",get_now:"Consigue",free:"Gratis",reason_bomb:"¡La bomba explotó!",continue_question:"¿Continuar?",skip:"Saltar",tutorial_level_3:"Elimina todos las fichas antes de que acabe el tiempo",tutorial_hint:`Toca para mostrar
 un par conectable`,rocket:"Cohete",tutorial_rocket_tile:"Después de explotar el cohete, se eliminarán dos más",ok:"OK",boom:"Pum",tutorial_bomb_tile:"Retira esta ficha antes de que explote la bomba",tutorial_level_7:"Toca para eliminar un par de fichas bomba",tutorial_level_8:"Toca para reorganizar las fichas",tutorial_level_11:"Toca para eliminar 2 pares",combo:"Combo",good:"Bien",excellent:"¡Excelente!",great:"Genial",unbelievable:"Increíble",loading:"Cargando",no_rewards_1:`Lo sentimos, no hay
 recompensas.`,no_rewards_2:"¡Has cancelado el anuncio!",no_ads:"Sin anuncios que mostrar",loading_ads:"Cargando anuncios..."},xd={boom:"texts/spanish/boom",get_continue:"texts/spanish/get-and-continue",rocket:"texts/spanish/rocket",victory:"texts/spanish/victory",text_failed:"texts/spanish/text-failed",text_continue:"texts/spanish/text-continue",text_replay:"texts/spanish/text-replay",text_pause:"texts/spanish/text-pause",tutorial_text_failed:"text-failed-es",tutorial_text_good:"text-good-es",effect_good:"texts/spanish/good-es",effect_excellent:"texts/spanish/excellent-es",effect_great:"texts/spanish/great-es",effect_unbelievable:"texts/spanish/unbelievable-es"},Od={Text:kd,Texture:xd},Rd={title:"Tile Connect",lv:"Lv",level:"Seviye",invite:"Davet et",pause:"Duraklat",continue:"Devam",restart:"Yeniden başla",invite_friends:"Arkadaşlarını Davet Et",failed:"Başarısız",reason_time_out:"Süre doldu!",resurrection:"Yeni can",replay:"Yeniden oynat",victory:"Zafer",get:"Al",get_continue:"Al ve Devam Et",hint_description:"Tahtada eşleşebilir bir çift göster",rocket_description:"Tahtadaki iki çifti yok et",shuffle_description:"Tahtadaki tüm karoları karıştır",defuse_description:"Tahtadaki bomba karosunu kaldır",get_now:"Şimdi al",free:"Ücretsiz",reason_bomb:"Bomba patladı!",continue_question:"Devam mı?",skip:"Atla",tutorial_level_3:"Süre dolmadan önce tüm simge karolarını kaldır",tutorial_hint:"Eşleştirilebilir bir karo çiftini görmek için dokun",rocket:"Roket",tutorial_rocket_tile:"Roketten sonra iki tane daha silinir",ok:"TAMAM",boom:"Bomba",tutorial_bomb_tile:"Bomba patlamadan önce bu simge karosunu kaldır",tutorial_level_7:"Bir çift bomba karosunu silmek için dokun",tutorial_level_8:"Karoları yeniden düzenlemek için dokun",tutorial_level_11:"2 çifti elemek için dokun",combo:"Kombo",good:"İyi",excellent:"Mükemmel",great:"Harika",unbelievable:"İnanılmaz",loading:"Yükleniyor",no_rewards_1:"Üzgünüm, Ödül Yok!",no_rewards_2:"Reklamı iptal ettin!",no_ads:"Gösterilecek reklam yok!",loading_ads:"Reklam yükleniyor..."},Ad={boom:"texts/turkish/boom",get_continue:"texts/turkish/get-and-continue",rocket:"texts/turkish/rocket",victory:"texts/turkish/victory",text_failed:"texts/turkish/text-failed",text_continue:"texts/turkish/text-continue",text_replay:"texts/turkish/text-replay",text_pause:"texts/turkish/text-pause",tutorial_text_failed:"text-failed-tr",tutorial_text_good:"text-good-tr",effect_good:"texts/turkish/good-tr",effect_excellent:"texts/turkish/excellent-tr",effect_great:"texts/turkish/great-tr",effect_unbelievable:"texts/turkish/unbelievable-tr"},_d={Text:Rd,Texture:Ad},Id={title:"Connexion de tuiles",lv:"Lv",level:"Niveau",invite:"Inviter",pause:"Pause",continue:"Continuer",restart:"Redémarrer",invite_friends:"Inviter des amis",failed:"Échec",reason_time_out:"Le temps est écoulé !",resurrection:"Résurrection",replay:"Rejouer",victory:"Victoire",get:"Obtenir",get_continue:"Obtenir, puis Continuer",hint_description:"Afficher une paire compatible sur le plateau",rocket_description:"Détruire deux paires sur le plateau",shuffle_description:"Mélanger toutes les tuiles du plateau",defuse_description:"Retirer une tuile bombe du plateau",get_now:"Obtenir",free:"Gratuit",reason_bomb:"La bombe a explosé !",continue_question:"Continuer ?",skip:"Passer",tutorial_level_3:"Retirez toutes les tuiles d’icônes avant la fin du temps imparti",tutorial_hint:"Appuyez pour révéler une paire connectable",rocket:"Fusée",tutorial_rocket_tile:"Après l’élimination de la fusée, deux autres seront éliminées",ok:"OK",boom:"Boum",tutorial_bomb_tile:"Retirez cette tuile d’icône avant que la bombe n’explose",tutorial_level_7:"Appuyez sur pour éliminer une paire de tuiles bombe",tutorial_level_8:"Appuyez pour réorganiser les tuiles",tutorial_level_11:"Appuyez pour éliminer 2 paires",combo:"Combo",good:"Bien",excellent:"Excellent",great:"Super",unbelievable:"Incroyable",loading:"Chargement",no_rewards_1:"Désolé, aucune récompense !",no_rewards_2:`Vous avez annulé la
 publicité !`,no_ads:"Aucune publicité à afficher !",loading_ads:"Chargement des publicités..."},Md={boom:"texts/french/boom",get_continue:"texts/french/get-and-continue",rocket:"texts/french/rocket",victory:"texts/french/victory",text_failed:"texts/french/text-failed",text_continue:"texts/french/text-continue",text_replay:"texts/french/text-replay",text_pause:"texts/french/text-pause",tutorial_text_failed:"text-failed-fr",tutorial_text_good:"text-good-fr",effect_good:"texts/french/good-fr",effect_excellent:"texts/french/excellent-fr",effect_great:"texts/french/great-fr",effect_unbelievable:"texts/french/unbelievable-fr"},Cd={Text:Id,Texture:Md},Ld={title:"Tile Connect",lv:"Lv",level:"Level",invite:"Einladen",pause:"Pause",continue:"Fortsetzen",restart:"Neu starten",invite_friends:"Freunde einladen",failed:"Gescheitert",reason_time_out:"Die Zeit ist um!",resurrection:"Wiederbelebung",replay:"Wiederholung",victory:"Sieg",get:"Holen",get_continue:"Holen und Fortsetzen",hint_description:"Ein passendes Paar auf dem Brett zeigen",rocket_description:"Zwei Paare auf dem Brett zerstören",shuffle_description:"Alle Kacheln auf dem Brett neu verteilen",defuse_description:"Eine Bombenkachel auf dem Spielbrett entfernen",get_now:"Jetzt holen",free:"Kostenlos",reason_bomb:"Die Bombe ist explodiert!",continue_question:"Fortsetzen?",skip:"Überspringen",tutorial_level_3:"Entferne alle Symbolkacheln, bevor die Zeit abläuft",tutorial_hint:"Tippe für ein kombinierbares Paar",rocket:"Rakete",tutorial_rocket_tile:"Nach der Rakete werden zwei weitere eliminiert",ok:"OK",boom:"Boom",tutorial_bomb_tile:"Entferne diese Symbolkachel, bevor die Bombe explodiert",tutorial_level_7:"Tippen, um ein Bombenpaar zu entfernen",tutorial_level_8:"Tippen, um die Felder neu anzuordnen",tutorial_level_11:"Tippen, um 2 Paare zu eliminieren",combo:"Kombo",good:"Gut",excellent:"Hervorragend",great:"Großartig",unbelievable:"Unglaublich",loading:"Lädt",no_rewards_1:`Tut uns leid, keine
 Belohnungen!`,no_rewards_2:`Du hast die Werbung
 abgebrochen!`,no_ads:"Keine Werbung verfügbar!",loading_ads:"Lade Werbung ..."},Dd={boom:"texts/german/boom",get_continue:"texts/german/get-and-continue",rocket:"texts/german/rocket",victory:"texts/german/victory",text_failed:"texts/german/text-failed",text_continue:"texts/german/text-continue",text_replay:"texts/german/text-replay",text_pause:"texts/german/text-pause",tutorial_text_failed:"text-failed-de",tutorial_text_good:"text-good-de",effect_good:"texts/german/good-de",effect_excellent:"texts/german/excellent-de",effect_great:"texts/german/great-de",effect_unbelievable:"texts/german/unbelievable-de"},Nd={Text:Ld,Texture:Dd},Gd={title:"Tile Connect",lv:"Lv",level:"Livello",invite:"Invita",pause:"Pausa",continue:"Continua",restart:"Riavvia",invite_friends:"Invita gli amici",failed:"Non riuscito",reason_time_out:"Il tempo è scaduto!",resurrection:"Risurrezione",replay:"Gioca ancora",victory:"Vittoria",get:"Ottieni",get_continue:"Ottieni e continua",hint_description:"Mostra una coppia abbinabile sul tabellone",rocket_description:"Distruggi due coppie sul tabellone",shuffle_description:"Mescola tutte le tessere sul tabellone",defuse_description:"Rimuovi una tessera bomba sul tabellone",get_now:"Ottieni ora",free:"Gratuito",reason_bomb:"La bomba è esplosa!",continue_question:"Continuare?",skip:"Salta",tutorial_level_3:"Rimuovi tutte le tessere icona prima della fine del tempo",tutorial_hint:"Tocca per rivelare una coppia collegabile",rocket:"Razzo",tutorial_rocket_tile:"Dopo che il razzo è stato eliminato, altri due saranno eliminati",ok:"OK",boom:"Boom",tutorial_bomb_tile:"Rimuovi questa tessera icona prima che la bomba esploda",tutorial_level_7:"Tocca per cancellare una coppia di tessere bomba",tutorial_level_8:"Tocca per riorganizzare le tessere",tutorial_level_11:"Tocca per eliminare 2 coppie",combo:"Combo",good:"Bene",excellent:"Eccellente",great:"Grande",unbelievable:"Incredibile",loading:"Caricamento",no_rewards_1:`Spiacente, nessuna
 ricompensa!`,no_rewards_2:"Hai cancellato l'annuncio!",no_ads:`Nessun annuncio da
 visualizzare!`,loading_ads:"Caricamento annunci..."},Fd={boom:"texts/italian/boom",get_continue:"texts/italian/get-and-continue",rocket:"texts/italian/rocket",victory:"texts/italian/victory",text_failed:"texts/italian/text-failed",text_continue:"texts/italian/text-continue",text_replay:"texts/italian/text-replay",text_pause:"texts/italian/text-pause",tutorial_text_failed:"text-failed-it",tutorial_text_good:"text-good-it",effect_good:"texts/italian/good-it",effect_excellent:"texts/italian/excellent-it",effect_great:"texts/italian/great-it",effect_unbelievable:"texts/italian/unbelievable-it"},Bd={Text:Gd,Texture:Fd},Ud={title:"方块配对",lv:"Lv",level:"关卡",invite:"邀请",pause:"暂停",continue:"继续",restart:"重新开始",invite_friends:"邀请好友",failed:"失败",reason_time_out:"时间到！",resurrection:"复活",replay:"重新开始",victory:"胜利",get:"获得",get_continue:"获得并继续",hint_description:"显示一对可配对方块",rocket_description:"消灭两对方块",shuffle_description:"打乱所有方块的顺序",defuse_description:"消除一块炸弹方块",get_now:"立即获得",free:"免费免费",reason_bomb:"炸弹爆炸了！",continue_question:"继续？",skip:"跳过",tutorial_level_3:`在时间结束前
消除所有图标方块`,tutorial_hint:"点击来显示一对可配对方块",rocket:"火箭",tutorial_rocket_tile:`火箭消除后，
还将消除另外两块方块`,ok:"确定",boom:"砰",tutorial_bomb_tile:"在炸弹爆炸前消除所有图标方块",tutorial_level_7:"点击来消除一对炸弹方块",tutorial_level_8:"点击来重新布局方块",tutorial_level_11:"点击来消除两对方块",combo:"连击",good:"真棒",excellent:"太棒了",great:"厉害",unbelievable:"不可思议",loading:"加载中",no_rewards_1:"抱歉，没有奖励！",no_rewards_2:"你取消了广告！",no_ads:"没有可以播放的广告！",loading_ads:"加载广告中……"},Hd={boom:"texts/chinese/boom",get_continue:"texts/chinese/get-and-continue",rocket:"texts/chinese/rocket",victory:"texts/chinese/victory",text_failed:"texts/chinese/text-failed",text_continue:"texts/chinese/text-continue",text_replay:"texts/chinese/text-replay",text_pause:"texts/chinese/text-pause",tutorial_text_failed:"text-failed-zh",tutorial_text_good:"text-good-zh",effect_good:"texts/chinese/good-zh",effect_excellent:"texts/chinese/excellent-zh",effect_great:"texts/chinese/great-zh",effect_unbelievable:"texts/chinese/unbelievable-zh"},Yd={Text:Ud,Texture:Hd},Wd={en:ud,id:pd,ru:vd,ja:Ed,pt:Sd,es:Od,tr:_d,fr:Cd,de:Nd,it:Bd,zh:Yd},Kd=Wd;class zd extends cd{configure(e){super.configure({data:Kd,locale:"en",upperCaseText:!1,...e})}}const jd=zd;class $d extends GameCore.Analytics.BaseAnalytics{isGamePlaying=!1;isGameStartLog=!1;constructor(e,t){super("GLanceAnalytics",{...t},"#E35360"),this.selfLog=!1}processEvent(e,t,s){if(e==U.LOAD_COMPLETE){window.sendCustomAnalyticsEvent(U.GLANCE_GAME_LOAD,{});return}}processGameEnd(e,t,s=-1e5){let o;const i={score:e,highScore:t};s!==-1e5?o={...i,level:s}:o=i,window.sendCustomAnalyticsEvent(U.GLANCE_GAME_END,o)}processGameStart(e,t=-1e5){if(!this.isGameStartLog){this.isGameStartLog=!0,window.sendCustomAnalyticsEvent(U.GLANCE_GAME_START,{});return}let s;const o={score:0,highScore:e};t!==-1e5?s={...o,level:t}:s=o,window.sendCustomAnalyticsEvent(U.GLANCE_GAME_REPLAY,s)}processGameLevel(e){window.sendCustomAnalyticsEvent(U.GLANCE_GAME_LEVEL,{level:e})}processPageView(e){}processLevelStart(e){if(!this.isGamePlaying){const t=window.game.player.getBestScore();this.processGameStart(t,e),this.isGamePlaying=!0}this.isGamePlaying&&this.processGameLevel(e)}processLevelFail(e,t){if(!this.isGamePlaying)return;const s=t||0,o=window.game.player.getBestScore(),i=Math.max(o,s);this.processGameEnd(s,i,e),this.isGamePlaying=!1}processLevelComplete(e,t){const s=t||0;window.sendCustomAnalyticsEvent(U.GLANCE_GAME_LEVEL_COMPLETED,{level:e,score:s})}processGameMilestone(e,t={},s=0,o=0){const i=window.game.player.getBestScore();sendCustomAnalyticsEvent(U.GLANCE_GAME_MILESTONE,{type:e,meta:t,level:s,score:o,highScore:Math.max(i,o)})}processGameLifeEnd(e,t=0,s=0){const o=window.game.player.getBestScore();sendCustomAnalyticsEvent(U.GLANCE_GAME_LIFE_END,{remainingLife:e,level:t,score:s,highScore:Math.max(o,s)})}processIngameTransactions(e,t={},s=0,o=0){const i=window.game.player.getBestScore();sendCustomAnalyticsEvent(U.GLANCE_INGAME_TRANSACTIONS,{transactionType:e,meta:t,level:s,score:o,highScore:Math.max(i,o)})}}const ge={PLAYING:"playing",DYING:"dying",FINISHED:"finished"},Vd={TILE_SELECT:"tile_select",COMBO_1:"combo_1",COLLECT_STARS:"collect_stars",INVALID_MATCH:"invalid_match",COMBO_2:"combo_2",COMBO_3:"combo_3",COMBO_4:"combo_4",COMBO_5:"combo_5",SHUFFLE_ITEM:"shuffle_item",HINT_ITEM:"hint_item",THREE_STARS:"three_stars",PROGRESS_STAR:"progress_star",BOMB_DEFUSE:"bomb_defuse",ROCKET_FLY:"rocket_fly",BOMB_EXPLODE_1:"bomb_explode_1",TICKING_BOMB_BEFORE_EXPLODE:"ticking_bomb_before_explode",EXTRA_TILE_SPAWN:"extra_tile_spawn",CLOSE_POPUP_CLICK:"close_popup_click",GENERAL_BUTTON_CLICK:"use_item_click",CLICKS:"clicks",GIFT_CHARGE:"gift_charge",GIFT_EXPLODE:"gift_explode",GIFT_REVEAL:"gift_reveal",DAILY_REWARD:"daily_reward",LEVEL_START:"level_start",LEVEL_COMPLETE:"level_complete",LEVEL_FAIL:"level_fail",RESCUE_TIMER:"rescue_timer"},Z=Vd,ie=Or(),Xd={TUTORIAL:{KEY:"tutorial-resources",TEXTURE:`./assets/textures/${ie}x/tutorial-resources.png`,JSON:`./assets/textures/${ie}x/tutorial-resources.json`,FRAME:{HAND:"hand",BLANK:"blank",BOMB:"bomb",GUIDE_TILE1:"guide-tile1",GUIDE_TILE2:"guide-tile2",GUIDE_TILE3:"guide-tile3",GUIDE_TILE4:"guide-tile4",GUIDE_TILE5:"guide-tile5",LEAF_LEFT:"leaf-left",LEAF_RIGHT:"leaf-right",ROCKET:"rocket",TEXT_FAILED:"text-failed",TEXT_FAILED_RU:"text-failed-ru",TEXT_FAILED_JA:"text-failed-ja",TEXT_FAILED_ID:"text-failed-id",TEXT_GOOD:"text-good",TEXT_GOOD_RU:"text-good-ru",TEXT_GOOD_JA:"text-good-ja",TEXT_GOOD_ID:"text-good-id",TILE_BG:"tile-bg",CROSS_WRONG:"cross-wrong",DOT_WRONG:"dot-wrong",LINE_WRONG:"line-wrong"}},DEFAULT:{KEY:"default-resources",TEXTURE:`./assets/textures/${ie}x/default-resources.png`,JSON:`./assets/textures/${ie}x/default-resources.json`,FRAME:{BLANK:"blank",PRELOADER:"preloader/loading",LOGO_GIFT:"logo/gift",LOGO_GIFT_ADS:"logo/gift-ad",LOGO_GIFT_WHITE:"logo/gift_white",POPUP:"popup/popup",PROGRESS_CIRCLE_BG:"progress/circle-background",PROGRESS_CIRCLE:"progress/progress-circle",ICON_ADS:"icons/ads",ICON_LOSE:"icons/lose",ICON_BOMB:"icons/bomb",ICON_TIMEOUT_CLOCK:"icons/timeout-clock",ICON_CLOCK:"icons/clock",ICON_MUSIC_ON:"icons/music-on",ICON_MUSIC_OFF:"icons/music-off",ICON_SOUND_ON:"icons/sound-on",ICON_SOUND_OFF:"icons/sound-off",ICON_VIBRATE_ON:"icons/vibrate-on",ICON_VIBRATE_OFF:"icons/vibrate-off",ICON_CONTINUE:"icons/continue",ICON_RESTART:"icons/restart",ICON_INVITE:"icons/invite",ICON_X:"icons/x",BUTTON_CLOSE:"buttons/close",BUTTON_GREEN:"buttons/green",BUTTON_GREEN_SMALL:"buttons/green-small",BUTTON_GREEN_SMALL_BG:"buttons/green-small-bg",BUTTON_ORANGE:"buttons/orange",BUTTON_GREEN_ROUNDED_RECT:"buttons/green-rounded-rect",BUTTON_YELLOW_ROUNDED_RECT:"buttons/yellow-rounded-rect",BUTTON_BLUE_ROUNDED_RECT:"buttons/blue-rounded-rect",BUTTON_RED_CIRCLE:"buttons/red-circle",BUTTON_BG:"buttons/button-bg",BOOM:"texts/boom",GET_AND_CONTINUE:"texts/get-and-continue",ROCKET:"texts/rocket",VICTORY:"texts/victory",X2:"texts/x2",FAILED_TEXT:"texts/text-failed",NO_THANK_TEXT:"texts/no-thank",CONTINUE_TEXT:"texts/text-continue",REPLAY_TEXT:"texts/text-replay",PAUSE_TEXT:"texts/text-pause",BOOM_RU:"texts/russian/boom",GET_AND_CONTINUE_RU:"texts/russian/get-and-continue",ROCKET_RU:"texts/russian/rocket",VICTORY_RU:"texts/russian/victory",FAILED_TEXT_RU:"texts/russian/text-failed",CONTINUE_RU:"texts/russian/text-continue",REPLAY_RU:"texts/russian/text-replay",PAUSE_TEXT_RU:"texts/russian/text-pause",BOOM_JA:"texts/japanese/boom",GET_AND_CONTINUE_JA:"texts/japanese/get-and-continue",ROCKET_JA:"texts/japanese/rocket",VICTORY_JA:"texts/japanese/victory",FAILED_TEXT_JA:"texts/japanese/text-failed",CONTINUE_JA:"texts/japanese/text-continue",REPLAY_JA:"texts/japanese/text-replay",PAUSE_TEXT_JA:"texts/japanese/text-pause",BOOM_ID:"texts/indonesian/boom",GET_AND_CONTINUE_ID:"texts/indonesian/get-and-continue",ROCKET_ID:"texts/indonesian/rocket",VICTORY_ID:"texts/indonesian/victory",FAILED_TEXT_ID:"texts/indonesian/text-failed",CONTINUE_ID:"texts/indonesian/text-continue",REPLAY_ID:"texts/indonesian/text-replay",PAUSE_TEXT_ID:"texts/indonesian/text-pause",BOOM_PT:"texts/portuguese/boom",GET_AND_CONTINUE_PT:"texts/portuguese/get-and-continue",ROCKET_PT:"texts/portuguese/rocket",VICTORY_PT:"texts/portuguese/victory",FAILED_TEXT_PT:"texts/portuguese/text-failed",CONTINUE_PT:"texts/portuguese/text-continue",REPLAY_PT:"texts/portuguese/text-replay",PAUSE_TEXT_PT:"texts/portuguese/text-pause",BOOM_ES:"texts/spanish/boom",GET_AND_CONTINUE_ES:"texts/spanish/get-and-continue",ROCKET_ES:"texts/spanish/rocket",VICTORY_ES:"texts/spanish/victory",FAILED_TEXT_ES:"texts/spanish/text-failed",CONTINUE_ES:"texts/spanish/text-continue",REPLAY_ES:"texts/spanish/text-replay",PAUSE_TEXT_ES:"texts/spanish/text-pause",BOOM_IT:"texts/italian/boom",GET_AND_CONTINUE_IT:"texts/italian/get-and-continue",ROCKET_IT:"texts/italian/rocket",VICTORY_IT:"texts/italian/victory",FAILED_TEXT_IT:"texts/italian/text-failed",CONTINUE_IT:"texts/italian/text-continue",REPLAY_IT:"texts/italian/text-replay",PAUSE_TEXT_IT:"texts/italian/text-pause",BOOM_DE:"texts/german/boom",GET_AND_CONTINUE_DE:"texts/german/get-and-continue",ROCKET_DE:"texts/german/rocket",VICTORY_DE:"texts/german/victory",FAILED_TEXT_DE:"texts/german/text-failed",CONTINUE_DE:"texts/german/text-continue",REPLAY_DE:"texts/german/text-replay",PAUSE_TEXT_DE:"texts/german/text-pause",BOOM_FR:"texts/french/boom",GET_AND_CONTINUE_FR:"texts/french/get-and-continue",ROCKET_FR:"texts/french/rocket",VICTORY_FR:"texts/french/victory",FAILED_TEXT_FR:"texts/french/text-failed",CONTINUE_FR:"texts/french/text-continue",REPLAY_FR:"texts/french/text-replay",PAUSE_TEXT_FR:"texts/french/text-pause",BOOM_TR:"texts/turkish/boom",GET_AND_CONTINUE_TR:"texts/turkish/get-and-continue",ROCKET_TR:"texts/turkish/rocket",VICTORY_TR:"texts/turkish/victory",FAILED_TEXT_TR:"texts/turkish/text-failed",CONTINUE_TR:"texts/turkish/text-continue",REPLAY_TR:"texts/turkish/text-replay",PAUSE_TEXT_TR:"texts/turkish/text-pause",BOOM_ZH:"texts/chinese/boom",GET_AND_CONTINUE_ZH:"texts/chinese/get-and-continue",ROCKET_ZH:"texts/chinese/rocket",VICTORY_ZH:"texts/chinese/victory",FAILED_TEXT_ZH:"texts/chinese/text-failed",CONTINUE_ZH:"texts/chinese/text-continue",REPLAY_ZH:"texts/chinese/text-replay",PAUSE_TEXT_ZH:"texts/chinese/text-pause",ART_BG_LIGHT:"art/bg-light",ART_WHITE_GLOW:"art/white-glow",RESULT_RIBBON:"result-screen/ribbon",RESULT_STAR:"result-screen/star",RESULT_VICTORY_TEXT:"result-screen/victory-text"}},EFFECTS:{KEY:"effects-resources",PATH:`./assets/textures/${ie}x/`,JSON:`./assets/textures/${ie}x/effects-resources.json`,FRAME:{BLANK:"blank",CAPTURE_PATH_START:"capture-path/capture-path-start",CAPTURE_PATH_MIDDLE:"capture-path/capture-path-middle",CAPTURE_PATH_END:"capture-path/capture-path-end",POLISH_EFFECT:"polish-effect/polish-effect-",ROCKET_TAIL:"rocket-tail-effect/fire-explosive-",COMBO_EFFECT_PARTICLE:"combo-effect/combo-particle",WHITE_SMOKE:"big-rocket-tail-effect/white-smoke",YELLOW_SMOKE:"big-rocket-tail-effect/yellow-smoke",FX_COMET:"comet",FX_COMET_DARK:"comet-dark",FX_SPARK:"spark",FX_CIRCLE:"circle",FX_HINT_GLOW:"hint-glow",FX_STAR_WHITE:"star-white",FX_STAR_YELLOW:"star-yellow",FX_STAR_YELLOW_DARK:"star-yellow-dark",TEXT_GOOD:"texts/good",TEXT_GOOD_LIGHT:"texts/good-light",TEXT_GREAT:"texts/great",TEXT_GREAT_LIGHT:"texts/great-light",TEXT_EXCELLENT:"texts/excellent",TEXT_EXCELLENT_LIGHT:"texts/excellent-light",TEXT_UNBELIEVABLE:"texts/unbelievable",TEXT_UNBELIEVABLE_LIGHT:"texts/unbelievable-light",TEXT_GOOD_RU:"texts/russian/good-ru",TEXT_GREAT_RU:"texts/russian/great-ru",TEXT_EXCELLENT_RU:"texts/russian/excellent-ru",TEXT_UNBELIEVABLE_RU:"texts/russian/unbelievable-ru",TEXT_GOOD_JA:"texts/japanese/good-ja",TEXT_GREAT_JA:"texts/japanese/great-ja",TEXT_EXCELLENT_JA:"texts/japanese/excellent-ja",TEXT_UNBELIEVABLE_JA:"texts/japanese/unbelievable-ja",TEXT_GOOD_PT:"texts/portuguese/good-pt",TEXT_GREAT_PT:"texts/portuguese/great-pt",TEXT_EXCELLENT_PT:"texts/portuguese/excellent-pt",TEXT_UNBELIEVABLE_PT:"texts/portuguese/unbelievable-pt",TEXT_GOOD_ID:"texts/indonesian/good-id",TEXT_GREAT_ID:"texts/indonesian/great-id",TEXT_EXCELLENT_ID:"texts/indonesian/excellent-id",TEXT_UNBELIEVABLE_ID:"texts/indonesian/unbelievable-id",TEXT_GOOD_ES:"texts/spanish/good-es",TEXT_GREAT_ES:"texts/spanish/great-es",TEXT_EXCELLENT_ES:"texts/spanish/excellent-es",TEXT_UNBELIEVABLE_ES:"texts/spanish/unbelievable-es",TEXT_GOOD_FR:"texts/french/good-fr",TEXT_GREAT_FR:"texts/french/great-fr",TEXT_EXCELLENT_FR:"texts/french/excellent-fr",TEXT_UNBELIEVABLE_FR:"texts/french/unbelievable-fr",TEXT_GOOD_DE:"texts/german/good-de",TEXT_GREAT_DE:"texts/german/great-de",TEXT_EXCELLENT_DE:"texts/german/excellent-de",TEXT_UNBELIEVABLE_DE:"texts/german/unbelievable-de",TEXT_GOOD_IT:"texts/italian/good-it",TEXT_GREAT_IT:"texts/italian/great-it",TEXT_EXCELLENT_IT:"texts/italian/excellent-it",TEXT_UNBELIEVABLE_IT:"texts/italian/unbelievable-it",TEXT_GOOD_TR:"texts/turkish/good-tr",TEXT_GREAT_TR:"texts/turkish/great-tr",TEXT_EXCELLENT_TR:"texts/turkish/excellent-tr",TEXT_UNBELIEVABLE_TR:"texts/turkish/unbelievable-tr",TEXT_GOOD_ZH:"texts/chinese/good-zh",TEXT_GREAT_ZH:"texts/chinese/great-zh",TEXT_EXCELLENT_ZH:"texts/chinese/excellent-zh",TEXT_UNBELIEVABLE_ZH:"texts/chinese/unbelievable-zh",FX_CONFETTI_SMALL_1:"confetti/small-1",FX_CONFETTI_SMALL_2:"confetti/small-2",FX_CONFETTI_SMALL_3:"confetti/small-3",FX_CONFETTI_SMALL_4:"confetti/small-4",FX_CONFETTI_HEXAGON:"confetti/hexagon-",EFFECT_BOMB_DEFUSE:"bomb-defuse/bomb-defuse-",EFFECT_BOMB_EXPLOSION:"bomb-explosion/bomb-explosion-",EFFECT_ROCKET_EXPLOSION:"rocket-explosion/rocket-explosion-",FX_HIGHLIGHT:"fx-items/highlight",ANIMATION_STAR_X:"star-x/star-",ANIMATION_STAR_Y:"star-y/star-",PREFIX_ANIMATION_RIBBON_CONFETTI_A:"ribbon/falling-confetti/confetti-a/confetti-a-",PREFIX_ANIMATION_RIBBON_CONFETTI_B:"ribbon/falling-confetti/confetti-b/confetti-b-",PREFIX_ANIMATION_RIBBON_CONFETTI_C:"ribbon/falling-confetti/confetti-c/confetti-c-",PREFIX_ANIMATION_RIBBON_CONFETTI_D:"ribbon/falling-confetti/confetti-d/confetti-d-"}},GAMEPLAY:{KEY:"gameplay-resources",PATH:`./assets/textures/${ie}x/`,JSON:`./assets/textures/${ie}x/gameplay-resources.json`,FRAME:{BLANK:"blank",LAYOUT_HEADER:"layout/header",LAYOUT_FOOTER:"layout/footer",LAYOUT_HEADER_LEFT:"layout/landscape-header-left",LAYOUT_HEADER_RIGHT:"layout/landscape-header-right",LAYOUT_HEADER_MIDDLE:"layout/landscape-header-middle",BUTTON_WOOD_SMALL:"buttons/wood-small",BUTTON_YELLOW_CIRCLE:"buttons/yellow-circle",TIMER_BG:"timer/bg",DEV_TOOL_ARROW:"dev-tool/arrow",DEV_TOOL_RESET:"dev-tool/reset",DEV_TOOL_BOMB:"dev-tool/bomb",DEV_TOOL_CLOCK:"dev-tool/clock",DEV_TOOL_HAND:"dev-tool/hand",DEV_TOOL_NEW_GAME:"dev-tool/new-game",PROGRESS_BAR_LEFT:"progress/bar-left",PROGRESS_BAR_MID:"progress/bar-mid",PROGRESS_BAR_RIGHT:"progress/bar-right",PROGRESS_STAR:"progress/bar-star",PROGRESS_BG_COMBO:"progress/bg-combo",PROGRESS_BAR_COMBO:"progress/bar-combo",ITEM_SHUFFLE:"items/shuffle",HINT_ITEM:"items/hint",ROCKET_ITEM:"items/rocket",DEFUSE_ITEM:"items/defuse",ITEM_SHARE:"items/share",ITEM_BG_ITEM:"items/bg-item",ITEM_BG_AMOUNT:"items/bg-amount",ITEM_SHUFFLE_LOCK:"items/shuffle-lock",ITEM_HINT_LOCK:"items/hint-lock",ITEM_ROCKET_LOCK:"items/rocket-lock",ITEM_DEFUSE_LOCK:"items/defuse-lock",ITEM_BG_LOCK:"items/bg-item-lock",NOTE_LOCK:"items/note-lock",NOTE_INVITE:"items/note-invite",NOTE_FREE:"items/note-free",NOTE_FREE_LONG:"items/note-free-long",BOTTOM_TILE_FRAGMENT:"effect/bottom-tile-fragment",LEF_TILE_FRAGMENT:"effect/left-tile-fragment",RIGHT_TILE_FRAGMENT:"effect/right-tile-fragment",TOP_TILE_FRAGMENT:"effect/top-tile-fragment",EFFECT_SPARK:"effect/spark",EFFECT_LONG_ROCKET:"effect/long-rocket",EFFECT_SHORT_ROCKET:"effect/short-rocket",EFFECT_CIRCLE:"effect/circle",EFFECT_TRAIL_STAR:"effect/trail-star",EFFECT_TILE_ROCKET:"effect/tile-rocket",EFFECT_TILE_HIGHLIGHT:"effect/tile-highlight/highlight-",EFFECT_TILE_OUTLINE:"effect/tile-select-bg",HINT_LINE_DOT:"effect/hint-line-dot",ICON_CLOCK:"icons/clock",ICON_BOMB:"icons/bomb",ICON_STAR_BIG:"icons/star-big",ICON_PAUSE:"icons/pause",TILE_BOMB:"blank",TILE_ROCKET:"tiles/rocket",TILE_BG:"tiles/tile-bg"}},TILES:{BIRD:{KEY:"bird-resources",TEXTURE:`./assets/textures/${ie}x/bird-resources.png`,JSON:`./assets/textures/${ie}x/bird-resources.json`,FRAME:{TILE_PREFIX:"tile-",START:1,END:28}},CAKE:{KEY:"cake-resources",TEXTURE:`./assets/textures/${ie}x/cake-resources.png`,JSON:`./assets/textures/${ie}x/cake-resources.json`,FRAME:{TILE_PREFIX:"tile-",START:1,END:28}},FRUIT:{KEY:"fruit-resources",TEXTURE:`./assets/textures/${ie}x/fruit-resources.png`,JSON:`./assets/textures/${ie}x/fruit-resources.json`,FRAME:{TILE_PREFIX:"tile-",START:1,END:28}},CANDY:{KEY:"candy-resources",TEXTURE:`./assets/textures/${ie}x/candy-resources.png`,JSON:`./assets/textures/${ie}x/candy-resources.json`,FRAME:{TILE_PREFIX:"tile-",START:1,END:28}},FLOWER:{KEY:"flower-resources",TEXTURE:`./assets/textures/${ie}x/flower-resources.png`,JSON:`./assets/textures/${ie}x/flower-resources.json`,FRAME:{TILE_PREFIX:"tile-",START:1,END:44}},UMBRELLA:{KEY:"umbrella-resources",TEXTURE:`./assets/textures/${ie}x/umbrella-resources.png`,JSON:`./assets/textures/${ie}x/umbrella-resources.json`,FRAME:{TILE_PREFIX:"tile-",START:1,END:30}},FOOD:{KEY:"food-resources",TEXTURE:`./assets/textures/${ie}x/food-resources.png`,JSON:`./assets/textures/${ie}x/food-resources.json`,FRAME:{TILE_PREFIX:"tile-",START:1,END:30}}}},A=Xd,{EFFECTS:_e,GAMEPLAY:xi}=A,{KEY:ut,FRAME:ht}=_e,V={CONFETTI_STAR_X:{KEY:"confetti-star-x",TEXTURE:ut,PREFIX:ht.ANIMATION_STAR_X,FRAME_RATE:4,END:4,ZERO_PAD:0},CONFETTI_STAR_Y:{KEY:"confetti-star-y",TEXTURE:ut,PREFIX:ht.ANIMATION_STAR_Y,FRAME_RATE:4,END:4,ZERO_PAD:0},RIBBON_A:{KEY:"animation-ribbon-a",TEXTURE:ut,PREFIX:ht.PREFIX_ANIMATION_RIBBON_CONFETTI_A,FRAME_RATE:16,END:3,ZERO_PAD:0},RIBBON_B:{KEY:"animation-ribbon-b",TEXTURE:ut,PREFIX:ht.PREFIX_ANIMATION_RIBBON_CONFETTI_B,FRAME_RATE:16,END:4,ZERO_PAD:0},RIBBON_C:{KEY:"animation-ribbon-c",TEXTURE:ut,PREFIX:ht.PREFIX_ANIMATION_RIBBON_CONFETTI_C,FRAME_RATE:16,END:4,ZERO_PAD:0},RIBBON_D:{KEY:"animation-ribbon-d",TEXTURE:ut,PREFIX:ht.PREFIX_ANIMATION_RIBBON_CONFETTI_D,FRAME_RATE:16,END:4,ZERO_PAD:0},POLISH_EFFECT:{KEY:"polish-effect-animation",TEXTURE:_e.KEY,PREFIX:_e.FRAME.POLISH_EFFECT,FRAME_RATE:30,END:5,ZERO_PAD:1},BOMB_EXPLOSION:{KEY:"bomb-explosion-animation",TEXTURE:_e.KEY,PREFIX:_e.FRAME.EFFECT_BOMB_EXPLOSION,FRAME_RATE:16,END:8,ZERO_PAD:1},BOMB_DEFUSE:{KEY:"bomb-defuse-animation",TEXTURE:_e.KEY,PREFIX:_e.FRAME.EFFECT_BOMB_DEFUSE,FRAME_RATE:16,END:8,ZERO_PAD:1},ROCKET_EXPLOSION:{KEY:"rocket-explosion-animation",TEXTURE:_e.KEY,PREFIX:_e.FRAME.EFFECT_ROCKET_EXPLOSION,FRAME_RATE:16,END:8,ZERO_PAD:1},ROCKET_TAIL:{KEY:"rocket-tail-animation",TEXTURE:_e.KEY,PREFIX:_e.FRAME.ROCKET_TAIL,FRAME_RATE:60,END:70,ZERO_PAD:1},TILE_HIGHLIGHT:{KEY:"tile-highlight-animation",TEXTURE:xi.KEY,PREFIX:xi.FRAME.EFFECT_TILE_HIGHLIGHT,FRAME_RATE:31,END:31,ZERO_PAD:1}},Zd={STATUS:{READY:"ready",RUNNING:"running",STOPPED:"stopped"}},qd=Zd,{STATUS:ft}=qd;class Me{state;scene;constructor(e){this.scene=e}init(){this.setState(ft.READY)}start(){this.isRunning()||this.setState(ft.RUNNING)}stop(){this.isRunning()&&this.setState(ft.STOPPED)}setState(e){this.state=e}isReady(){return this.state===ft.READY}isRunning(){return this.state===ft.RUNNING}isStopped(){return this.state===ft.STOPPED}}const{KEY:Jd,TEXTURE:Qd,FRAME_RATE:em,END:tm,PREFIX:sm,ZERO_PAD:om}=V.BOMB_DEFUSE;class im extends Phaser.Animations.Animation{constructor(e){const t={repeat:0,frameRate:em,frames:e.generateFrameNames(Qd,{prefix:sm,end:tm,zeroPad:om}),showOnStart:!0,hideOnComplete:!0,skipMissedFrames:!0};super(e,Jd,t)}}const rm=im,{KEY:am,TEXTURE:nm,FRAME_RATE:lm,END:cm,PREFIX:dm,ZERO_PAD:mm}=V.BOMB_EXPLOSION;class um extends Phaser.Animations.Animation{constructor(e){const t={repeat:0,frameRate:lm,frames:e.generateFrameNames(nm,{prefix:dm,end:cm,zeroPad:mm}),showOnStart:!0,hideOnComplete:!0,skipMissedFrames:!0};super(e,am,t)}}const hm=um,{KEY:fm,TEXTURE:pm,FRAME_RATE:bm,END:gm,PREFIX:vm,ZERO_PAD:Tm}=V.POLISH_EFFECT;class wm extends Phaser.Animations.Animation{constructor(e){const t={repeat:0,frameRate:bm,frames:e.generateFrameNames(pm,{prefix:vm,end:gm,zeroPad:Tm}),showOnStart:!0,hideOnComplete:!0,skipMissedFrames:!0};super(e,fm,t)}}const Em=wm,{KEY:ym,TEXTURE:Pm,FRAME_RATE:Sm,END:km,PREFIX:xm,ZERO_PAD:Om}=V.ROCKET_EXPLOSION;class Rm extends Phaser.Animations.Animation{constructor(e){const t={repeat:0,frameRate:Sm,frames:e.generateFrameNames(Pm,{prefix:xm,end:km,zeroPad:Om}),showOnStart:!0,hideOnComplete:!0,skipMissedFrames:!0};super(e,ym,t)}}const Am=Rm,{KEY:_m,TEXTURE:Im,FRAME_RATE:Mm,END:Cm,PREFIX:Lm,ZERO_PAD:Dm}=V.ROCKET_TAIL;class Nm extends Phaser.Animations.Animation{constructor(e){const t={repeat:-1,frameRate:Mm,frames:e.generateFrameNames(Im,{prefix:Lm,end:Cm,zeroPad:Dm}),showOnStart:!0,hideOnComplete:!0,skipMissedFrames:!0};super(e,_m,t)}}const Gm=Nm,{KEY:Fm,TEXTURE:Bm,FRAME_RATE:Um,END:Hm,PREFIX:Ym,ZERO_PAD:Wm}=V.TILE_HIGHLIGHT;class Km extends Phaser.Animations.Animation{constructor(e){const t={repeat:-1,frameRate:Um,frames:e.generateFrameNames(Bm,{prefix:Ym,end:Hm,zeroPad:Wm}),showOnStart:!0,hideOnComplete:!0,skipMissedFrames:!0};super(e,Fm,t)}}const zm=Km;class jm extends Me{scene;moveDuration=500;isMoveTilesCompleted;pairWrongTween;constructor(e){super(e),this.scene=e,this.isMoveTilesCompleted=!0,this.createAnimations()}createAnimations(){const{POLISH_EFFECT:e,BOMB_EXPLOSION:t,BOMB_DEFUSE:s,ROCKET_EXPLOSION:o,ROCKET_TAIL:i,TILE_HIGHLIGHT:r}=V,n=new Gm(this.scene.anims),a=new rm(this.scene.anims),l=new Em(this.scene.anims),d=new hm(this.scene.anims),u=new Am(this.scene.anims),m=new zm(this.scene.anims);this.scene.anims.add(s.KEY,a),this.scene.anims.add(i.KEY,n),this.scene.anims.add(e.KEY,l),this.scene.anims.add(t.KEY,d),this.scene.anims.add(o.KEY,u),this.scene.anims.add(r.KEY,m)}startBoard(e){const{boardManager:t,levelHandler:s}=this.scene,{rows:o,columns:i}=s.getConfigs(),r=t.getTileSize()+1,n=t.boardMap[1][1],a=n.x+r*(i-1)/2,l=n.y+r*(o-1)/2,d=a,u=l,m=[],f=600,h=f/e.length;return e.forEach(v=>{const{x:b,y:g,scale:T}=v;m.push({x:b,y:g,scale:T}),v.setX(d),v.setY(u),v.setAlpha(0),v.setScale(0)}),this.scene.tweens.add({targets:e,duration:f,props:{y:{value:{getEnd:(v,b,g,T)=>m[T].y},duration:f-f/12},x:{value:{getEnd:(v,b,g,T)=>m[T].x},duration:f-f/5},scale:{value:{getEnd:(v,b,g,T)=>m[T].scale},delay:0},alpha:{value:1,duration:f-100}},delay:(v,b,g,T)=>{const y=Phaser.Math.RND.between(0,h*T/2);return h*T-y}})}pairWrong(e,t=2){if(this.pairWrongTween?.remove(),t<1)return;const s=Math.random()*3-3,o={x:`+=${s}`,y:`-=${s}`},i={targets:e,duration:30,yoyo:!0,props:o,ease:Phaser.Math.Easing.Expo.Out};this.pairWrongTween=this.scene.add.tween({...i,onComplete:()=>{o.x=`-=${s}`,o.y=`+=${s}`,this.pairWrongTween=this.scene.add.tween({...i,onComplete:()=>{this.pairWrong(e,t-1)}})}})}capturing(e){e.forEach((t,s)=>{t.explosive(s)})}moveRows(e,t=0,s){const{tile:o,fromRow:i,toRow:r}=e;if(!i||!r)return;this.isMoveTilesCompleted=!1,this.updateNextState(o);const n=this.scene.boardManager.getTileSize()+1,a=r*n-i*n,d=o.y+a;o.nextY=d,this.scene.tweens.add({targets:[o],delay:t,duration:s||this.moveDuration,completeDelay:300,ease:Phaser.Math.Easing.Quartic.InOut,props:{y:d},onUpdate:()=>{this.isMoveTilesCompleted=!1},onStop:()=>{o.setY(d),o.nextY=null},onComplete:()=>{o.nextY=null,this.isMoveTilesCompleted=!0}})}moveColumns(e,t=0,s){const{tile:o,fromColumn:i,toColumn:r}=e;if(!i||!r)return;this.isMoveTilesCompleted=!1,this.updateNextState(o);const n=this.scene.boardManager.getTileSize()+1,a=r*n-i*n,d=o.x+a;o.nextX=d,this.scene.tweens.add({targets:[o],delay:t,duration:s||this.moveDuration,completeDelay:300,ease:Phaser.Math.Easing.Quartic.InOut,props:{x:d},onUpdate:()=>{this.isMoveTilesCompleted=!1},onStop:()=>{o.setX(d),o.nextX=null},onComplete:()=>{o.nextX=null,this.isMoveTilesCompleted=!0}})}updateNextState(e){this.scene.tweens.getTweensOf(e).forEach(t=>{t.stop(1),e.nextX&&e.setX(e.nextX),e.nextY&&e.setX(e.nextY),e.nextX=null,e.nextY=null}),this.scene.tweens.killTweensOf(e)}}const $m={BOMB:"bomb",ROCKET:"rocket",EMPTY:"empty"},j={SIZE:37,STATUS:{READY:"ready",MOVING:"moving",CAPTURING:"capturing",CAPTURED:"captured"},EVENTS:{NEXT_TURN:"next-turn",CAPTURING:"capturing",INTERACTION:"interaction",NO_PATH_FOUND:"no-path-found",ROCKET_EXPLODE:"rocket-explode",FIRST_INTERACTION:"first-interaction"},SPECIALS:$m,HASH:{1:"t01",2:"t02",3:"t03",4:"t04",5:"t05",6:"t06",7:"t07",8:"t08",9:"t09",10:"t10",11:"t11",12:"t12",13:"t13",14:"t14",15:"t15",16:"t16",17:"t17",empty:"i01",rocket:"i02"}};class Vm{scene;tileSize;constructor(e){this.scene=e,this.tileSize=0}getTileSize(){return this.tileSize===0?j.SIZE:this.tileSize}calculateTileSize(){this.tileSize=0;const{rows:e,columns:t}=this.scene.levelHandler.getConfigs(),{width:s,height:o}=this.scene.gameZone,{height:i}=this.scene.layoutManager.objects.footerBG,{height:r}=this.scene.layoutManager.objects.headerBG,n=.5+e+.5,a=.5+t+.5,l=s,d=o-i-r,u=Math.floor(l/a),m=Math.floor(d/n);this.tileSize=Math.min(u,m,65)}}const Xm={BACKGROUND:1,FIREWORKS:5,ITEM:10,LOGO:15,BUTTON:20,TILE:25,TEXT:30,EFFECT:32,BOMB:34,ROCKET:35,ENCOURAGING:38,MESSAGE:40,POPUP:45,PRIORITY:80,DEBUG:90,ON_TOP:1e4},W=Xm,Zm={STATUS:{READY:"ready",RUNNING:"running",STOPPED:"stopped"}},ss=Zm,qm=35,Jm=3;class fa extends Phaser.GameObjects.Graphics{tileSize;rectRadius;topLeftCurve;topRightCurve;bottomRightCurve;bottomLeftCurve;constructor(e,t,s){super(e),this.tileSize=t||qm,this.rectRadius=s||Jm,this.setDepth(W.TILE+1),this.createCurves(),this.scene.events.on(Phaser.Scenes.Events.UPDATE,this.update),this.scene.add.existing(this)}createCurves(){const e=this.rectRadius,t=this.tileSize,s=t-2*e;this.topRightCurve=new Phaser.Curves.QuadraticBezier(new Phaser.Math.Vector2(s/2,-t/2),new Phaser.Math.Vector2(t/2,-t/2),new Phaser.Math.Vector2(t/2,-s/2)),this.topLeftCurve=new Phaser.Curves.QuadraticBezier(new Phaser.Math.Vector2(-t/2,-s/2),new Phaser.Math.Vector2(-t/2,-t/2),new Phaser.Math.Vector2(-s/2,-t/2)),this.bottomLeftCurve=new Phaser.Curves.QuadraticBezier(new Phaser.Math.Vector2(-s/2,t/2),new Phaser.Math.Vector2(-t/2,t/2),new Phaser.Math.Vector2(-t/2,s/2)),this.bottomRightCurve=new Phaser.Curves.QuadraticBezier(new Phaser.Math.Vector2(t/2,s/2),new Phaser.Math.Vector2(t/2,t/2),new Phaser.Math.Vector2(s/2,t/2))}stop(){this.clear(),this.scene.events.off(Phaser.Scenes.Events.UPDATE,this.update)}drawCountdown(e,t){const s=this.tileSize,o=this.rectRadius,i=s-2*o,r=Math.atan(i/s),n=Math.PI/2-2*r;let l=e/t*2*Math.PI;if(this.clear(),this.lineStyle(0,0,1),this.fillStyle(0,.25),l!==0){if(l===Math.PI*2){this.fillRoundedRect(-s/2,-s/2,s,s,o);return}if(this.beginPath(),this.moveTo(0,0),this.lineTo(0,-s/2),l>r)this.lineTo(i/2,-s/2),l-=r;else{this.lineTo(Math.tan(l)*s/2,-s/2),this.lineTo(0,0),this.closePath(),this.fillPath();return}if(this.lineTo(0,0),this.closePath(),this.fillPath(),l>n)this.slice(i/2,-i/2,o,-Math.PI/2,0,!1),l-=n,this.fillPath(),this.beginPath(),this.moveTo(0,0),this.lineTo(i/2,-s/2),this.lineTo(i/2,-i/2),this.lineTo(s/2,-i/2),this.lineTo(0,0),this.closePath(),this.fillPath();else{const d=l/n;this.beginPath(),this.arc(i/2,-i/2,o,-Math.PI/2,-Math.PI/2+d*Math.PI/2,!1),this.fillPath();const u=this.topRightCurve.getPoint(d);this.beginPath(),this.moveTo(0,0),this.lineTo(i/2,-s/2),this.lineTo(u.x,u.y),this.lineTo(0,0),this.closePath(),this.fillPath();return}if(this.beginPath(),this.moveTo(0,0),this.lineTo(s/2,-i/2),l>r)this.lineTo(s/2,0),l-=r;else{this.lineTo(s/2,-i/2- -Math.tan(l)*s/2),this.lineTo(0,0),this.closePath(),this.fillPath();return}if(this.lineTo(0,0),this.closePath(),this.fillPath(),this.beginPath(),this.moveTo(0,0),this.lineTo(s/2,0),l>r)this.lineTo(s/2,i/2),l-=r;else{this.lineTo(s/2,Math.tan(l)*s/2),this.lineTo(0,0),this.closePath(),this.fillPath();return}if(this.lineTo(0,0),this.closePath(),this.fillPath(),l>n)this.slice(i/2,i/2,o,0,Math.PI/2,!1),l-=n,this.fillPath(),this.beginPath(),this.moveTo(0,0),this.lineTo(s/2,i/2),this.lineTo(i/2,i/2),this.lineTo(i/2,s/2),this.lineTo(0,0),this.closePath(),this.fillPath();else{const d=l/n;this.beginPath(),this.arc(i/2,i/2,o,0,d*Math.PI/2,!1),this.fillPath();const u=this.bottomRightCurve.getPoint(d);this.beginPath(),this.moveTo(0,0),this.lineTo(s/2,i/2),this.lineTo(u.x,u.y),this.lineTo(0,0),this.closePath(),this.fillPath();return}if(this.beginPath(),this.moveTo(0,0),this.lineTo(i/2,s/2),l>r)this.lineTo(0,s/2),l-=r;else{this.lineTo(i/2-Math.tan(l)*s/2,s/2),this.lineTo(0,0),this.closePath(),this.fillPath();return}if(this.lineTo(0,0),this.closePath(),this.fillPath(),this.beginPath(),this.moveTo(0,0),this.lineTo(0,s/2),l>r)this.lineTo(-i/2,s/2),l-=r;else{this.lineTo(-Math.tan(l)*s/2,s/2),this.lineTo(0,0),this.closePath(),this.fillPath();return}if(this.lineTo(0,0),this.closePath(),this.fillPath(),l>n)this.slice(-i/2,i/2,o,Math.PI/2,Math.PI,!1),l-=n,this.fillPath(),this.beginPath(),this.moveTo(0,0),this.lineTo(-i/2,s/2),this.lineTo(-i/2,i/2),this.lineTo(-s/2,i/2),this.lineTo(0,0),this.closePath(),this.fillPath();else{const d=l/n;this.beginPath(),this.arc(-i/2,i/2,o,Math.PI/2,Math.PI/2+d*Math.PI/2,!1),this.fillPath();const u=this.bottomLeftCurve.getPoint(d);this.beginPath(),this.moveTo(0,0),this.lineTo(-i/2,s/2),this.lineTo(u.x,u.y),this.lineTo(0,0),this.closePath(),this.fillPath();return}if(this.beginPath(),this.moveTo(0,0),this.lineTo(-s/2,i/2),l>r)this.lineTo(-s/2,0),l-=r;else{this.lineTo(-s/2,i/2-Math.tan(l)*s/2),this.lineTo(0,0),this.closePath(),this.fillPath();return}if(this.lineTo(0,0),this.closePath(),this.fillPath(),this.beginPath(),this.moveTo(0,0),this.lineTo(-s/2,0),l>r)this.lineTo(-s/2,-i/2),l-=r;else{this.lineTo(-s/2,-Math.tan(l)*s/2),this.lineTo(0,0),this.closePath(),this.fillPath();return}if(this.lineTo(0,0),this.closePath(),this.fillPath(),l>n)this.slice(-i/2,-i/2,o,Math.PI,3*Math.PI/2,!1),l-=n,this.fillPath(),this.beginPath(),this.moveTo(0,0),this.lineTo(-s/2,-i/2),this.lineTo(-i/2,-i/2),this.lineTo(-i/2,-s/2),this.lineTo(0,0),this.closePath(),this.fillPath();else{const d=l/n;this.beginPath(),this.arc(-i/2,-i/2,o,Math.PI,Math.PI+d*Math.PI/2,!1),this.fillPath();const u=this.topLeftCurve.getPoint(d);this.beginPath(),this.moveTo(0,0),this.lineTo(-s/2,-i/2),this.lineTo(u.x,u.y),this.lineTo(0,0),this.closePath(),this.fillPath();return}if(this.beginPath(),this.moveTo(0,0),this.lineTo(-i/2,-s/2),l>r)this.lineTo(0,-s/2),l-=r;else{this.lineTo(-i/2- -Math.tan(l)*s/2,-s/2),this.lineTo(0,0),this.closePath(),this.fillPath();return}this.lineTo(0,0),this.closePath(),this.fillPath()}}}class Qm{scene;config;isStarted;tween;constructor(e,t){if(t.targets.length<1)return;this.buildConfig(e,t);const{scene:s}=this.config.targets[0];s&&(this.scene=s,this.isStarted=!1,this.tween=s.tweens.create(this.config))}buildConfig(e,t){this.config=Ye(e,t)}play(){if(this.tween){if(this.isStarted&&this.tween.hasStarted){this.restart();return}this.tween.play(),this.isStarted=!0}}restart(){this.tween?.restart()}stop(){this.tween?.stop()}remove(){this.tween?.remove()}next(e){return this.tween?(this.tween.off(Phaser.Tweens.Events.TWEEN_COMPLETE,e),this.tween.once(Phaser.Tweens.Events.TWEEN_COMPLETE,e),this.tween):null}}const Pe=Qm;var eu=4,tu=.001,su=1e-7,ou=10,Zt=11,ns=1/(Zt-1),iu=typeof Float32Array=="function";function pa(c,e){return 1-3*e+3*c}function ba(c,e){return 3*e-6*c}function ga(c){return 3*c}function Is(c,e,t){return((pa(e,t)*c+ba(e,t))*c+ga(e))*c}function va(c,e,t){return 3*pa(e,t)*c*c+2*ba(e,t)*c+ga(e)}function ru(c,e,t,s,o){var i,r,n=0;do r=e+(t-e)/2,i=Is(r,s,o)-c,i>0?t=r:e=r;while(Math.abs(i)>su&&++n<ou);return r}function au(c,e,t,s){for(var o=0;o<eu;++o){var i=va(e,t,s);if(i===0)return e;var r=Is(e,t,s)-c;e-=r/i}return e}function nu(c){return c}var lu=function(e,t,s,o){if(!(0<=e&&e<=1&&0<=s&&s<=1))throw new Error("bezier x values must be in [0, 1] range");if(e===t&&s===o)return nu;for(var i=iu?new Float32Array(Zt):new Array(Zt),r=0;r<Zt;++r)i[r]=Is(r*ns,e,s);function n(a){for(var l=0,d=1,u=Zt-1;d!==u&&i[d]<=a;++d)l+=ns;--d;var m=(a-i[d])/(i[d+1]-i[d]),f=l+m*ns,h=va(f,e,s);return h>=tu?au(a,f,e,s):h===0?f:ru(a,l,l+ns,e,s)}return function(l){return l===0?0:l===1?1:Is(n(l),t,o)}};const Ta=ts(lu),cu=Ta(.48,1.57,.6,.83),zo=cu,du={targets:[],duration:400,ease:zo,props:{scale:"-=0.1"}};class Ms extends Pe{constructor(e){super(du,e)}}const mu={targets:[],duration:400,ease:zo,props:{scale:"+=0.1"}};class uu extends Pe{constructor(e){super(mu,e)}}const{KEY:hu,FRAME:Oi}=A.GAMEPLAY;class fu extends Phaser.GameObjects.Particles.ParticleEmitterManager{deathZone;emitter;constructor(e){super(e,hu,Oi.EFFECT_SPARK),this.createDeathZone(),this.createEmitters(),this.kill(),this.scene.add.existing(this)}createDeathZone(){this.deathZone=new Phaser.Geom.Circle}createEmitters(){const e=1/this.scene.world.getPixelRatio();this.emitter=this.createEmitter({on:!1,frame:Oi.EFFECT_SPARK,speed:{min:100,max:180},scale:{min:e*.5,max:e*.8},alpha:{min:.8,max:1},deathZone:{source:this.deathZone,type:"onLeave"}})}explode(e,t,s,o){this.revive(),this.deathZone.radius=o,this.deathZone.setPosition(t,s),this.emitter.explode(e,t,s)}}const wa=fu;class pu extends wa{explode(e,t,s,o){super.explode(e,t,s,o),this.runParticleTween()}runParticleTween(){let e=0;this.emitter.forEachAlive(t=>{this.scene.tweens.killTweensOf(t),this.scene.tweens.add({targets:[t],duration:400,delay:5*e,ease:Phaser.Math.Easing.Circular.Out,props:{velocityX:t.velocityX/50,velocityY:t.velocityY/50},onComplete:()=>{e++,this.scene.add.tween({targets:[t],duration:800,delay:10*e,ease:Phaser.Math.Easing.Circular.Out,props:{alpha:0,scaleX:0,scaleY:0},onComplete:()=>{t.lifeCurrent=0},onStop:()=>{t.lifeCurrent=0}})}})},this)}}const bu=pu,{GAMEPLAY:Ri,EFFECTS:Ai,TILES:_i}=A,{STATUS:pt}=j;class os extends Phaser.GameObjects.Container{scene;nextX;nextY;scaleUp=1;scaleDown=1;row;column;color;frame;isBreakWhenExplosive;block;icon;polishEffect;explodeParticle;unselectAnimation;selectAnimation;extraSpawnEffect;constructor(e,t,s){super(e,0,0),this.scene=e,s&&(this.color=s),this.nextX=null,this.nextY=null,this.scaleUp=this.scale,this.scaleDown=this.scale*.8,this.isBreakWhenExplosive=!1,this.setDepth(W.TILE),t&&(this.frame=t,this.drawBlock(t)),this.createExplodeParticle(),this.scene.add.existing(this),this.setState(pt.READY)}show(){this.setVisible(!0),this.block.setVisible(!0)}setRow(e){this.row=e}setColumn(e){this.column=e}setIsBreakWhenExplosive(e){this.isBreakWhenExplosive=e}removeEvents(){this.block.off(Phaser.Input.Events.GAMEOBJECT_POINTER_UP,this.handleOnUnselect),this.block.off(Phaser.Input.Events.GAMEOBJECT_POINTER_OUT,this.handleOnUnselect)}createInput(){this.block.off(Phaser.Input.Events.GAMEOBJECT_POINTER_DOWN,this.handleOnSelect),this.block.on(Phaser.Input.Events.GAMEOBJECT_POINTER_DOWN,this.handleOnSelect)}showHighlight(){this.scene.effectManager.playTileHighlightEffect(this),this.scene.boardManager.boardContainer.bringToTop(this)}hideHighlight=()=>{const{effectManager:e}=this.scene;e.getCurrentlyHighlightedTile()===this&&e.stopTileHighlightEffect()};explosive(e){this.scene&&(this.nextX&&this.setX(this.nextX),this.nextY&&this.setY(this.nextY),this.explosiveAnimation())}handleOnSelect=()=>{this.removeEvents(),this.runSelectAnimation()};handleOnUnselect=()=>{this.runUnselectAnimation()};getExplosiveAnimationKey=()=>null;explosiveAnimation(){if(!this.icon||!this.icon.anims)return;if(this.isBreakWhenExplosive){const{effectManager:t}=this.scene;t.playTileBreakEffect(this),this.scene.audio.playSound(Z.BOMB_EXPLODE_1),this.onExplosive();return}const e=this.getExplosiveAnimationKey();if(!e){const{x:t,y:s}=this.getWorldPosition();this.explodeParticle.explode(20,t,s,20),this.onExplosive();return}this.icon.once(Phaser.Animations.Events.ANIMATION_COMPLETE,()=>{this.onExplosive()}),this.icon.anims.play(e,!0)}onExplosive(){this.hideHighlight(),this.hidePolishEffect(),this.scene.boardManager.boardContainer.bringToTop(this),this.scene.tweens.killTweensOf(this),this.setScale(this.scaleUp),this.scene.tweens.add({targets:[this],duration:200,ease:Phaser.Math.Easing.Cubic.Out,props:{alpha:0},onComplete:()=>{this.removeTile()}})}enableTile(){const e=this.scene.boardManager.getTileSize();this.block.setDisplaySize(e,e),this.icon.setScale(this.block.scale/2),this.revive(),this.setState(pt.READY)}changeDeck(e){const t=e.toUpperCase(),s=_i[t].KEY,o=`tile-${this.color}`,i=this.scene.boardManager.getTileSize();this.icon.setTexture(s),this.icon.setFrame(o);const r=this.icon.displayWidth/this.icon.scaleX,n=this.icon.displayHeight/this.icon.scaleY,a=i/r*.85,l=i/n*.85;this.icon.setScale(Math.min(a,l))}removeTile(){if(!this.scene)return;const{tileManager:e}=this.scene;e.removeTile(this)}drawBlock(e){const t=this.scene.boardManager.getTileSize();this.block=this.scene.add.image(0,0,Ri.KEY,Ri.FRAME.TILE_BG),this.block.setDisplaySize(t,t),this.add(this.block);const{currentDeckPrefix:s}=this.scene.tileManager,o=_i[s.toUpperCase()].KEY;this.icon=this.scene.make.sprite({key:o,frame:e});const i=this.icon.displayWidth/this.icon.scaleX,r=this.icon.displayHeight/this.icon.scaleY,n=t/i*.85,a=t/r*.85;this.icon.setScale(Math.min(n,a)),this.add(this.icon)}createExplodeParticle(){this.explodeParticle=new bu(this.scene)}drawPolishEffect(){this.polishEffect=this.scene.add.sprite(0,0,Ai.KEY,Ai.FRAME.POLISH_EFFECT+"0"),this.polishEffect.setDisplaySize(40,40),this.polishEffect.setAlpha(.8),this.polishEffect.setVisible(!1),this.add(this.polishEffect)}runSelectAnimation(){this.scene&&(this.selectAnimation||(this.selectAnimation=new Ms({targets:[this],duration:166,yoyo:!0,ease:Phaser.Math.Easing.Cubic.InOut,props:{scale:{start:this.scaleUp,from:this.scaleUp,to:this.scaleDown}},onStop:()=>{this.setScale(this.scaleUp)}})),this.selectAnimation.play())}runUnselectAnimation=()=>{this.scene&&(this.unselectAnimation||(this.unselectAnimation=new uu({targets:[this],duration:100,props:{scale:this.scaleUp}})),this.unselectAnimation.play())};runExtraSpawnEffect(){this.extraSpawnEffect?.stop();const e=this.scaleX,t=this.scaleY;this.setScale(e*.3,t*.3),this.extraSpawnEffect=this.scene.tweens.add({targets:this,duration:200,props:{scaleX:{from:e*.3,to:e},scaleY:{from:t*.3,to:t}},onComplete:()=>{this.playPolishEffect()},onStop:()=>{this.playPolishEffect(),this.setScale(e,t)}})}playPolishEffect(){this.polishEffect||this.drawPolishEffect();const e=this.scene.boardManager.getTileSize();this.polishEffect.setVisible(!0),this.polishEffect.setWorldSize(e,e),this.polishEffect.play(V.POLISH_EFFECT.KEY,!0)}hidePolishEffect(){this.polishEffect?.setVisible(!1)}isReady(){return this.state===pt.READY}isMoving(){return this.state===pt.MOVING}isCapturing(){return this.state===pt.CAPTURING}isCaptured(){return this.state===pt.CAPTURED}}const{KEY:gu,FRAME:Ii}=A.GAMEPLAY,{SPECIALS:vu}=j,{BOMB_EXPLOSION:Tu,BOMB_DEFUSE:wu}=V,{BombCountDownTime:Eu,DelayEndGame:yu}=GameCore.Configs.Gameplay;class Pu extends os{bombCountdown;bombTimer;remainingTime;bombIcon;bombIconTween;reason="pair";isTickingSoundPlaying;tickingSoundEvent;constructor(e,t,s){super(e,Ii.TILE_BOMB,vu.BOMB),this.setName("BombTile"),this.isTickingSoundPlaying=!1,this.setRow(t),this.setColumn(s),this.createIconBomb(),this.createBombCountdownEffect(),this.runBombIconTween(),this.scene.events.on(j.EVENTS.FIRST_INTERACTION,this.startCountdown)}createIconBomb(){this.bombIcon=this.scene.add.image(0,0,gu,Ii.ICON_BOMB);const t=this.scene.boardManager.getTileSize()/35;this.bombIcon.setWorldSize(16*t,17*t),this.bombIcon.setPosition(10*t,5*t),this.add(this.bombIcon)}createBombCountdownEffect(){this.bombCountdown=new fa(this.scene),this.bombCountdown.setPosition(0,0),this.add(this.bombCountdown)}enableTile(){super.enableTile();const t=this.scene.boardManager.getTileSize()/35;this.bombIcon.setWorldSize(16*t,17*t),this.bombIcon.setPosition(10*t,5*t),this.reason="pair",this.bombIcon.revive(),this.isTickingSoundPlaying=!1}getExplosiveAnimationKey=()=>this.reason==="defuse"?wu.KEY:this.reason==="exploded"?Tu.KEY:null;setColor(e,t){this.isCaptured()||(this.color=e,this.changeDeck(t))}startCountdown=()=>{if(this.active&&this.reason!=="defuse"){if(this.remainingTime=Eu,this.isTickingSoundPlaying=!1,this.remainingTime==0){this.bombExplodeGrant();return}this.setUpCountdownEffect(),this.startTimer()}};setUpCountdownEffect(){const{boardContainer:e}=this.scene.boardManager;e.bringToTop(this)}setBombEffectWhenGameStarts(){const{boardContainer:e}=this.scene.boardManager;e.bringToTop(this);const t=this.scene.boardManager.getTileSize();this.bombCountdown.setScale(t*.95/35),this.bombCountdown.drawCountdown(1,1)}updateBombCountdownEffect(){this.bombCountdown.drawCountdown(this.remainingTime,GameCore.Configs.Gameplay.BombCountDownTime)}runBombIconTween(){this.bringToTop(this.bombIcon),this.bombIconTween?.stop();const{scaleX:e,scaleY:t}=this.bombIcon;this.bombIconTween=this.scene.tweens.add({targets:this.bombIcon,scaleX:e*1.2,scaleY:t*1.2,ease:"Sine.easeInOut",duration:500,yoyo:!0,repeat:-1,onStop:()=>{this.bombIcon.setScale(e,t)}})}stopTimer(){this.bombTimer?.remove(),this.tickingSoundEvent?.remove(),this.bombCountdown.stop(),this.bombIcon.kill(),this.bombIconTween?.stop(),this.isTickingSoundPlaying=!1}isDefuse(){return this.reason==="defuse"}startTimer(){this.bombTimer=this.scene.time.addEvent({delay:500,callback:()=>{if(this.scene.gameStatus!==ge.DYING){if(this.remainingTime-=500,this.remainingTime<500){this.bombExplodeGrant();return}this.updateBombCountdownEffect(),this.remainingTime<=4500&&!this.isTickingSoundPlaying&&(this.scene.audio.playSound(Z.TICKING_BOMB_BEFORE_EXPLODE),this.isTickingSoundPlaying=!0,this.fireTickingSound())}},loop:!0})}fireTickingSound(){this.tickingSoundEvent?.remove(),this.tickingSoundEvent=this.scene.time.addEvent({delay:1500,callback:()=>{this.scene.audio.playSound(Z.TICKING_BOMB_BEFORE_EXPLODE)},repeat:1})}bombExplodeGrant=()=>{this.stopTimer(),this.reason="exploded",this.explosive(0);const{boardContainer:e}=this.scene.boardManager;e.bringToTop(this),this.block.kill(),this.icon.scale*=5,this.scene.audio.playSound(Z.BOMB_EXPLODE_1)};handleBombDefuse(){this.stopTimer(),this.reason="defuse",this.explosive(0);const{boardContainer:e}=this.scene.boardManager;e.bringToTop(this),this.icon.scale*=2.4,this.scene.audio.playSound(Z.BOMB_DEFUSE)}onExplosive(){super.onExplosive();const{tileManager:e,levelHandler:t}=this.scene;this.reason==="exploded"&&(this.scene.time.delayedCall(yu,()=>{e.tilesChangeColor(this.color,[this])}),this.scene.die(t.level,"bombExplosive")),this.reason==="defuse"&&e.tilesChangeColor(this.color,[this])}removeTile(){if(super.removeTile(),!this.scene)return;this.stopTimer(),this.bombCountdown.clear();const{itemManager:e}=this.scene;e.updateBombDefuseItemState()}shortenRemainingTime(){this.remainingTime=2e3}}const He=Pu;class Su{priorityQueue=[];grid=[[0,0,0,0,0,0,0,0,0,0],[0,1,0,0,0,1,0,0,1,0],[0,2,1,0,1,0,0,0,0,3],[0,0,0,0,0,0,1,0,0,0],[1,0,1,0,0,0,0,0,0,0],[0,0,0,1,0,1,1,1,0,0],[0,0,0,1,0,1,0,1,0,0],[0,1,0,0,0,0,1,1,0,0],[0,0,0,0,0,0,0,0,1,0],[0,0,0,0,1,0,0,0,0,0]];width=10;height=10;path=null;constructor(){return this}findPath(e,t,s){return this.grid=s,this.height=s.length,this.width=s[0].length,this.priorityQueue=[],this.path=null,this.traverse(e,t),this.sharpenPath(),this.path}findWrongPath(e,t,s){return this.grid=s,this.height=s.length,this.width=s[0].length,this.priorityQueue=[],this.path=null,this.traverseFull(e,t),this.path?(this.sharpenPath(),this.path):[]}traverse(e,t){const{x:s=0,y:o=0}=e,{x:i=0,y:r=0}=t;if(this.isAllPathBlocked(e,t)){console.log("All paths are blocked on one square");return}for(this.priorityQueue.push({x:s,y:o,usedTurns:0,direction:"none",expectedCostToEnd:this.calculateExpectedCostToEndPoint({x:s,y:o},{x:i,y:r}),currentPath:[{x:s,y:o}]});this.priorityQueue.length>0;){const n=this.getFromPriorityQueue(),{x:a=0,y:l=0}=n;if(a===i&&l===r){this.path=n.currentPath;break}const d=this.getAdjacentSquares(n);for(const u of d){if(n.currentPath.includes(u))continue;const m=this.calculateExpectedCostToEndPoint(u,{x:i,y:r});this.addToPriorityQueue(u,n,m)}}}traverseFull(e,t){const{x:s=0,y:o=0}=e,{x:i=0,y:r=0}=t;if(this.isAllPathBlocked(e,t)){const n=this.getSpecialCasePath(e,t);n.length>0&&(this.path=n);return}for(this.priorityQueue.push({x:s,y:o,usedTurns:0,direction:"none",expectedCostToEnd:this.calculateExpectedCostToEndPoint({x:s,y:o},{x:i,y:r}),currentPath:[{x:s,y:o}]});this.priorityQueue.length>0;){const n=this.getFromPriorityQueue(),{x:a=0,y:l=0}=n;if(a===i&&l===r){this.path=n.currentPath;break}const d=this.getAdjacentSquares(n);for(const u of d){if(n.currentPath.includes(u))continue;const m=this.calculateExpectedCostToEndPoint(u,{x:i,y:r});this.addToGenerousPriorityQueue(u,n,m)}}if(!this.path){const n=this.getSpecialCasePath(e,t);n.length>0&&(this.path=n)}}getSpecialCasePath(e,t){const{x:s=0,y:o=0}=e,{x:i=0,y:r=0}=t;if(s===i)return this.getYLine(o,r,s);if(o===r)return this.getXLine(s,i,o);{const n=[];return n.push(...this.getXLine(s,i,o)),n.pop(),n.push(...this.getYLine(o,r,i)),n}}sharpenPath(){if(this.path)for(let e=0;e<this.path.length;e++){const{x:t=-1,y:s=-1}=this.path[e];t===0?this.path[e].x=.25:t===this.height-1&&(this.path[e].x=t-.25),s===0?this.path[e].y=.25:s===this.width-1&&(this.path[e].y=s-.25)}}getXLine(e,t,s){const o=[];if(e<t)for(let i=e;i<=t;i++)o.push({x:i,y:s});else for(let i=e;i>=t;i--)o.push({x:i,y:s});return o}getYLine(e,t,s){const o=[];if(e<t)for(let i=e;i<=t;i++)o.push({x:s,y:i});else for(let i=e;i>=t;i--)o.push({x:s,y:i});return o}addToGenerousPriorityQueue(e,t,s){const{x:o=0,y:i=0}=e,{x:r=0,y:n=0,direction:a,usedTurns:l}=t,d=this.getMovingDirectionString(o-r,i-n);if(d===a)this.priorityQueue.push({x:o,y:i,usedTurns:l,direction:d,expectedCostToEnd:s,currentPath:[...t.currentPath,{x:o,y:i}]});else{const u=l>=2&&s>t.expectedCostToEnd;l<7&&!u&&this.priorityQueue.push({x:o,y:i,usedTurns:l+1,direction:d,expectedCostToEnd:s,currentPath:[...t.currentPath,{x:o,y:i}]})}}getPath(){return this.path?(console.log("Path found: ",this.path),this.path):(console.log("No path found"),[])}calculateExpectedCostToEndPoint(e,t){const{x:s=0,y:o=0}=e,{x:i=0,y:r=0}=t;return Math.abs(s-i)+Math.abs(o-r)}addToPriorityQueue(e,t,s){const{x:o=0,y:i=0}=e,{x:r=0,y:n=0,direction:a,usedTurns:l}=t,d=this.getMovingDirectionString(o-r,i-n);if(d===a)this.priorityQueue.push({x:o,y:i,usedTurns:l,direction:d,expectedCostToEnd:s,currentPath:[...t.currentPath,{x:o,y:i}]});else{const u=l>=2&&s>t.expectedCostToEnd;l<3&&!u&&this.priorityQueue.push({x:o,y:i,usedTurns:l+1,direction:d,expectedCostToEnd:s,currentPath:[...t.currentPath,{x:o,y:i}]})}}getFromPriorityQueue(){const e=Math.min(...this.priorityQueue.map(s=>s.expectedCostToEnd+s.currentPath.length)),t=this.priorityQueue.find(s=>e===s.expectedCostToEnd+s.currentPath.length);return t?this.priorityQueue.splice(this.priorityQueue.indexOf(t),1)[0]:this.priorityQueue.splice(0,1)[0]}getAdjacentSquares(e){const{x:t=0,y:s=0}=e,o=[];return t-1>=0&&(this.grid[t-1][s]===1||o.push({x:t-1,y:s})),t+1<this.height&&(this.grid[t+1][s]===1||o.push({x:t+1,y:s})),s-1>=0&&(this.grid[t][s-1]===1||o.push({x:t,y:s-1})),s+1<this.width&&(this.grid[t][s+1]===1||o.push({x:t,y:s+1})),o}isAllPathBlocked(e,t){const{x:s=0,y:o=0}=e,{x:i=0,y:r=0}=t,n=this.getAdjacentSquares({x:s,y:o}),a=this.getAdjacentSquares({x:i,y:r});return n.length===0||a.length===0}getMovingDirectionString(e,t){return e===1?"down":e===-1?"up":t===1?"right":t===-1?"left":"none"}}const Ea=Su;class ku{scene;pathfinder;colorGrid=[];obstacleGrid=[];outerTiles=[];availableColors=[];pathForAutoplay=null;constructor(e){this.scene=e,this.pathfinder=new Ea}updateGrids(){this.updateColorGrid(),this.updateObstacleGrid(),this.createOuterTiles(),this.pathForAutoplay=null}checkForAvailableMatches(){return this.updateGrids(),this.checkForNearestMatch()||this.checkOuterTilesMatch()?!0:(console.log("No matches found"),!1)}updateColorGrid(){this.colorGrid=[];const{boardMap:e}=this.scene.boardManager,t=this.scene.levelHandler.getConfigs();if(!t)return;const{rows:s,columns:o}=t;for(let i=1;i<=s;i++){this.colorGrid[i-1]=[];for(let r=1;r<=o;r++){if(!e[i]||!e[i][r])continue;if(e[i][r].isCaptured()){this.colorGrid[i-1][r-1]="0";continue}const n=e[i][r].color;this.availableColors.includes(n)||this.availableColors.push(n),this.colorGrid[i-1][r-1]=n}}this.colorGrid.forEach(i=>{i.unshift("0"),i.push("0")}),this.colorGrid.unshift(new Array(o+2).fill("0")),this.colorGrid.push(new Array(o+2).fill("0"))}updateObstacleGrid(){this.obstacleGrid=[],this.colorGrid.forEach((e,t)=>{this.obstacleGrid[t]=[],e.forEach((s,o)=>{const i=s!=="0";this.obstacleGrid[t][o]=i?1:0})})}createOuterTiles(){this.outerTiles=[],this.availableColors.forEach(()=>{this.outerTiles.push([])})}getAdjacentSquaresData(e,t){const s=[],{boardMap:o}=this.scene.boardManager;return e-1>=1&&s.push(o[e-1][t]),e+1<this.colorGrid.length-1&&s.push(o[e+1][t]),t-1>=1&&s.push(o[e][t-1]),t+1<this.colorGrid[0].length-1&&s.push(o[e][t+1]),s.filter(i=>!i.isCaptured())}getMaximumSurroundingSlots(e,t){let s=4;return e-1<0&&s--,e+1>=this.colorGrid.length&&s--,t-1<0&&s--,t+1>=this.colorGrid[0].length&&s--,s}checkForNearestMatch(){let e=!1;for(let t=0;t<this.colorGrid.length;t++){for(let s=0;s<this.colorGrid[0].length;s++){const o=this.colorGrid[t][s];if(o==="0")continue;const i=this.getAdjacentSquaresData(t,s),r=this.getMaximumSurroundingSlots(t,s),n=i.map(a=>a.color);if(r>i.length){const a=this.availableColors.indexOf(o);this.outerTiles[a].push({x:t,y:s})}if(n.includes(o)){const a=n.indexOf(o),l=i[a];this.pathForAutoplay=[{x:t,y:s},{x:l.row,y:l.column}],e=!0;break}}if(e)break}return e}getAllPossiblePairs(e){const t=[];for(let s=0;s<e.length;s++)for(let o=s+1;o<e.length;o++)t.push({tile1:e[s],tile2:e[o]});return t.sort((s,o)=>{const i=Math.abs(s.tile1.x-s.tile2.x)+Math.abs(s.tile1.y-s.tile2.y),r=Math.abs(o.tile1.x-o.tile2.x)+Math.abs(o.tile1.y-o.tile2.y);return i-r}),t}checkOuterTilesMatch(){this.outerTiles.sort((t,s)=>s.length-t.length);let e=!1;for(let t=0;t<this.outerTiles.length;t++){const s=this.outerTiles[t];if(s.length<1)continue;const o=this.getAllPossiblePairs(s);for(let i=0;i<o.length;i++){const{tile1:r,tile2:n}=o[i];this.obstacleGrid[r.x][r.y]=0,this.obstacleGrid[n.x][n.y]=0;const a=this.pathfinder.findPath({x:r.x,y:r.y},{x:n.x,y:n.y},this.obstacleGrid);if(a){e=!0,this.pathForAutoplay=a;break}this.obstacleGrid[r.x][r.y]=1,this.obstacleGrid[n.x][n.y]=1}if(e)break}return e}}const ya=ku,{STATUS:Vs}=ss;class xu extends Me{scene;tileMap={};boardMap={};boardContainer;boardSizeHandler;matchFinder;constructor(e){super(e),this.scene=e,this.boardContainer=this.scene.make.container({}),this.boardContainer.setDepth(W.TILE),this.matchFinder=new ya(this.scene),this.boardSizeHandler=new Vm(this.scene)}init(){this.clearBoard(),this.setState(Vs.READY)}start(){this.isRunning()||(this.boardSizeHandler.calculateTileSize(),this.generateBoard(),this.setState(Vs.RUNNING))}stop(){this.isRunning()&&this.setState(Vs.STOPPED)}loadBoardByFen(e){const{tileManager:t}=this.scene;this.tileMap=GameCore.Utils.Hash.decodeMap(e,j.HASH);for(const s in this.tileMap){const o=this.tileMap[s];if(GameCore.Utils.Valid.isObject(o))for(const i in o){let r=o[i],n;r[0]==="b"?(r=parseInt(r.substring(1)).toString(),this.tileMap[s][i]=j.SPECIALS.BOMB,n=t.createTileByType(j.SPECIALS.BOMB,+s,+i),n instanceof He&&n.setColor(r,t.getCurrentDeck())):n=t.createTileByType(r,+s,+i),this.setTileToMap(n,+s,+i)}}}clearBoard(){this.tileMap={},this.boardMap={},this.boardContainer.removeAll()}generateBoard(){this.generateTiles(),this.placeBoard(),this.alignBoard()}generateTiles(){const{tileManager:e,levelHandler:t}=this.scene,s=t.getConfigs(),{rows:o,columns:i,specials:r={},customFen:n}=s,a=o*i;if(n&&this.loadBoardByFen(n.code),Object.keys(this.boardMap).length>0)return;const l=this.createListOfTilesByPair(),d=r.bomb||0,u=this.getBombPositions(d,l);for(let m=0;m<a;m++){const{row:f,column:h}=this.getPositionByIndex(m),p=l[m];let v=!1;u.includes(m)&&(v=!0);const b=v?j.SPECIALS.BOMB:p,g=e.createTileByType(b,f,h);v&&g instanceof He&&g.setColor(p,e.getCurrentDeck()),this.setTileToMap(g,f,h)}}createListOfTilesByPair(){const{levelHandler:e}=this.scene,t=e.getConfigs(),{rows:s,columns:o,colors:i,specials:r={}}=t,n=s*o,a=r.rocket||0,l=Math.floor(n/2)-a,d=[];let u=0;for(let p=0;p<l;p++){u=u>=i?1:u+1;const v=u.toString();d.push(v),d.push(v)}for(let p=0;p<a;p++)d.push("rocket"),d.push("rocket");d.sort(()=>Math.random()-.5);const m=this.sortTilesByMaxSpace(d),h=this.sortTilesByMaxSpace(m.reverse()).reverse();return this.addOnePairNextToEachOther(h,s,o),d.length<n&&h.splice(Math.floor(h.length/2),0,j.SPECIALS.EMPTY),h}sortTilesByMaxSpace(e){const{levelHandler:t}=this.scene,s=t.getConfigs(),{rows:o,columns:i,colors:r,rules:n}=s;if(!n.maxSpaceOfPair)return e;const a=this.convertSingleListToGrid(e,o,i),l=[];for(let u=1;u<=r;u++)l.push(u.toString());const d=this.getSortedColorList(l,e);for(let u=0;u<d.length;u++){let m=null,f=null;for(let h=0;h<o;h++)for(let p=0;p<i;p++)if(a[h][p]===d[u]){if(!m||!f){m=h,f=p;continue}const b=n.maxSpaceOfPair+1;if(Math.abs(m-h)+Math.abs(f-p)<=b){f=p,m=h;continue}const T=this.getTileNewPosition(m,f,h,p),y=a[T.row][T.column];a[T.row][T.column]=a[h][p],a[h][p]=y}}return this.convertGridToSingleList(a)}addOnePairNextToEachOther(e,t,s){const o=Phaser.Math.Between(0,e.length-1);let i=o;for(let d=0;d<e.length;d++){const u=e[d];if(d!==o&&u===e[o]){i=d;break}}if(i===o)return;const r=this.getNeighborIndexes(o,t,s);if(r.length===0)return;const n=Phaser.Math.Between(0,r.length-1),a=r[n],l=e[a];e[a]=e[i],e[i]=l,console.info("🚀 > One Pair Can Match Is",this.getPositionByIndex(o),this.getPositionByIndex(a))}getNeighborIndexes(e,t,s){const{row:o,column:i}=this.getPositionByIndex(e),r=[];let n=o+1,a=i;return n<=t&&r.push(this.getIndexByPosition(n,a)),n=o-1,a=i,n>=1&&r.push(this.getIndexByPosition(n,a)),n=o,a=i+1,a<=s&&r.push(this.getIndexByPosition(n,a)),n=o,a=i-1,a>=1&&r.push(this.getIndexByPosition(n,a)),r}getTileNewPosition(e,t,s,o){let i=e,r=t;return s>e&&(i=e+1),s<e&&(i=e-1),o>t&&(r=t+1),o<t&&(r=t-1),{row:i,column:r}}convertSingleListToGrid(e,t,s){const o=[];for(let i=0;i<t;i++){o[i]=[];for(let r=0;r<s;r++)o[i][r]=e[i*s+r]}return o}convertGridToSingleList(e){const t=[];for(let s=0;s<e.length;s++)for(let o=0;o<e[s].length;o++)t.push(e[s][o]);return t}getSortedColorList(e,t){const s=[],o=[j.SPECIALS.BOMB,j.SPECIALS.EMPTY,j.SPECIALS.ROCKET];for(let i=0;i<t.length&&s.length!==e.length;i++){const r=t[i];s.includes(r)||o.includes(r)||s.push(r)}return s}getBombPositions(e,t){const s=[];t.forEach((r,n)=>{r!==j.SPECIALS.EMPTY&&r!==j.SPECIALS.ROCKET&&s.push(n)});const o=s.length>e?e:s.length,i=[];s.sort(()=>Math.random()-.5);for(let r=0;r<o;r++)i.push(s[r]);return i}getTilesByMap(){const e=[];for(const t in this.boardMap){const s=this.boardMap[t];for(const o in s){const i=this.boardMap[t][o];e.push(i)}}return e}placeBoard(){const{levelHandler:e}=this.scene,t=e.getConfigs(),s=t.rows,o=t.columns,i=this.getTileSize()+1,r=this.getTilesByMap();Phaser.Actions.GridAlign(r,{width:o,height:s,cellWidth:i,cellHeight:i,x:-((o/2-1)*i),y:-((s/2-1)*i)})}alignBoard(){const{layoutManager:e}=this.scene,{objects:t}=e,s=this.scene.ads.getBannerHeight(),o=t.headerBG.height,i=t.footerBG.height;let r=(o-i-s+46)/2;this.scene.world.isLandscape()&&(r=(o-s)/2),Phaser.Display.Align.In.Center(this.boardContainer,this.scene.gameZone,0,r)}getPositionByIndex(e){const{columns:t}=this.scene.levelHandler.getConfigs(),s=Math.floor(e/t)+1,o=e%t+1;return{row:s,column:o}}getIndexByPosition(e,t){const{columns:s}=this.scene.levelHandler.getConfigs();return(e-1)*s+(t-1)}getTileByIndex(e){const{row:t,column:s}=this.getPositionByIndex(e);return this.getTileByPosition(t,s)}getTileByPosition(e,t){return!(e in this.boardMap)||!(t in this.boardMap[e])?null:this.boardMap[e][t]}setTileToMap(e,t,s){const{tileManager:o}=this.scene;this.tileMap[t]||(this.tileMap[t]={}),this.boardMap[t]||(this.boardMap[t]={}),e.setRow(t),e.setColumn(s),this.tileMap[t][s]=e.color;const i=this.boardMap[t][s];i&&o.removeTile(i),this.boardMap[t][s]=e,this.boardContainer.add(e),o.addTile(e)}tileSwap(e){const{fromRow:t,toRow:s,fromColumn:o,toColumn:i}=e,r=this.boardMap[s][i],n=this.boardMap[t][o];r.setRow(t),r.setColumn(o),n.setRow(s),n.setColumn(i),this.boardMap[s][i]=n,this.boardMap[t][o]=r,this.tileMap[s][i]=n.color,this.tileMap[t][o]=r.color}runShuffle=e=>{const t=this.getTilesAlive(),s=this.shuffleTiles();this.shuffleAnimation(t,s,e),this.updateTilesPosition(t,s),this.scene.time.delayedCall(300,()=>{this.scene.audio.playSound(Z.SHUFFLE_ITEM)})};getTilesAlive(){const{tileManager:e}=this.scene,t=e.getTiles(),s=[];return t.forEach(o=>{o.isCaptured()||o.isCapturing()||s.push(o)}),s}shuffleTiles(){const e=this.getTilesAlive();GameCore.Utils.Array.unique(e);const t=[];return e.forEach(({row:s,column:o})=>{t.push({row:s,column:o})}),GameCore.Utils.Array.shuffle(t),t}shuffleAnimation(e,t,s){const{animationManager:o}=this.scene;e.forEach((i,r)=>{const{row:n,column:a}=i,{row:l,column:d}=t[r];n!==l&&o.moveRows({tile:i,fromRow:n,toRow:l},r*5,s),a!==d&&o.moveColumns({tile:i,fromColumn:a,toColumn:d},r*5,s)})}updateTilesPosition(e,t){e.forEach((s,o)=>{const{row:i,column:r}=s,{row:n,column:a}=t[o];i===n&&r===a||this.tileSwap({fromRow:i,toRow:n,fromColumn:r,toColumn:a})})}processNoAvailableMatches=()=>{if(this.checkIfAllTilesAreCaptured()){this.scene.events.emit(j.EVENTS.NEXT_TURN);return}if(this.matchFinder.checkForAvailableMatches()){this.scene.events.emit(j.EVENTS.NEXT_TURN);return}const{animationManager:t,itemManager:s,tileManager:o}=this.scene;o.isSelectable=!1,s.setIsUseableItem(!1),t.isMoveTilesCompleted=!1;const i=500;this.runShuffle(i),this.scene.time.delayedCall(i+50,this.processNoAvailableMatches)};checkIfAllTilesAreCaptured(){const{tileManager:e}=this.scene,t=e.getTiles();if(t.length<2)return!0;for(const s of t)if(!s.isCaptured())return!1;return!0}getTileSize(){return this.boardSizeHandler.getTileSize()}}const C={HINT:{ID:"ItemHint",REWARD_DESC:"Show one matchable pair on the board"},ROCKET:{ID:"ItemRocket",REWARD_DESC:"Destroy two pairs on the board"},INVITE:{ID:"ItemInvite"},SHUFFLE:{ID:"ItemShuffle",REWARD_DESC:"Shuffle all tiles on the board"},BOMB_DEFUSE:{ID:"ItemBombDefuse",REWARD_DESC:"Remove a bomb tile on the board"},GUIDE_BOMB_DEFUSE:{ID:"ItemGuideBombDefuse"},NEW_GAME:{ID:"ItemNewGame"},CHANGE_COLOR:{ID:"ItemChangeColor"},NEXT_LEVEL:{ID:"ItemNextLevel"},BACK_LEVEL:{ID:"ItemBackLevel"},BOMB_EXPLOSIVE:{ID:"ItemBombExplosive"},TIME_UP:{ID:"ItemTimeUp"},RESET_DATA:{ID:"ItemResetData"},AUTO_MATCH:{ID:"ItemAutoMatch"}},G={DIE:"die",REPLAY:"replay",RESCUE:"rescue",FINISH:"finish",CONTINUE:"continue",NEXT_LEVEL:"next-level",RECEIVE_ITEM:"receive-item",TILE_SHOWED_UP:"tile-show-up",SHOW_RESCUE_SCREEN:"show-rescue-screen",GAME_OVER_REPLAY:"game-over-replay"};var jo={exports:{}};jo.exports;(function(c){var e=Object.prototype.hasOwnProperty,t="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(t=!1));function o(a,l,d){this.fn=a,this.context=l,this.once=d||!1}function i(a,l,d,u,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var f=new o(d,u||a,m),h=t?t+l:l;return a._events[h]?a._events[h].fn?a._events[h]=[a._events[h],f]:a._events[h].push(f):(a._events[h]=f,a._eventsCount++),a}function r(a,l){--a._eventsCount===0?a._events=new s:delete a._events[l]}function n(){this._events=new s,this._eventsCount=0}n.prototype.eventNames=function(){var l=[],d,u;if(this._eventsCount===0)return l;for(u in d=this._events)e.call(d,u)&&l.push(t?u.slice(1):u);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(d)):l},n.prototype.listeners=function(l){var d=t?t+l:l,u=this._events[d];if(!u)return[];if(u.fn)return[u.fn];for(var m=0,f=u.length,h=new Array(f);m<f;m++)h[m]=u[m].fn;return h},n.prototype.listenerCount=function(l){var d=t?t+l:l,u=this._events[d];return u?u.fn?1:u.length:0},n.prototype.emit=function(l,d,u,m,f,h){var p=t?t+l:l;if(!this._events[p])return!1;var v=this._events[p],b=arguments.length,g,T;if(v.fn){switch(v.once&&this.removeListener(l,v.fn,void 0,!0),b){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,u),!0;case 4:return v.fn.call(v.context,d,u,m),!0;case 5:return v.fn.call(v.context,d,u,m,f),!0;case 6:return v.fn.call(v.context,d,u,m,f,h),!0}for(T=1,g=new Array(b-1);T<b;T++)g[T-1]=arguments[T];v.fn.apply(v.context,g)}else{var y=v.length,E;for(T=0;T<y;T++)switch(v[T].once&&this.removeListener(l,v[T].fn,void 0,!0),b){case 1:v[T].fn.call(v[T].context);break;case 2:v[T].fn.call(v[T].context,d);break;case 3:v[T].fn.call(v[T].context,d,u);break;case 4:v[T].fn.call(v[T].context,d,u,m);break;default:if(!g)for(E=1,g=new Array(b-1);E<b;E++)g[E-1]=arguments[E];v[T].fn.apply(v[T].context,g)}}return!0},n.prototype.on=function(l,d,u){return i(this,l,d,u,!1)},n.prototype.once=function(l,d,u){return i(this,l,d,u,!0)},n.prototype.removeListener=function(l,d,u,m){var f=t?t+l:l;if(!this._events[f])return this;if(!d)return r(this,f),this;var h=this._events[f];if(h.fn)h.fn===d&&(!m||h.once)&&(!u||h.context===u)&&r(this,f);else{for(var p=0,v=[],b=h.length;p<b;p++)(h[p].fn!==d||m&&!h[p].once||u&&h[p].context!==u)&&v.push(h[p]);v.length?this._events[f]=v.length===1?v[0]:v:r(this,f)}return this},n.prototype.removeAllListeners=function(l){var d;return l?(d=t?t+l:l,this._events[d]&&r(this,d)):(this._events=new s,this._eventsCount=0),this},n.prototype.off=n.prototype.removeListener,n.prototype.addListener=n.prototype.on,n.prefixed=t,n.EventEmitter=n,c.exports=n})(jo);var Ou=jo.exports;const Ru=ts(Ou),F=new Ru,$o=Ta(.55,.47,.43,.91),Au={targets:[],yoyo:!0,repeat:-1,duration:600,repeatDelay:50,ease:$o,easeParams:[0,.9],props:{scale:{from:1,to:1.2}}};class Ns extends Pe{constructor(e){super(Au,e)}}const _u={targets:[],repeat:-1,yoyo:!0,duration:33,ease:Phaser.Math.Easing.Sine.InOut,props:{x:5}};class Pa extends Pe{posX;constructor(e){super(_u,e),this.config?.props&&(this.posX=this.config.props.x,this.tween?.on(Phaser.Tweens.Events.TWEEN_REPEAT,this.handleSwitchPosition))}handleSwitchPosition=()=>{this.posX=-this.posX,this.tween?.updateTo("x",-this.posX)}}const Iu={targets:[],props:{alpha:{duration:500,value:{start:0,from:0,to:1},ease:Phaser.Math.Easing.Cubic.Out},scale:{duration:1e3,value:{start:.8,from:.8,to:1},ease:Phaser.Math.Easing.Elastic.Out,easeParams:[.1,.45]}}};class Mu extends Pe{constructor(e){super(Iu,e)}}const B={PRIMARY:{KEY:"Roboto-Black-Normal",TEXTURE:"./assets/fonts/Roboto-Black-Normal.png",DATA:"./assets/fonts/Roboto-Black-Normal.xml"},SHADOW:{KEY:"Roboto-Black-Shadow",TEXTURE:"./assets/fonts/Roboto-Black-Shadow.png",DATA:"./assets/fonts/Roboto-Black-Shadow.xml"},RED_STROKE:{KEY:"Roboto-Black-Red-Stroke",TEXTURE:"./assets/fonts/Roboto-Black-Red-Stroke.png",DATA:"./assets/fonts/Roboto-Black-Red-Stroke.xml"},WHITE_AND_STROKE:{KEY:"Roboto-Black-White-Stroke",TEXTURE:"./assets/fonts/Roboto-Black-White-Stroke.png",DATA:"./assets/fonts/Roboto-Black-White-Stroke.xml"},YELLOW_AND_STROKE:{KEY:"Roboto-Black-Yellow-Stroke",TEXTURE:"./assets/fonts/Roboto-Black-Yellow-Stroke.png",DATA:"./assets/fonts/Roboto-Black-Yellow-Stroke.xml"},FONT_FAMILY:'-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif'},{KEY:ls,FRAME:bt}=A.GAMEPLAY;class Se extends Phaser.GameObjects.Container{scene;isActive=!0;isFree;isDisabled;amount;autoRunUpAnimation=!0;item;bg;amountItem;amountText;amountBg;itemLock;itemLockText;showItemAnimation;bubbleAnimation;shakeAnimation;parentName;callback;constructor(e,t,s,o){super(e),this.scene=e,this.isFree=!1,this.isDisabled=!1,this.createBg(),this.createItem(t,s,o),this.createAmountText(),this.createItemLock(),this.createAnimations(),this.setDepth(W.ITEM),this.scene.add.existing(this)}activeItem(){this.isActive=!0,this.showItemAnimation.play()}deactivateItem(){this.isActive=!1}enableItem(){this.isDisabled!==!1&&(this.item.setAlpha(1),this.isDisabled=!1,this.setInteractive({useHandCursor:!0}))}disableItem(){this.isDisabled!==!0&&(this.deactivateItem(),this.item.setAlpha(.4),this.isDisabled=!0,this.disableInteractive())}setFreeMode(e,t=!1){t||this.amountItem.setVisible(!e),this.isFree=e}getIsFree(){return this.isFree}set onClick(e){const{width:t,height:s}=this.bg;this.setSize(t,s+16),this.setInteractive({useHandCursor:!0}),this.callback=e,this.on(Phaser.Input.Events.GAMEOBJECT_POINTER_UP,this.handlePointerUp)}handlePointerUp=()=>{this.logItemEvent(),this.callback&&(this.scene.audio.playSound(Z.GENERAL_BUTTON_CLICK),this.callback())};logItemEvent(){if(this.isActive)return;const e=this.getParentName(),t=this.name;this.scene.analytics.event(U.BUTTON_CLICK,{button_name:t,screen_name:e})}getParentName(){if(this.parentName)return this.parentName;let e=this.parentContainer;for(;e;){if(e instanceof GameCore.Screen){const t=e;return this.parentName=t.getScreenName(),this.parentName}e=e.parentContainer}return this.parentName=this.scene.getSceneName(),this.parentName}createBg(){this.bg=this.scene.add.image(0,0,ls,bt.ITEM_BG_ITEM),this.bg.setWorldSize(48,48),this.add(this.bg)}createItem(e,t,s){this.item=this.scene.add.image(0,0,ls,e),this.item.setWorldSize(t,s),Phaser.Display.Align.In.Center(this.item,this.bg,0,-3),this.add(this.item)}createAmountText(){this.amountItem=this.scene.add.container();const e=this.scene.lang.getCurrentLanguage();let t=10;switch(e){case"fr":t=8;break}this.amountText=this.scene.make.bitmapText({font:B.PRIMARY.KEY,size:this.scene.fontSize(t),origin:{x:.5,y:.5}}),this.amountText.setTint(8205077),this.amountText.setCenterAlign(),this.amountBg=this.scene.make.image({key:ls,frame:bt.ITEM_BG_AMOUNT}),this.amountBg.setWorldSize(22,16),Phaser.Display.Align.In.Center(this.amountText,this.amountBg,0,-2),this.amountItem.add([this.amountBg,this.amountText]),Phaser.Display.Align.In.TopRight(this.amountItem,this.bg,-10,-2),this.add(this.amountItem),this.setAmount(0)}createItemLock(){this.itemLock=this.scene.make.image({key:ls,frame:bt.NOTE_LOCK}),this.itemLock.setWorldSize(22,16),Phaser.Display.Align.In.TopRight(this.itemLock,this.bg,2,6),this.add(this.itemLock),this.itemLock.setVisible(!1),this.itemLockText=this.scene.make.bitmapText({font:B.WHITE_AND_STROKE.KEY,size:this.scene.fontSize(10),origin:{x:.5,y:.5},text:""}),this.itemLockText.setCenterAlign(),Phaser.Display.Align.In.BottomCenter(this.itemLockText,this.bg,0,1),this.add(this.itemLockText),this.itemLockText.setVisible(!1)}setAmount(e){this.amount=e;const t=this.amount<=0,s=this.scene.lang.getCurrentLanguage(),o=10;let i=10,r=bt.NOTE_FREE;switch(s){case"fr":i=8;break;case"tr":case"de":case"it":case"zh":r=bt.NOTE_FREE_LONG;break}if(this.amountBg){const a=t?r:bt.ITEM_BG_AMOUNT;this.amountBg.setFrame(a)}let n=e.toString();this.amountText.setTint(8205077),this.amountText.setFontSize(this.scene.fontSize(o)),t&&(n=this.scene.lang.Text.free,this.amountText.setTint(3355443),this.amountText.setFontSize(this.scene.fontSize(i))),this.amountText.setText(n)}createAnimations(){const{scale:e}=this.item;this.showItemAnimation=new Mu({targets:[this.item],props:{scale:{duration:1e3,value:{start:e*.8,from:e*.8,to:e},ease:Phaser.Math.Easing.Elastic.Out,easeParams:[.1,.45]}}}),this.bubbleAnimation=new Ns({targets:[this.item],props:{scale:{from:e,to:e*1.2}}}),this.shakeAnimation=new Pa({targets:[this.amountText],repeat:3,props:{x:4}})}}const{ID:cs}=C.BOMB_DEFUSE,{FRAME:Nt}=A.GAMEPLAY;class Vo extends Se{scene;isRunning=!1;constructor(e){super(e,Nt.DEFUSE_ITEM,26,34.5),this.scene=e,this.setName(cs),this.itemLockText.setText("Level 7"),this.onClick=this.handleUseItem}handleUseItem=()=>{if(this.isRunning)return;const{itemManager:e}=this.scene;if(this.isActive){e.deactivateItem(cs);return}if(!e.activeItem(cs)){this.shakeAnimation.play();return}this.useItem()};useItem(){const{tileManager:e,itemManager:t}=this.scene;!this.isActive||this.isRunning||(this.isRunning=!0,this.defuseBomb(),e.emitInteraction(),t.updateBombDefuseItemState(),this.showItemAnimation.tween?.once(Phaser.Tweens.Events.TWEEN_COMPLETE,()=>{this.isRunning=!1,t.deactivateItem(cs)}))}defuseBomb(){const{tileManager:e}=this.scene,t=e.getAliveTiles();for(let s=0;s<t.length;s++){const o=t[s];if(o instanceof He&&!o.isDefuse()){o.handleBombDefuse();return}}}disableItem(){super.disableItem();const{levelHandler:e}=this.scene,{level:t}=e.getConfigs();this.item.setAlpha(1),this.item.setFrame(Nt.ITEM_DEFUSE_LOCK),this.bg.setFrame(Nt.ITEM_BG_LOCK),t<7?this.setVisible(!1):(this.itemLock.setVisible(!1),this.itemLockText.setVisible(!1),this.amountItem.setVisible(!0))}enableItem(){super.enableItem();const{levelHandler:e}=this.scene,{level:t}=e.getConfigs();this.item.setAlpha(1),t>=7&&this.setVisible(!0),this.item.setFrame(Nt.DEFUSE_ITEM),this.bg.setFrame(Nt.ITEM_BG_ITEM),this.amountItem.setVisible(!0),this.itemLock.setVisible(!1),this.itemLockText.setVisible(!1)}}const{ID:ds}=C.GUIDE_BOMB_DEFUSE;class Cu extends Vo{constructor(e){super(e),this.setName(ds),this.callback=this.handleUseGuideItem}handleUseGuideItem=()=>{if(this.isRunning)return;const{itemManager:e}=this.scene;if(this.isActive){e.deactivateItem(ds);return}if(!e.activeItem(ds)){this.shakeAnimation.play();return}this.useItem()};useItem(){const{tileManager:e,itemManager:t,tutorialManager:s}=this.scene;if(!this.isActive||this.isRunning)return;this.isRunning=!0;const o=e.getAliveTiles();for(let i=0;i<o.length;i++){const r=o[i];if(r instanceof He&&!r.isDefuse()){const{x:n,y:a}=r.getWorldPosition(),l=r.block.displayWidth,d=r.block.displayHeight;//! wait for handle pointer down in guide complete
this.scene.time.delayedCall(0,()=>{this.scene.input.setTopOnly(!0),this.scene.tweens.killTweensOf(s.background),s.background.clearMask(!0),s.createMask(n-l/2,a-d/2,l,d,3),this.scene.time.delayedCall(1500,()=>{this.scene.input.setTopOnly(!1),r.handleBombDefuse(),e.emitInteraction(),s.runHideMaskAnimation(),this.isRunning=!1,t.deactivateItem(ds)})});return}}e.emitInteraction()}enableItem(){super.enableItem();const{levelHandler:e}=this.scene,{level:t}=e.getConfigs();t>7&&this.setVisible(!1)}}const Sa=Cu,{ID:Mi}=C.CHANGE_COLOR,{KEY:Lu,FRAME:Xs}=A.GAMEPLAY,{SPECIALS:Du}=j,{BOMB:Ci,ROCKET:Li}=Du;class Nu extends Se{scene;index;colors;color;constructor(e){super(e,Xs.ROCKET_ITEM,25,25),this.scene=e,this.index=0,this.colors=new Array(28).fill(null).map((t,s)=>`${s+1}`),this.colors.push(Ci),this.colors.push(Li),this.setAmount(999),this.onClick=()=>{const{itemManager:t}=this.scene;console.info("🚀 > this.isActive",this.isActive),console.info("🚀 > this.isDisabled",this.isDisabled),this.isActive?t.deactivateItem(Mi):t.activeItem(Mi)},this.on(Phaser.Input.Events.GAMEOBJECT_POINTER_WHEEL,this.handleWheel)}handleWheel=Sr(e=>{this.isActive&&(this.isDisabled||(e.deltaY>0?this.nextColor():this.prevColor()))},250,{isImmediate:!0,maxWait:200});nextColor(){this.color=this.colors[this.index],this.index+=1,this.index>=this.colors.length&&(this.index=0),this.changeColor(this.color)}prevColor(){this.color=this.colors[this.index],this.index-=1,this.index<=0&&(this.index=this.colors.length-1),this.changeColor(this.color)}changeColor(e){if(this.item.setTexture(Lu),e===Ci)this.item.setFrame(Xs.ICON_BOMB);else if(e===Li)this.item.setFrame(Xs.TILE_ROCKET);else{const t=this.scene.tileManager.getCurrentDeck();this.item.setFrame(t+e)}this.item.setWorldSize(25,25)}activeItem=()=>{this.isActive=!0,this.setAlpha(1)};deactivateItem=()=>{super.deactivateItem(),this.setAlpha(.7)};useItem(e){if(!this.isActive)return!1;const{tileManager:t}=this.scene;return t.tilesChangeColor(this.color,[e]),!0}}const ka=Nu,Gu={COMBO:"combo",RESET:"reset"},it=Gu,{ID:Gt}=C.ROCKET,{FRAME:Ft}=A.GAMEPLAY;class Fu extends Se{scene;isRunning=!1;usingTimer;constructor(e){super(e,Ft.ROCKET_ITEM,23,36),this.scene=e,this.setName(Gt),this.itemLockText.setText("Level 11"),this.onClick=this.handleUseItem}activeItem(){super.activeItem(),this.amountItem.kill()}deactivateItem(){super.deactivateItem(),this.amountItem.revive(),this.isDisabled&&this.amountItem.setVisible(!1)}handleUseItem=()=>{if(this.isRunning)return;const{itemManager:e}=this.scene;if(this.isActive){e.deactivateItem(Gt);return}if(!e.activeItem(Gt)){this.shakeAnimation.play();return}this.useItem()};useItem(){const{tileManager:e}=this.scene;if(!this.isActive||this.isRunning)return;const t=e.getPairsOfTilesCanCapture(2);t.length===4&&(this.isRunning=!0,e.isSelectable=!1,e.emitInteraction(),e.removeSuggestPairHint(),this.scene.time.delayedCall(300,()=>{this.runEffectAndCapture(t)}))}runEffectAndCapture(e){const{tileManager:t,effectManager:s,itemManager:o}=this.scene,i=[],r=[];e.forEach(a=>{const{x:l,y:d}=a.getWorldPosition(),u=a.block.displayWidth,m=a.block.displayHeight;r.push({x:l,y:d}),i.push({x:l-u/2,y:d-m/2,width:u,height:m,radius:3})});const n=o.getItem(Gt);n&&i.push({x:n.x-(n.displayWidth-4*n.scale)/2,y:n.y-n.displayHeight/2+7*n.scale,width:(n.width-4)*n.scale,height:(n.width-4)*n.scale,radius:(n.width-4)*n.scale/2}),o.createMultiMask(i),e.forEach(a=>{a.setState(j.STATUS.CAPTURING),a.setIsBreakWhenExplosive(!0)}),this.usingTimer?.remove(),this.usingTimer=this.scene.time.addEvent({delay:100,repeat:-1,callback:()=>{t.isSelectable=!1}}),s.playRocketEffect(r,()=>{this.scene.events.emit(it.COMBO),t.tilesCapturing([e[0],e[1]])},()=>{this.scene.events.emit(it.COMBO),t.tilesCapturing([e[2],e[3]]),this.isRunning=!1,this.usingTimer?.remove(),o.deactivateItem(Gt),o.setIsUseableItem(!1)})}disableItem(){super.disableItem(),this.item.setAlpha(1);const{levelHandler:e}=this.scene,{level:t}=e.getConfigs();this.item.setFrame(Ft.ITEM_ROCKET_LOCK),this.bg.setFrame(Ft.ITEM_BG_LOCK),t<11?this.setVisible(!1):(this.amountItem.setVisible(!0),this.itemLock.setVisible(!1),this.itemLockText.setVisible(!1))}enableItem(){super.enableItem();const{levelHandler:e}=this.scene,{level:t}=e.getConfigs();this.item.setAlpha(1),t>=11&&this.setVisible(!0),this.item.setFrame(Ft.ROCKET_ITEM),this.bg.setFrame(Ft.ITEM_BG_ITEM),this.amountItem.setVisible(!0),this.itemLock.setVisible(!1),this.itemLockText.setVisible(!1)}}const Xo=Fu,{STATUS:Zs}=ss,{BOMB_DEFUSE:qs,ROCKET:Di,AUTO_MATCH:Ni}=C,{KEY:Bu,FRAME:Uu}=A.GAMEPLAY;class Hu extends Me{scene;isUseableItem=!1;items={};itemActive="";currentHideableObjects;background;maskGraphics;constructor(e){super(e),this.scene=e,this.createBackground(),this.createItems(),this.currentHideableObjects=[],F.on(G.TILE_SHOWED_UP,this.handleTileShowedUp),this.scene.events.on(j.EVENTS.CAPTURING,this.handleItemState)}init(){for(const e in this.items)this.enableItem(e),this.deactivateItem(e),this.updateItemAmount(e);this.setState(Zs.READY)}start(){this.isRunning()||(this.updateItemState(),this.setIsUseableItem(!1),this.setState(Zs.RUNNING))}increaseItem(e,t){const s=this.scene.player.getCustomData("items");if(!GameCore.Utils.Valid.isObject(s))return;let o="";switch(e){case"ItemBombDefuse":o=qs.ID;break;case"ItemHint":o=C.HINT.ID;break;case"ItemShuffle":o=C.SHUFFLE.ID;break;case"ItemRocket":o=Di.ID;break}const i=s[o];if(!GameCore.Utils.Valid.isNumber(i))return;const r=this.items[o].amount+t;this.scene.player.setCustomData("items",{[this.items[o].name]:r})}stop(){this.isRunning()&&(this.setIsUseableItem(!1),this.setState(Zs.STOPPED))}handleTileShowedUp=()=>{this.setIsUseableItem(!0)};handleItemState=()=>{this.setIsUseableItem(!1),this.updateRocketItemState(),this.updateBombDefuseItemState()};setIsUseableItem(e){this.isUseableItem!==e&&(this.isUseableItem=e)}getIsUseableItem(){return this.isUseableItem}updateItemAmount(e){const t=this.items[e];if(!t)return;const s=this.scene.player.getCustomData("items");if(!GameCore.Utils.Valid.isObject(s))return;const o=s[e];GameCore.Utils.Valid.isNumber(o)&&(console.info("🚀 > updateAmount",{id:e,amount:o}),t.setAmount(o))}addItemAmount(e,t){const s=this.items[e];if(!s||!GameCore.Utils.Valid.isNumber(t))return;const o=s.amount+t;s.setAmount(o),this.scene.player.setCustomData("items",{[s.name]:o})}updateItemState(){const{levelHandler:e}=this.scene;e.isLevelHaveBomb()||this.disableItem(C.BOMB_DEFUSE.ID)}activeItem(e){if(!this.isRunning())return!1;const{tutorialManager:t,tileManager:s}=this.scene,{tutorialId:o}=t,i=o===e,r=e===Ni.ID;if(!this.isUseableItem&&!i&&!r||!this.items[e]||this.itemActive&&this.itemActive!==e)return!1;if(!this.items[e].getIsFree()&&this.items[e].amount<1&&e!==C.INVITE.ID){const{screenManager:n}=this.scene;return n.showRewardItemScreen(e,1),!1}if(e===qs.ID&&!s.isHavingBomb())return!1;for(const n in this.items)n!==Ni.ID&&this.deactivateItem(n,!1);if(r||(this.itemActive=e),this.items[e].activeItem(),this.setIsUseableItem(!1),!this.items[e].getIsFree()&&e!==C.INVITE.ID){const n=this.items[e].amount-1;this.items[e].setAmount(n),this.scene.player.setCustomData("items",{[this.items[e].name]:n})}return this.scene.game.analytics.event(U.USE_ITEM,{item_name:e===C.GUIDE_BOMB_DEFUSE.ID?C.BOMB_DEFUSE.ID:e}),!0}enableItem(e){this.items[e]&&this.items[e].enableItem()}disableItem(e){this.items[e]&&this.items[e].disableItem()}setFreeItem(e){this.items[e]&&this.items[e].setFreeMode(!0)}setPaidItem(e,t=!1){this.items[e]&&this.items[e].setFreeMode(!1,t)}setDepthItemOnTop(e){this.items[e]&&this.items[e].setDepth(W.ON_TOP)}setDepthItemNormal(e){this.items[e]&&this.items[e].setDepth(W.ITEM)}deactivateItem(e,t=!0){this.items[e]&&(this.itemActive="",this.items[e].deactivateItem(),t&&this.hideMask(),this.setIsUseableItem(!0))}getActiveItem(){if(this.isRunning()&&this.items[this.itemActive])return this.items[this.itemActive]}createMultiMask(e){this.maskGraphics?.destroy(),this.maskGraphics=this.scene.make.graphics({fillStyle:{color:16711680,alpha:1}}),this.maskGraphics.setName("MaskGraphics"),e.forEach(t=>{this.maskGraphics.fillRoundedRect(t.x,t.y,t.width,t.height,t.radius)}),this.background.revive(),this.background.clearMask(!0),this.background.setMask(this.maskGraphics.createGeometryMask()),this.background.mask.invertAlpha=!0,this.showMask()}showMask(){if([C.ROCKET.ID].indexOf(this.itemActive)===-1)return;this.scene.tweens.killTweensOf(this.currentHideableObjects),this.scene.tweens.killTweensOf([this.background]);const{layoutManager:e}=this.scene,{groups:t}=e;switch(t.gameUI.killGroup(),this.itemActive){case C.ROCKET.ID:{const s=this.items[C.ROCKET.ID];s instanceof Xo&&s.setVisible(!0)}break}this.currentHideableObjects=t.gameUI.getMatching("visible",!1),this.currentHideableObjects.forEach(s=>{s.setVisible(!0)}),this.scene.add.tween({targets:this.currentHideableObjects,duration:400,ease:Phaser.Math.Easing.Quadratic.Out,props:{alpha:0}}),this.background.setAlpha(0),this.scene.add.tween({targets:[this.background],duration:400,ease:Phaser.Math.Easing.Quadratic.Out,props:{alpha:.6}})}hideMask(){if(!this.currentHideableObjects.length)return;const e=[this.scene.background,...this.currentHideableObjects];this.scene.tweens.killTweensOf(e),this.scene.add.tween({targets:this.currentHideableObjects,duration:400,ease:Phaser.Math.Easing.Quadratic.In,props:{alpha:1},onComplete:()=>{const{groups:t}=this.scene.layoutManager;t.gameUI.reviveGroup(),this.currentHideableObjects=[]}}),this.scene.add.tween({targets:[this.background],duration:400,ease:Phaser.Math.Easing.Quadratic.Out,props:{alpha:0},onComplete:()=>{this.background.kill()}})}applyItem(e){if(!this.isRunning()||!this.getActiveItem())return!1;let s=!1;switch(this.itemActive){case C.CHANGE_COLOR.ID:{const o=this.items[C.CHANGE_COLOR.ID];o instanceof ka&&(s=o.useItem(e))}break;default:return!1}return s}getItems(){const e=[];return Object.values(this.items).forEach(t=>{t instanceof Sa||e.push(t)}),e}getItem(e){return this.items[e]||null}updateBombDefuseItemState(){const{tileManager:e,itemManager:t}=this.scene;e.isHavingBomb()||t.disableItem(qs.ID)}updateRocketItemState(){const{tileManager:e,itemManager:t}=this.scene;e.getAliveTiles().length<4&&t.disableItem(Di.ID)}createBackground(){this.background=this.scene.make.image({key:Bu,frame:Uu.BLANK}),this.background.setTint(0),this.background.setDepth(W.TILE+1);const{displayWidth:e,displayHeight:t}=this.scene.gameZone,s=e+100,o=t+100;this.background.setDisplaySize(s,o),Phaser.Display.Align.In.Center(this.background,this.scene.gameZone),this.background.kill()}createItems(){this.createHintItem(),this.createRocketItem(),this.createDefuseItem(),this.createGuideDefuseItem(),this.createShuffleItem(),this.createNewGameItem(),this.createTimeUpItem(),this.createAutoMatchItem(),this.createResetDataItem(),this.createBackLevelItem(),this.createNextLevelItem(),this.createChangeColorItem(),this.createBombExplosiveItem()}createHintItem(){const{objects:e}=this.scene.layoutManager;this.items[C.HINT.ID]=e.hintItem}createShuffleItem(){const{objects:e}=this.scene.layoutManager;this.items[C.SHUFFLE.ID]=e.shuffleItem}createDefuseItem(){const{objects:e}=this.scene.layoutManager;this.items[C.BOMB_DEFUSE.ID]=e.defuseItem}createGuideDefuseItem(){const{objects:e}=this.scene.layoutManager;this.items[C.GUIDE_BOMB_DEFUSE.ID]=e.guideDefuseItem}createRocketItem(){const{objects:e}=this.scene.layoutManager;this.items[C.ROCKET.ID]=e.rocketItem}createNewGameItem(){const{objects:e}=this.scene.layoutManager;e.newGame&&(this.items[C.NEW_GAME.ID]=e.newGame)}createChangeColorItem(){const{objects:e}=this.scene.layoutManager;e.changeColor&&(this.items[C.CHANGE_COLOR.ID]=e.changeColor)}createResetDataItem(){const{objects:e}=this.scene.layoutManager;e.resetData&&(this.items[C.RESET_DATA.ID]=e.resetData)}createBackLevelItem(){const{objects:e}=this.scene.layoutManager;e.backLevel&&(this.items[C.BACK_LEVEL.ID]=e.backLevel)}createNextLevelItem(){const{objects:e}=this.scene.layoutManager;e.nextLevel&&(this.items[C.NEXT_LEVEL.ID]=e.nextLevel)}createBombExplosiveItem(){const{objects:e}=this.scene.layoutManager;e.bombExplosive&&(this.items[C.BOMB_EXPLOSIVE.ID]=e.bombExplosive)}createTimeUpItem(){const{objects:e}=this.scene.layoutManager;e.timeUp&&(this.items[C.TIME_UP.ID]=e.timeUp)}createAutoMatchItem(){const{objects:e}=this.scene.layoutManager;e.autoMatch&&(this.items[C.AUTO_MATCH.ID]=e.autoMatch)}}const be={NORMAL:"normal",FALL_DOWN:"fall-down",FLY_UP:"fly-up",PUSH_LEFT:"push-left",PUSH_RIGHT:"push-right",PUT_ROWS_MIDDLE:"put-rows-middle",PUT_COLUMNS_MIDDLE:"put-columns-middle",FLY_UP_PUSH_LEFT:"fly-up-push-left",FLY_UP_PUSH_RIGHT:"fly-up-push-right",FALL_DOWN_PUSH_LEFT:"fall-down-push-left",FALL_DOWN_PUSH_RIGHT:"fall-down-push-right",FLY_UP_PUT_COLUMNS_MIDDLE:"fly-up-put-columns-middle",FALL_DOWN_PUT_COLUMNS_MIDDLE:"fall-down-put-columns-middle"},Yu={MAX_SPACE_OF_PAIR:"maxSpaceOfPair",ADD_RANDOM_TILES_PER_MOVE:"addRandomTilesPerMove"},Wu=Yu,Ku={BIRD:"BIRD",CAKE:"CAKE",FRUIT:"FRUIT",CANDY:"CANDY"},ms=Ku,zu=[{level:1,mode:"normal",time:900,colors:12,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:1,addRandomTilesPerMove:0},columns:5,rows:6,theme:["fruit"],customFen:{code:"",portraitCode:":t01t02t03t03t04:t05t06t05t07t08:t04t09i01t09t07:t10t02i01i01t06:t08t10i01i01t01",desktopCode:":t01t02t03t03t04:t05t06t05t07t08:t04t09i01t09t07:t10t02i01i01t06:t08t10i01i01t01",rows:5,columns:5}},{level:2,mode:"normal",time:900,colors:12,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["cake"],customFen:{code:"",portraitCode:":t01t02t01t03t04:t05t04t02t06t03:t07t08t08t06t02:t05t09t02t08t07:t10t06t08t10t07:t04t09t05t03t01:t10t10t07t09t09:t01t04t05t03t06",desktopCode:":t01t05t07t05t10t04t10t01:t02t04t08t09t06t09t10t04:t01t02t08t02t08t05t07t05:t03t06t06t08t10t03t09t03:t04t03t02t07t07t01t09t06",rows:8,columns:5}},{level:3,mode:"normal",time:130,colors:12,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:3,addRandomTilesPerMove:0},columns:5,rows:8,theme:["candy"],customFen:{code:"",portraitCode:":t01t02t03t02t04:t05t04t06t04t03:t03t06t07t08t07:t01t03t05t02t05:t01t08t08t09t01:t07t09t09t07t10:t02t08t10t06t10:t04t05t06t10t09",desktopCode:":t01t05t03t01t01t07t02t04:t02t04t06t03t08t09t08t05:t03t06t07t05t08t09t10t06:t02t04t08t02t09t07t06t10:t04t03t07t05t01t10t10t09",rows:8,columns:5}},{level:4,mode:"normal",time:130,colors:12,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:2,addRandomTilesPerMove:0},columns:5,rows:8,theme:["flower"],customFen:{code:"",portraitCode:":t04t02t03t04t05:t01t06t01t05t07:t05t08t04t09t09:t02t04t02t08t07:t10t10t10t06t08:t03t05t09t01t07:t10t09t03t01t03:t06t07t02t06t08",desktopCode:":t04t01t05t02t10t03t10t06:t02t06t08t04t10t05t09t07:t03t01t04t02t10t09t03t02:t04t05t09t08t06t01t01t06:t05t07t09t07t08t07t03t08",rows:8,columns:5}},{level:5,mode:"push-left",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:1,addRandomTilesPerMove:0},columns:5,rows:8,theme:["food"]},{level:6,mode:"normal",time:100,colors:12,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:2,addRandomTilesPerMove:0},columns:5,rows:8,theme:["umbrella"]},{level:7,mode:"normal",time:100,colors:12,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:2,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit"]},{level:8,mode:"normal",time:130,colors:16,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:2,addRandomTilesPerMove:0},columns:6,rows:10,theme:["candy"]},{level:9,mode:"normal",time:130,colors:13,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:6,rows:10,theme:["cake"]},{level:10,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:5,rows:8,theme:["flower"]},{level:11,mode:"fly-up-push-right",time:160,colors:19,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["food"]},{level:12,mode:"normal",time:100,colors:12,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit"]},{level:13,mode:"normal",time:130,colors:15,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["candy"]},{level:14,mode:"fall-down",time:180,colors:14,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:12,theme:["cake"]},{level:15,mode:"push-right",time:130,colors:15,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:6,rows:10,theme:["umbrella"]},{level:16,mode:"fall-down-push-right",time:100,colors:18,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit"]},{level:17,mode:"normal",time:130,colors:28,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:6,rows:10,theme:["flower"]},{level:18,mode:"fall-down-push-left",time:100,colors:16,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["food"]},{level:19,mode:"normal",time:130,colors:28,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["cake"]},{level:20,mode:"fly-up-push-left",time:160,colors:15,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:10,theme:["bird"]},{level:21,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:22,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:23,mode:"normal",time:130,colors:28,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:24,mode:"normal",time:100,colors:13,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:25,mode:"fly-up",time:160,colors:15,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:26,mode:"push-left",time:100,colors:20,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:27,mode:"normal",time:180,colors:28,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:28,mode:"push-right",time:100,colors:18,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:29,mode:"fall-down-push-right",time:130,colors:14,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:30,mode:"fly-up-push-right",time:130,colors:14,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:31,mode:"normal",time:100,colors:18,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:32,mode:"fly-up-put-columns-middle",time:160,colors:12,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:33,mode:"normal",time:130,colors:15,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:34,mode:"put-columns-middle",time:100,colors:13,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:35,mode:"fall-down",time:160,colors:15,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:36,mode:"fly-up-push-left",time:130,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:37,mode:"normal",time:130,colors:20,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:38,mode:"fall-down-push-left",time:130,colors:15,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:39,mode:"fall-down",time:100,colors:20,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:40,mode:"put-columns-middle",time:160,colors:14,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:41,mode:"normal",time:100,colors:12,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:42,mode:"fall-down",time:130,colors:17,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:43,mode:"fly-up-put-columns-middle",time:160,colors:13,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:44,mode:"normal",time:130,colors:21,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:45,mode:"normal",time:160,colors:20,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:46,mode:"push-left",time:130,colors:28,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:47,mode:"put-columns-middle",time:180,colors:15,specials:{bomb:1,rocket:4},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:48,mode:"normal",time:130,colors:12,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:49,mode:"normal",time:130,colors:27,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:50,mode:"fall-down",time:160,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:51,mode:"push-right",time:130,colors:15,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:52,mode:"fly-up-put-columns-middle",time:100,colors:18,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:53,mode:"normal",time:160,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:54,mode:"fly-up",time:130,colors:18,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:55,mode:"normal",time:160,colors:28,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:56,mode:"normal",time:130,colors:18,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:57,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:58,mode:"normal",time:130,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:59,mode:"normal",time:100,colors:20,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:60,mode:"normal",time:130,colors:21,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:61,mode:"put-rows-middle",time:160,colors:20,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:62,mode:"fly-up",time:100,colors:18,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:63,mode:"fall-down",time:180,colors:13,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:64,mode:"fly-up-put-columns-middle",time:160,colors:13,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:65,mode:"normal",time:100,colors:14,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:66,mode:"normal",time:160,colors:19,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:67,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:68,mode:"fall-down",time:130,colors:25,specials:{bomb:0,rocket:4},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:69,mode:"fly-up",time:160,colors:15,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:70,mode:"normal",time:130,colors:22,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:71,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:72,mode:"push-right",time:130,colors:12,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:73,mode:"normal",time:160,colors:18,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:74,mode:"normal",time:130,colors:28,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:75,mode:"fall-down",time:160,colors:18,specials:{bomb:2,rocket:4},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:76,mode:"fall-down-push-left",time:100,colors:18,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:77,mode:"normal",time:160,colors:26,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:78,mode:"normal",time:130,colors:22,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:79,mode:"put-rows-middle",time:100,colors:19,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:80,mode:"fly-up-push-right",time:180,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:81,mode:"normal",time:130,colors:14,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:82,mode:"fall-down",time:160,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:83,mode:"normal",time:130,colors:20,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:84,mode:"normal",time:100,colors:13,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:85,mode:"normal",time:160,colors:12,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:86,mode:"fall-down-push-right",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:87,mode:"normal",time:130,colors:19,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:88,mode:"normal",time:160,colors:24,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:89,mode:"fall-down-push-left",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:90,mode:"normal",time:160,colors:28,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:91,mode:"normal",time:130,colors:22,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:92,mode:"fall-down",time:160,colors:18,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:93,mode:"normal",time:130,colors:15,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:94,mode:"normal",time:100,colors:12,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:95,mode:"put-columns-middle",time:130,colors:28,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:96,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:97,mode:"fly-up",time:180,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:98,mode:"normal",time:160,colors:24,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:99,mode:"normal",time:130,colors:22,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:100,mode:"normal",time:160,colors:21,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:101,mode:"put-columns-middle",time:180,colors:16,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:102,mode:"fall-down-put-columns-middle",time:180,colors:18,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:103,mode:"normal",time:160,colors:13,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:104,mode:"put-columns-middle",time:180,colors:20,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:105,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:106,mode:"put-columns-middle",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:107,mode:"normal",time:100,colors:12,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:108,mode:"normal",time:130,colors:28,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:109,mode:"normal",time:100,colors:20,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:110,mode:"normal",time:100,colors:12,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:111,mode:"fall-down-push-right",time:160,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:112,mode:"normal",time:160,colors:25,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:113,mode:"normal",time:160,colors:14,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:114,mode:"normal",time:100,colors:12,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:115,mode:"fly-up-put-columns-middle",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:116,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:117,mode:"fly-up-put-columns-middle",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:118,mode:"normal",time:100,colors:12,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:119,mode:"normal",time:160,colors:19,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:120,mode:"fall-down-put-columns-middle",time:100,colors:12,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:121,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:122,mode:"normal",time:130,colors:26,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:123,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:124,mode:"fly-up",time:130,colors:25,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:125,mode:"normal",time:160,colors:22,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:126,mode:"fly-up-push-right",time:130,colors:26,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:127,mode:"fall-down-push-left",time:100,colors:16,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:128,mode:"normal",time:130,colors:26,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:129,mode:"normal",time:160,colors:24,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:130,mode:"fall-down",time:160,colors:28,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:131,mode:"normal",time:160,colors:19,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:132,mode:"normal",time:100,colors:12,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:133,mode:"normal",time:100,colors:20,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:134,mode:"fall-down-push-left",time:160,colors:15,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:135,mode:"fly-up",time:130,colors:26,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:136,mode:"normal",time:100,colors:19,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:137,mode:"fall-down-push-left",time:100,colors:18,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:138,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:139,mode:"push-left",time:130,colors:27,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:140,mode:"fall-down",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:141,mode:"push-right",time:100,colors:20,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:142,mode:"push-right",time:160,colors:21,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:143,mode:"fly-up",time:130,colors:28,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:144,mode:"push-left",time:130,colors:15,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:145,mode:"normal",time:180,colors:16,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:146,mode:"fly-up-push-left",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:147,mode:"normal",time:100,colors:20,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:148,mode:"fly-up-push-left",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:149,mode:"normal",time:100,colors:12,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:150,mode:"normal",time:160,colors:21,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:151,mode:"normal",time:100,colors:18,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:152,mode:"normal",time:130,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:153,mode:"fly-up",time:160,colors:28,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:154,mode:"normal",time:180,colors:14,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:155,mode:"fall-down-push-left",time:160,colors:16,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:156,mode:"fly-up-push-right",time:160,colors:12,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:157,mode:"fall-down-push-left",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:158,mode:"fall-down-push-right",time:160,colors:26,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:159,mode:"normal",time:160,colors:17,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:160,mode:"fly-up-push-left",time:100,colors:20,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:161,mode:"normal",time:100,colors:15,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:162,mode:"normal",time:100,colors:12,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:163,mode:"normal",time:100,colors:19,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:164,mode:"normal",time:130,colors:17,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:165,mode:"normal",time:130,colors:13,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:166,mode:"normal",time:100,colors:17,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:167,mode:"normal",time:100,colors:20,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:168,mode:"fly-up-push-right",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:169,mode:"fly-up-put-columns-middle",time:130,colors:21,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:170,mode:"push-right",time:180,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:171,mode:"fly-up-push-right",time:130,colors:13,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:172,mode:"fly-up",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:173,mode:"push-right",time:100,colors:12,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:174,mode:"fall-down-put-columns-middle",time:100,colors:17,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:175,mode:"put-rows-middle",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:176,mode:"normal",time:160,colors:14,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:177,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:178,mode:"push-right",time:160,colors:28,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:179,mode:"fly-up-push-right",time:100,colors:12,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:180,mode:"normal",time:130,colors:13,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:181,mode:"normal",time:180,colors:25,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:182,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:183,mode:"normal",time:100,colors:19,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:184,mode:"normal",time:100,colors:18,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:185,mode:"normal",time:130,colors:28,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:186,mode:"fly-up",time:160,colors:14,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:187,mode:"push-right",time:160,colors:19,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:188,mode:"fly-up-push-right",time:180,colors:13,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:189,mode:"push-left",time:130,colors:25,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:190,mode:"normal",time:160,colors:13,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:191,mode:"fly-up-push-right",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:192,mode:"normal",time:100,colors:12,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:193,mode:"fly-up-push-left",time:130,colors:19,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:194,mode:"push-left",time:100,colors:14,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:195,mode:"fly-up",time:100,colors:17,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:196,mode:"fall-down-push-left",time:100,colors:12,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:197,mode:"fall-down-push-right",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:198,mode:"push-left",time:100,colors:20,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:199,mode:"fall-down-put-columns-middle",time:160,colors:14,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:200,mode:"normal",time:100,colors:19,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:201,mode:"normal",time:130,colors:28,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:202,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:203,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:204,mode:"fall-down-push-left",time:130,colors:13,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:205,mode:"fly-up-push-left",time:100,colors:13,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:206,mode:"fly-up-put-columns-middle",time:160,colors:18,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:207,mode:"put-rows-middle",time:100,colors:17,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:208,mode:"normal",time:130,colors:22,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:209,mode:"fly-up-push-left",time:100,colors:14,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:210,mode:"push-left",time:100,colors:16,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:211,mode:"fall-down-push-left",time:130,colors:15,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:212,mode:"put-columns-middle",time:100,colors:20,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:213,mode:"normal",time:160,colors:28,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:214,mode:"fly-up-push-right",time:100,colors:18,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:215,mode:"normal",time:130,colors:14,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:216,mode:"normal",time:160,colors:13,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:217,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:218,mode:"normal",time:160,colors:28,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:219,mode:"normal",time:100,colors:20,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:220,mode:"fly-up-push-right",time:160,colors:24,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:221,mode:"normal",time:130,colors:20,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:222,mode:"normal",time:160,colors:16,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:223,mode:"normal",time:100,colors:18,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:224,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:225,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:226,mode:"fly-up",time:100,colors:12,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:227,mode:"fly-up-push-right",time:130,colors:26,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:228,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:229,mode:"normal",time:100,colors:16,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:230,mode:"fall-down",time:100,colors:17,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:231,mode:"push-right",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:232,mode:"push-right",time:130,colors:14,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:233,mode:"fall-down-push-right",time:100,colors:12,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:234,mode:"normal",time:160,colors:22,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:235,mode:"normal",time:160,colors:12,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:236,mode:"normal",time:100,colors:20,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:237,mode:"normal",time:100,colors:14,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:238,mode:"normal",time:160,colors:17,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:239,mode:"push-right",time:160,colors:14,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:240,mode:"normal",time:130,colors:15,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:241,mode:"fall-down-put-columns-middle",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:242,mode:"fall-down",time:130,colors:26,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:243,mode:"fly-up-put-columns-middle",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:244,mode:"normal",time:160,colors:14,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:245,mode:"fall-down",time:130,colors:23,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:246,mode:"fall-down-put-columns-middle",time:130,colors:13,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:247,mode:"normal",time:130,colors:27,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:248,mode:"normal",time:160,colors:23,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:249,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:250,mode:"put-rows-middle",time:100,colors:14,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:251,mode:"normal",time:160,colors:12,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:252,mode:"normal",time:160,colors:28,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:253,mode:"fly-up",time:180,colors:28,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:8},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:254,mode:"push-left",time:100,colors:18,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:255,mode:"put-rows-middle",time:100,colors:20,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:256,mode:"normal",time:130,colors:16,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:257,mode:"put-rows-middle",time:160,colors:28,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:258,mode:"fall-down-push-left",time:160,colors:28,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:259,mode:"put-rows-middle",time:130,colors:25,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:260,mode:"normal",time:100,colors:17,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:261,mode:"normal",time:100,colors:13,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:262,mode:"fall-down-push-left",time:100,colors:13,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:263,mode:"normal",time:160,colors:28,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:264,mode:"put-columns-middle",time:100,colors:12,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:265,mode:"normal",time:180,colors:17,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:266,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:267,mode:"normal",time:180,colors:28,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:268,mode:"fall-down-push-left",time:130,colors:18,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:269,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:270,mode:"normal",time:180,colors:13,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:4},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:271,mode:"normal",time:100,colors:19,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:272,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:273,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:274,mode:"normal",time:130,colors:16,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:275,mode:"normal",time:130,colors:16,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:276,mode:"fly-up",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:277,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:278,mode:"fall-down-put-columns-middle",time:180,colors:18,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:279,mode:"fly-up-put-columns-middle",time:160,colors:28,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:280,mode:"normal",time:160,colors:19,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:281,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:282,mode:"normal",time:130,colors:12,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:283,mode:"normal",time:160,colors:28,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:284,mode:"normal",time:100,colors:12,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:285,mode:"normal",time:130,colors:16,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:286,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:287,mode:"normal",time:160,colors:28,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:288,mode:"fly-up-push-left",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:289,mode:"normal",time:130,colors:27,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:290,mode:"fly-up-push-left",time:100,colors:20,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:291,mode:"fly-up-push-right",time:100,colors:19,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:292,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:293,mode:"fly-up-push-left",time:100,colors:17,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:294,mode:"put-rows-middle",time:100,colors:12,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:295,mode:"fly-up",time:160,colors:12,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:296,mode:"put-columns-middle",time:160,colors:28,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:297,mode:"normal",time:100,colors:17,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:298,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:299,mode:"fly-up-put-columns-middle",time:130,colors:19,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:300,mode:"put-columns-middle",time:160,colors:28,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:301,mode:"normal",time:100,colors:16,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:302,mode:"normal",time:130,colors:17,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:303,mode:"normal",time:160,colors:28,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:304,mode:"normal",time:160,colors:16,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:305,mode:"fall-down",time:100,colors:18,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:306,mode:"push-right",time:160,colors:18,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:307,mode:"fall-down",time:130,colors:17,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:308,mode:"normal",time:130,colors:23,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:309,mode:"fly-up-push-right",time:100,colors:16,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:310,mode:"normal",time:130,colors:16,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:311,mode:"fall-down",time:100,colors:20,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:312,mode:"put-columns-middle",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:313,mode:"fall-down-put-columns-middle",time:130,colors:16,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:314,mode:"normal",time:100,colors:19,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:315,mode:"normal",time:130,colors:24,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:316,mode:"normal",time:160,colors:28,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:317,mode:"normal",time:130,colors:15,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:318,mode:"normal",time:100,colors:12,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:319,mode:"fly-up-push-left",time:130,colors:14,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:320,mode:"fly-up-push-left",time:160,colors:23,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:321,mode:"normal",time:160,colors:16,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:322,mode:"normal",time:160,colors:28,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:323,mode:"push-left",time:160,colors:26,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:324,mode:"push-right",time:130,colors:21,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:325,mode:"normal",time:130,colors:27,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:326,mode:"put-rows-middle",time:130,colors:28,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:327,mode:"normal",time:160,colors:28,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:328,mode:"push-left",time:130,colors:28,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:329,mode:"normal",time:100,colors:16,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:330,mode:"push-right",time:160,colors:28,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:331,mode:"push-right",time:100,colors:17,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:332,mode:"fly-up-put-columns-middle",time:100,colors:14,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:333,mode:"normal",time:130,colors:12,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:334,mode:"put-columns-middle",time:100,colors:12,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:335,mode:"fall-down-push-left",time:130,colors:18,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:336,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:337,mode:"fly-up-push-right",time:160,colors:19,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:338,mode:"fall-down",time:160,colors:21,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:339,mode:"push-right",time:100,colors:12,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:340,mode:"normal",time:160,colors:14,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:341,mode:"push-left",time:100,colors:16,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:342,mode:"normal",time:180,colors:21,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:343,mode:"normal",time:100,colors:19,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:344,mode:"push-right",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:345,mode:"put-columns-middle",time:160,colors:13,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:346,mode:"normal",time:100,colors:14,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:347,mode:"normal",time:160,colors:20,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:348,mode:"normal",time:130,colors:24,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:349,mode:"fall-down-push-left",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:350,mode:"fall-down-push-right",time:100,colors:20,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:351,mode:"normal",time:100,colors:12,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:352,mode:"normal",time:100,colors:18,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:353,mode:"normal",time:100,colors:12,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:354,mode:"put-rows-middle",time:160,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:355,mode:"fly-up-put-columns-middle",time:130,colors:13,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:356,mode:"fly-up",time:160,colors:28,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:357,mode:"normal",time:100,colors:14,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:358,mode:"push-right",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:359,mode:"fall-down",time:100,colors:20,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:360,mode:"normal",time:100,colors:19,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:361,mode:"fall-down-push-left",time:100,colors:12,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:362,mode:"fly-up-put-columns-middle",time:130,colors:12,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:363,mode:"fall-down",time:180,colors:18,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:364,mode:"fly-up-push-left",time:100,colors:20,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:365,mode:"normal",time:100,colors:18,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:366,mode:"normal",time:130,colors:23,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:367,mode:"normal",time:130,colors:24,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:368,mode:"push-left",time:100,colors:16,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:369,mode:"normal",time:130,colors:28,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:370,mode:"normal",time:130,colors:22,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:371,mode:"normal",time:160,colors:17,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:372,mode:"normal",time:130,colors:12,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:373,mode:"put-columns-middle",time:100,colors:12,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:374,mode:"push-left",time:100,colors:16,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:375,mode:"push-right",time:130,colors:28,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:376,mode:"normal",time:100,colors:12,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:377,mode:"normal",time:160,colors:22,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:378,mode:"put-columns-middle",time:160,colors:25,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:379,mode:"push-left",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:380,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:381,mode:"fly-up-push-left",time:180,colors:28,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:382,mode:"normal",time:130,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:383,mode:"fly-up",time:100,colors:18,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:384,mode:"fall-down",time:160,colors:22,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:385,mode:"fall-down-put-columns-middle",time:100,colors:18,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:386,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:387,mode:"fall-down",time:180,colors:19,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:388,mode:"fly-up-push-right",time:130,colors:26,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:389,mode:"push-left",time:100,colors:20,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:390,mode:"fly-up-put-columns-middle",time:180,colors:13,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:391,mode:"normal",time:100,colors:13,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:392,mode:"normal",time:130,colors:16,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:393,mode:"fly-up-push-right",time:160,colors:26,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:394,mode:"normal",time:130,colors:26,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:395,mode:"normal",time:100,colors:12,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:396,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:397,mode:"normal",time:100,colors:20,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:398,mode:"push-left",time:160,colors:16,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:399,mode:"normal",time:100,colors:12,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:400,mode:"normal",time:100,colors:12,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:401,mode:"fly-up-push-right",time:100,colors:16,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:402,mode:"fall-down",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:403,mode:"normal",time:100,colors:20,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:404,mode:"normal",time:160,colors:26,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:405,mode:"normal",time:160,colors:28,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:406,mode:"normal",time:130,colors:28,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:407,mode:"normal",time:100,colors:18,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:408,mode:"normal",time:100,colors:13,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:409,mode:"fly-up-push-left",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:410,mode:"fall-down-put-columns-middle",time:160,colors:18,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:411,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:412,mode:"fall-down",time:160,colors:19,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:413,mode:"fall-down-put-columns-middle",time:160,colors:12,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:414,mode:"fly-up",time:130,colors:24,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:415,mode:"normal",time:100,colors:16,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:416,mode:"push-right",time:160,colors:12,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:417,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:418,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:419,mode:"push-left",time:100,colors:18,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:420,mode:"put-columns-middle",time:130,colors:23,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:421,mode:"fly-up-put-columns-middle",time:100,colors:12,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:422,mode:"fall-down-put-columns-middle",time:160,colors:13,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:423,mode:"fly-up-put-columns-middle",time:160,colors:28,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:424,mode:"normal",time:130,colors:28,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:425,mode:"fly-up-push-left",time:100,colors:20,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:426,mode:"fall-down",time:130,colors:14,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:427,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:428,mode:"normal",time:130,colors:12,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:429,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:430,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:431,mode:"normal",time:130,colors:20,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:432,mode:"put-rows-middle",time:100,colors:19,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:433,mode:"normal",time:160,colors:28,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:434,mode:"fly-up-push-left",time:100,colors:20,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:435,mode:"normal",time:100,colors:14,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:436,mode:"push-right",time:160,colors:27,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:437,mode:"fall-down-push-right",time:130,colors:18,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:438,mode:"put-columns-middle",time:130,colors:27,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:439,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:440,mode:"normal",time:160,colors:25,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:441,mode:"fly-up-put-columns-middle",time:160,colors:23,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:442,mode:"push-right",time:160,colors:25,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:443,mode:"normal",time:160,colors:19,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:444,mode:"normal",time:100,colors:20,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:445,mode:"normal",time:130,colors:28,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:446,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:447,mode:"fall-down-push-left",time:180,colors:13,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:448,mode:"fall-down-push-right",time:160,colors:25,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:449,mode:"put-columns-middle",time:160,colors:14,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:450,mode:"push-right",time:100,colors:19,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:451,mode:"fly-up-put-columns-middle",time:160,colors:28,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:452,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:453,mode:"fly-up-push-left",time:100,colors:20,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:454,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:455,mode:"normal",time:160,colors:22,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:456,mode:"push-right",time:130,colors:23,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:457,mode:"fly-up-put-columns-middle",time:160,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:458,mode:"fall-down-put-columns-middle",time:160,colors:28,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:459,mode:"normal",time:100,colors:14,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:460,mode:"normal",time:160,colors:21,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:461,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:462,mode:"fly-up-push-left",time:100,colors:20,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:463,mode:"normal",time:100,colors:12,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:464,mode:"put-rows-middle",time:100,colors:13,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:465,mode:"normal",time:130,colors:24,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:466,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:467,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:468,mode:"push-left",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:469,mode:"normal",time:160,colors:19,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:470,mode:"normal",time:160,colors:17,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:471,mode:"fall-down-push-right",time:100,colors:17,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:472,mode:"fall-down",time:160,colors:17,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:473,mode:"normal",time:160,colors:25,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:474,mode:"push-right",time:130,colors:25,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:475,mode:"normal",time:160,colors:15,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:476,mode:"fall-down-push-left",time:180,colors:14,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:477,mode:"fall-down",time:100,colors:18,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:478,mode:"push-right",time:180,colors:12,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:479,mode:"normal",time:130,colors:28,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:480,mode:"normal",time:160,colors:18,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:481,mode:"fly-up-push-left",time:100,colors:18,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:482,mode:"normal",time:160,colors:28,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:483,mode:"put-columns-middle",time:130,colors:24,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:484,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:485,mode:"fall-down-put-columns-middle",time:180,colors:15,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:486,mode:"normal",time:130,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:487,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:488,mode:"fall-down-push-right",time:130,colors:24,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:489,mode:"normal",time:160,colors:25,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:490,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:491,mode:"fly-up-put-columns-middle",time:100,colors:12,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:492,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:493,mode:"put-columns-middle",time:100,colors:12,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:494,mode:"normal",time:130,colors:12,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:495,mode:"normal",time:130,colors:28,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:496,mode:"normal",time:180,colors:28,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:497,mode:"put-rows-middle",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:498,mode:"normal",time:100,colors:12,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:499,mode:"normal",time:100,colors:20,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:500,mode:"put-rows-middle",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:501,mode:"fall-down-push-right",time:100,colors:20,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:502,mode:"normal",time:130,colors:28,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:503,mode:"fall-down",time:100,colors:20,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:504,mode:"fall-down-push-left",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:505,mode:"push-right",time:160,colors:20,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:506,mode:"fly-up",time:160,colors:16,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:507,mode:"push-right",time:100,colors:19,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:508,mode:"fly-up-push-right",time:100,colors:12,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:509,mode:"push-right",time:100,colors:16,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:510,mode:"put-rows-middle",time:160,colors:25,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:511,mode:"normal",time:160,colors:19,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:512,mode:"push-right",time:160,colors:21,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:513,mode:"fall-down-push-right",time:100,colors:14,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:514,mode:"put-rows-middle",time:100,colors:20,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:515,mode:"fly-up-put-columns-middle",time:160,colors:25,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:516,mode:"push-right",time:100,colors:12,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:517,mode:"push-left",time:180,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:518,mode:"normal",time:130,colors:24,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:519,mode:"normal",time:160,colors:13,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:520,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:521,mode:"push-right",time:130,colors:22,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:522,mode:"normal",time:100,colors:13,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:523,mode:"normal",time:130,colors:25,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:524,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:525,mode:"fall-down",time:160,colors:15,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:526,mode:"fly-up-push-left",time:100,colors:12,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:527,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:528,mode:"normal",time:160,colors:20,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:529,mode:"normal",time:100,colors:12,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:530,mode:"normal",time:100,colors:20,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:531,mode:"fall-down-put-columns-middle",time:100,colors:12,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:532,mode:"fall-down-push-right",time:100,colors:12,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:533,mode:"normal",time:100,colors:20,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:534,mode:"normal",time:130,colors:25,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:535,mode:"normal",time:130,colors:28,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:536,mode:"normal",time:160,colors:15,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:537,mode:"put-rows-middle",time:100,colors:20,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:538,mode:"normal",time:100,colors:14,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:539,mode:"normal",time:130,colors:19,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:540,mode:"fly-up-push-left",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:541,mode:"fall-down-push-left",time:100,colors:20,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:542,mode:"fly-up-put-columns-middle",time:130,colors:26,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:543,mode:"fall-down-push-left",time:100,colors:12,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:544,mode:"push-left",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:545,mode:"put-rows-middle",time:100,colors:15,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:546,mode:"fall-down-put-columns-middle",time:160,colors:28,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:547,mode:"normal",time:100,colors:19,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:548,mode:"fly-up",time:160,colors:12,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:549,mode:"fly-up",time:100,colors:20,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:550,mode:"normal",time:160,colors:16,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:551,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:552,mode:"normal",time:130,colors:14,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:553,mode:"fly-up-put-columns-middle",time:100,colors:17,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:554,mode:"fall-down-push-right",time:100,colors:16,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:555,mode:"normal",time:100,colors:14,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:556,mode:"fly-up-push-left",time:100,colors:17,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:557,mode:"normal",time:160,colors:16,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:558,mode:"normal",time:100,colors:17,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:559,mode:"put-rows-middle",time:160,colors:16,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:560,mode:"normal",time:100,colors:17,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:561,mode:"normal",time:130,colors:15,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:562,mode:"normal",time:100,colors:13,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:563,mode:"put-columns-middle",time:130,colors:16,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:564,mode:"normal",time:100,colors:16,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:565,mode:"fly-up-put-columns-middle",time:160,colors:14,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:566,mode:"fall-down-put-columns-middle",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:567,mode:"normal",time:130,colors:28,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:568,mode:"push-left",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:569,mode:"fall-down-push-left",time:100,colors:20,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:570,mode:"fall-down-push-right",time:130,colors:28,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:571,mode:"normal",time:180,colors:20,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:572,mode:"normal",time:130,colors:23,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:573,mode:"normal",time:160,colors:22,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:574,mode:"put-columns-middle",time:100,colors:13,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:575,mode:"normal",time:130,colors:12,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:576,mode:"fall-down-put-columns-middle",time:100,colors:12,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:577,mode:"normal",time:130,colors:26,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:578,mode:"fall-down-push-right",time:160,colors:28,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:579,mode:"push-left",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:580,mode:"fall-down-put-columns-middle",time:130,colors:19,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:581,mode:"fly-up-push-left",time:100,colors:18,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:582,mode:"fly-up-push-right",time:100,colors:19,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:583,mode:"put-columns-middle",time:130,colors:17,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:584,mode:"fly-up",time:100,colors:12,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:585,mode:"normal",time:130,colors:28,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:586,mode:"fly-up-put-columns-middle",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:587,mode:"normal",time:130,colors:17,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:588,mode:"normal",time:100,colors:16,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:589,mode:"put-rows-middle",time:100,colors:18,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:590,mode:"fall-down",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:591,mode:"fall-down-put-columns-middle",time:130,colors:28,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:592,mode:"fly-up",time:160,colors:17,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:593,mode:"fly-up-put-columns-middle",time:160,colors:28,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:594,mode:"fall-down-put-columns-middle",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:595,mode:"fall-down-push-left",time:160,colors:17,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:596,mode:"normal",time:100,colors:13,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:597,mode:"normal",time:130,colors:20,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:598,mode:"normal",time:130,colors:28,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:599,mode:"put-columns-middle",time:100,colors:20,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:600,mode:"normal",time:130,colors:28,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:601,mode:"fall-down",time:160,colors:23,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:602,mode:"put-columns-middle",time:160,colors:27,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:603,mode:"fall-down-push-right",time:100,colors:12,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:604,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:605,mode:"normal",time:160,colors:28,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:606,mode:"put-columns-middle",time:100,colors:20,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:607,mode:"normal",time:160,colors:13,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:608,mode:"fall-down-push-left",time:180,colors:24,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:4},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:609,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:610,mode:"normal",time:100,colors:13,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:611,mode:"normal",time:130,colors:24,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:612,mode:"put-rows-middle",time:130,colors:28,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:613,mode:"normal",time:100,colors:12,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:614,mode:"normal",time:180,colors:28,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:615,mode:"fly-up-push-right",time:130,colors:12,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:616,mode:"fall-down-push-right",time:100,colors:20,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:617,mode:"put-rows-middle",time:160,colors:15,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:618,mode:"put-columns-middle",time:100,colors:20,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:619,mode:"normal",time:130,colors:22,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:620,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:621,mode:"fly-up-put-columns-middle",time:130,colors:22,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:622,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:623,mode:"fall-down",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:624,mode:"normal",time:130,colors:28,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:625,mode:"fly-up-push-left",time:180,colors:14,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:626,mode:"fly-up-put-columns-middle",time:130,colors:21,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:627,mode:"put-columns-middle",time:100,colors:12,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:628,mode:"normal",time:130,colors:22,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:629,mode:"normal",time:100,colors:20,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:630,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:631,mode:"push-left",time:100,colors:19,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:632,mode:"normal",time:180,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:633,mode:"normal",time:130,colors:12,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:634,mode:"normal",time:160,colors:15,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:635,mode:"fall-down",time:130,colors:25,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:636,mode:"push-right",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:637,mode:"normal",time:160,colors:25,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:638,mode:"put-columns-middle",time:100,colors:16,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:639,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:640,mode:"put-columns-middle",time:130,colors:27,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:641,mode:"put-columns-middle",time:100,colors:17,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:642,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:643,mode:"fly-up",time:130,colors:21,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:644,mode:"normal",time:130,colors:22,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:645,mode:"fall-down",time:100,colors:19,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:646,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:647,mode:"fall-down-push-right",time:100,colors:19,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:648,mode:"normal",time:130,colors:17,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:649,mode:"fly-up-put-columns-middle",time:130,colors:12,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:650,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:651,mode:"normal",time:130,colors:28,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:652,mode:"fly-up-push-left",time:100,colors:12,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:653,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:654,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:655,mode:"fly-up-push-left",time:100,colors:16,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:656,mode:"fall-down",time:180,colors:22,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:657,mode:"normal",time:160,colors:28,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:658,mode:"push-right",time:100,colors:14,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:659,mode:"normal",time:100,colors:18,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:660,mode:"normal",time:100,colors:13,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:661,mode:"fly-up-put-columns-middle",time:100,colors:20,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:662,mode:"push-left",time:160,colors:24,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:663,mode:"normal",time:100,colors:12,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:664,mode:"fly-up",time:160,colors:23,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:665,mode:"normal",time:100,colors:20,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:666,mode:"fly-up-push-left",time:130,colors:16,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:667,mode:"put-columns-middle",time:130,colors:14,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:668,mode:"normal",time:160,colors:24,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:669,mode:"fall-down-push-left",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:670,mode:"put-rows-middle",time:160,colors:28,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:671,mode:"fly-up-push-right",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:672,mode:"normal",time:100,colors:18,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:673,mode:"fall-down-put-columns-middle",time:160,colors:28,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:674,mode:"normal",time:100,colors:13,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:675,mode:"put-columns-middle",time:100,colors:12,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:676,mode:"normal",time:160,colors:21,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:677,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:678,mode:"fall-down-push-left",time:130,colors:18,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:679,mode:"fly-up",time:100,colors:20,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:680,mode:"fly-up-push-left",time:160,colors:28,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:681,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:682,mode:"normal",time:100,colors:12,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:683,mode:"normal",time:100,colors:17,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:684,mode:"fall-down-push-right",time:100,colors:12,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:685,mode:"normal",time:100,colors:18,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:686,mode:"normal",time:130,colors:14,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:687,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:688,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:689,mode:"put-rows-middle",time:100,colors:20,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:690,mode:"normal",time:100,colors:12,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:691,mode:"normal",time:160,colors:22,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:692,mode:"normal",time:160,colors:18,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:693,mode:"normal",time:100,colors:12,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:694,mode:"push-left",time:130,colors:12,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:695,mode:"normal",time:130,colors:15,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:696,mode:"normal",time:160,colors:21,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:697,mode:"normal",time:130,colors:14,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:698,mode:"fly-up-put-columns-middle",time:130,colors:28,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:699,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:700,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:701,mode:"normal",time:130,colors:23,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:702,mode:"fly-up-put-columns-middle",time:160,colors:28,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:703,mode:"fall-down-push-left",time:130,colors:28,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:704,mode:"fly-up-put-columns-middle",time:100,colors:20,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:705,mode:"normal",time:130,colors:26,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:706,mode:"normal",time:100,colors:20,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:707,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:708,mode:"normal",time:160,colors:28,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:709,mode:"normal",time:100,colors:19,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:710,mode:"normal",time:100,colors:13,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:711,mode:"fall-down-push-left",time:160,colors:15,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:712,mode:"fall-down-put-columns-middle",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:713,mode:"normal",time:100,colors:20,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:714,mode:"fall-down-push-left",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:715,mode:"push-left",time:130,colors:28,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:716,mode:"fly-up-push-right",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:717,mode:"fly-up",time:160,colors:18,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:718,mode:"put-columns-middle",time:160,colors:15,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:719,mode:"push-right",time:100,colors:18,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:720,mode:"fly-up-put-columns-middle",time:130,colors:19,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:721,mode:"push-right",time:180,colors:21,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:722,mode:"normal",time:160,colors:28,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:723,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:724,mode:"push-left",time:160,colors:17,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:725,mode:"normal",time:130,colors:13,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:726,mode:"fly-up-push-right",time:100,colors:12,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:727,mode:"push-right",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:728,mode:"normal",time:130,colors:26,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:729,mode:"fall-down",time:130,colors:28,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:730,mode:"normal",time:100,colors:12,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:731,mode:"normal",time:160,colors:28,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:732,mode:"fly-up-push-right",time:160,colors:23,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:733,mode:"normal",time:130,colors:13,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:734,mode:"fall-down-put-columns-middle",time:130,colors:21,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:735,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:736,mode:"normal",time:180,colors:12,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:737,mode:"fly-up",time:160,colors:18,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:738,mode:"fly-up-put-columns-middle",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:739,mode:"normal",time:160,colors:13,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:740,mode:"normal",time:100,colors:14,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:741,mode:"normal",time:160,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:742,mode:"normal",time:100,colors:19,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:743,mode:"normal",time:100,colors:14,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:744,mode:"put-rows-middle",time:100,colors:20,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:745,mode:"fly-up-push-right",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:746,mode:"normal",time:100,colors:20,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:747,mode:"fall-down-put-columns-middle",time:130,colors:15,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:748,mode:"normal",time:130,colors:17,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:749,mode:"normal",time:160,colors:12,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:750,mode:"fall-down-push-right",time:160,colors:14,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:751,mode:"fall-down-push-left",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:752,mode:"put-columns-middle",time:100,colors:20,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:753,mode:"normal",time:130,colors:19,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:754,mode:"normal",time:100,colors:12,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:755,mode:"normal",time:100,colors:16,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:756,mode:"normal",time:160,colors:28,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:757,mode:"normal",time:160,colors:28,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:758,mode:"normal",time:160,colors:28,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:759,mode:"fly-up-push-left",time:130,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:760,mode:"normal",time:100,colors:12,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:761,mode:"normal",time:100,colors:19,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:762,mode:"normal",time:160,colors:12,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:763,mode:"fall-down",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:764,mode:"fly-up",time:160,colors:13,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:765,mode:"fly-up-push-left",time:180,colors:14,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:766,mode:"push-right",time:180,colors:19,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:767,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:768,mode:"put-rows-middle",time:160,colors:13,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:769,mode:"normal",time:180,colors:13,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:770,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:771,mode:"fly-up-push-left",time:100,colors:20,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:772,mode:"normal",time:130,colors:17,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:773,mode:"put-rows-middle",time:160,colors:12,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:774,mode:"normal",time:130,colors:28,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:775,mode:"put-columns-middle",time:160,colors:24,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:776,mode:"normal",time:160,colors:23,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:777,mode:"push-right",time:160,colors:25,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:778,mode:"fly-up-push-left",time:100,colors:14,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:779,mode:"fly-up-put-columns-middle",time:100,colors:18,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:780,mode:"normal",time:130,colors:23,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:781,mode:"normal",time:160,colors:15,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:782,mode:"normal",time:160,colors:28,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:783,mode:"fly-up-push-left",time:100,colors:20,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:784,mode:"normal",time:100,colors:15,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:785,mode:"normal",time:100,colors:18,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:786,mode:"normal",time:130,colors:15,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:787,mode:"fly-up-push-right",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:788,mode:"fall-down-push-left",time:160,colors:28,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:789,mode:"normal",time:100,colors:16,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:790,mode:"fly-up-push-right",time:160,colors:22,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:791,mode:"fly-up-push-left",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:792,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:793,mode:"fly-up-push-right",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:794,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:795,mode:"normal",time:100,colors:17,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:796,mode:"fly-up-push-right",time:130,colors:25,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:797,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:798,mode:"normal",time:160,colors:22,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:799,mode:"put-columns-middle",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:800,mode:"push-right",time:100,colors:19,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:801,mode:"normal",time:100,colors:18,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:802,mode:"normal",time:160,colors:21,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:803,mode:"normal",time:100,colors:12,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:804,mode:"fall-down-push-right",time:100,colors:14,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:805,mode:"fly-up-push-left",time:160,colors:22,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:806,mode:"normal",time:160,colors:15,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:807,mode:"normal",time:160,colors:24,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:808,mode:"normal",time:100,colors:12,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:809,mode:"push-right",time:130,colors:17,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:810,mode:"fly-up-push-left",time:160,colors:19,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:811,mode:"fly-up",time:130,colors:20,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:812,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:813,mode:"normal",time:160,colors:28,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:814,mode:"normal",time:160,colors:14,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:815,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:816,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:817,mode:"normal",time:100,colors:19,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:818,mode:"fly-up-put-columns-middle",time:130,colors:15,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:819,mode:"normal",time:160,colors:26,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:820,mode:"fly-up-put-columns-middle",time:130,colors:16,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:821,mode:"put-columns-middle",time:130,colors:28,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:822,mode:"push-left",time:130,colors:28,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:823,mode:"fall-down-push-right",time:160,colors:13,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:824,mode:"fly-up",time:100,colors:17,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:825,mode:"normal",time:160,colors:15,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:826,mode:"push-right",time:100,colors:20,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:827,mode:"normal",time:130,colors:27,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:828,mode:"normal",time:130,colors:21,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:829,mode:"fly-up",time:130,colors:12,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:830,mode:"fly-up-push-left",time:100,colors:20,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:831,mode:"fly-up-push-right",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:832,mode:"fall-down-push-left",time:160,colors:17,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:833,mode:"normal",time:130,colors:21,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:834,mode:"fall-down-push-left",time:100,colors:19,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:835,mode:"push-left",time:130,colors:28,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:836,mode:"normal",time:100,colors:16,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:837,mode:"normal",time:130,colors:15,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:838,mode:"normal",time:160,colors:16,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:839,mode:"normal",time:130,colors:14,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:840,mode:"normal",time:100,colors:17,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:841,mode:"normal",time:130,colors:27,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:842,mode:"put-rows-middle",time:100,colors:19,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:843,mode:"fly-up-put-columns-middle",time:100,colors:13,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:844,mode:"fly-up-push-right",time:130,colors:23,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:845,mode:"normal",time:130,colors:25,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:846,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:847,mode:"normal",time:100,colors:15,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:848,mode:"normal",time:100,colors:20,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:849,mode:"push-right",time:100,colors:12,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:850,mode:"normal",time:160,colors:27,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:851,mode:"put-rows-middle",time:100,colors:12,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:852,mode:"fly-up-put-columns-middle",time:160,colors:25,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:853,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:854,mode:"put-columns-middle",time:100,colors:12,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:855,mode:"fly-up-push-right",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:856,mode:"normal",time:100,colors:17,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:857,mode:"fly-up-put-columns-middle",time:130,colors:12,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:858,mode:"normal",time:100,colors:16,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:859,mode:"fall-down-push-right",time:100,colors:18,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:860,mode:"normal",time:180,colors:19,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:4},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:861,mode:"fall-down-push-right",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:862,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:863,mode:"fall-down",time:160,colors:15,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:864,mode:"fall-down-push-left",time:100,colors:19,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:865,mode:"fall-down",time:160,colors:21,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:866,mode:"fall-down-push-left",time:160,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:867,mode:"fly-up-put-columns-middle",time:130,colors:13,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:868,mode:"normal",time:130,colors:27,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:869,mode:"normal",time:180,colors:25,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:870,mode:"normal",time:100,colors:13,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:871,mode:"normal",time:160,colors:19,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:872,mode:"put-rows-middle",time:100,colors:20,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:873,mode:"normal",time:100,colors:12,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:874,mode:"fly-up-put-columns-middle",time:100,colors:12,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:875,mode:"normal",time:100,colors:16,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:876,mode:"normal",time:180,colors:28,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:877,mode:"normal",time:160,colors:21,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:878,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:879,mode:"fly-up-push-left",time:130,colors:25,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:880,mode:"fly-up",time:160,colors:28,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:881,mode:"normal",time:160,colors:25,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:882,mode:"normal",time:160,colors:22,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:883,mode:"normal",time:180,colors:24,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:4},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:884,mode:"normal",time:180,colors:17,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:885,mode:"fall-down-push-left",time:100,colors:17,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:886,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:887,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:888,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:889,mode:"normal",time:100,colors:16,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:890,mode:"normal",time:130,colors:15,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:891,mode:"fly-up-push-right",time:160,colors:12,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:892,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:893,mode:"normal",time:160,colors:20,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:894,mode:"fall-down",time:180,colors:18,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:4},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:895,mode:"fly-up",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:896,mode:"normal",time:160,colors:27,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:897,mode:"put-rows-middle",time:160,colors:12,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:898,mode:"normal",time:160,colors:28,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:899,mode:"fly-up-push-left",time:100,colors:12,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:900,mode:"fall-down-put-columns-middle",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:901,mode:"fall-down-push-right",time:100,colors:17,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:902,mode:"fly-up-put-columns-middle",time:130,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:903,mode:"normal",time:160,colors:17,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:904,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:905,mode:"normal",time:130,colors:28,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:906,mode:"normal",time:130,colors:22,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:907,mode:"fall-down-push-left",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:908,mode:"fly-up-push-right",time:100,colors:19,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:909,mode:"fly-up-put-columns-middle",time:100,colors:20,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:910,mode:"push-left",time:160,colors:26,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:911,mode:"put-columns-middle",time:130,colors:16,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:912,mode:"fall-down-push-left",time:160,colors:16,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:913,mode:"normal",time:100,colors:14,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:914,mode:"fall-down",time:130,colors:12,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:915,mode:"fall-down-push-left",time:160,colors:16,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:916,mode:"fly-up-put-columns-middle",time:100,colors:20,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:917,mode:"fall-down-push-left",time:160,colors:16,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:918,mode:"normal",time:130,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:919,mode:"fall-down-put-columns-middle",time:160,colors:25,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:920,mode:"put-rows-middle",time:100,colors:14,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:921,mode:"normal",time:100,colors:12,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:922,mode:"fall-down",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:923,mode:"normal",time:160,colors:16,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:924,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:925,mode:"normal",time:130,colors:15,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:926,mode:"normal",time:100,colors:20,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:927,mode:"put-columns-middle",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:928,mode:"fly-up-push-right",time:100,colors:17,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:929,mode:"fall-down-push-right",time:100,colors:20,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:930,mode:"normal",time:130,colors:28,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:931,mode:"fly-up",time:130,colors:24,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:932,mode:"normal",time:100,colors:18,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:933,mode:"normal",time:160,colors:28,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:934,mode:"normal",time:130,colors:17,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:935,mode:"fall-down-push-left",time:100,colors:20,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:936,mode:"put-rows-middle",time:160,colors:12,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:937,mode:"fly-up-put-columns-middle",time:160,colors:28,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:938,mode:"normal",time:130,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:939,mode:"normal",time:130,colors:14,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:940,mode:"normal",time:160,colors:26,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:941,mode:"normal",time:180,colors:28,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:942,mode:"normal",time:130,colors:14,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:8},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:943,mode:"normal",time:160,colors:28,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:944,mode:"fly-up",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:945,mode:"put-rows-middle",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:946,mode:"normal",time:130,colors:28,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:947,mode:"normal",time:130,colors:24,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:948,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:949,mode:"put-rows-middle",time:130,colors:28,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:950,mode:"normal",time:130,colors:12,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:951,mode:"normal",time:130,colors:28,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:952,mode:"fall-down",time:130,colors:14,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:953,mode:"fly-up-put-columns-middle",time:130,colors:23,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:954,mode:"put-columns-middle",time:100,colors:19,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:955,mode:"fly-up",time:160,colors:24,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:8},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:956,mode:"normal",time:130,colors:19,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:957,mode:"fall-down",time:160,colors:19,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:958,mode:"fly-up-push-left",time:160,colors:16,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:959,mode:"put-columns-middle",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:960,mode:"normal",time:100,colors:20,specials:{bomb:2,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:961,mode:"fly-up-push-right",time:180,colors:23,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:962,mode:"normal",time:100,colors:12,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:963,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:4,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:964,mode:"normal",time:100,colors:16,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:965,mode:"fall-down-push-left",time:130,colors:21,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:966,mode:"normal",time:180,colors:23,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:7,rows:12,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:967,mode:"normal",time:160,colors:26,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:968,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:969,mode:"normal",time:130,colors:18,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:970,mode:"normal",time:100,colors:20,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:971,mode:"normal",time:130,colors:17,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:972,mode:"fall-down",time:130,colors:17,specials:{bomb:1,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:973,mode:"put-columns-middle",time:130,colors:27,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:974,mode:"fall-down",time:100,colors:20,specials:{bomb:2,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:975,mode:"fly-up",time:100,colors:12,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:976,mode:"fall-down-put-columns-middle",time:160,colors:12,specials:{bomb:1,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:977,mode:"fly-up-push-left",time:100,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:978,mode:"fly-up-put-columns-middle",time:100,colors:20,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:979,mode:"fall-down-push-right",time:160,colors:12,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:980,mode:"push-left",time:160,colors:20,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:981,mode:"normal",time:160,colors:15,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:982,mode:"normal",time:130,colors:14,specials:{bomb:1,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:983,mode:"fly-up-push-right",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:984,mode:"fly-up-push-left",time:130,colors:28,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:985,mode:"fly-up",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:986,mode:"normal",time:130,colors:18,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:987,mode:"fall-down-put-columns-middle",time:160,colors:22,specials:{bomb:0,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:988,mode:"fly-up-push-left",time:130,colors:13,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:989,mode:"normal",time:130,colors:13,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:6,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:990,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:991,mode:"fly-up",time:100,colors:12,specials:{bomb:2,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:992,mode:"normal",time:100,colors:18,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:993,mode:"put-columns-middle",time:100,colors:19,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:6,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:994,mode:"fly-up-push-left",time:100,colors:20,specials:{bomb:1,rocket:0},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:995,mode:"normal",time:100,colors:18,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:996,mode:"normal",time:100,colors:20,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:5,addRandomTilesPerMove:8},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:997,mode:"normal",time:100,colors:20,specials:{bomb:0,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:4},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:998,mode:"fly-up-put-columns-middle",time:160,colors:15,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:4},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:999,mode:"fall-down-put-columns-middle",time:100,colors:20,specials:{bomb:0,rocket:3},rules:{maxSpaceOfPair:7,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:1e3,mode:"normal",time:160,colors:23,specials:{bomb:2,rocket:1},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:7,rows:10,theme:["fruit","cake","bird","candy","flower","umbrella","food"]},{level:1001,mode:"normal",time:100,colors:19,specials:{bomb:0,rocket:2},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:0},columns:5,rows:8,theme:["fruit","cake","bird","candy","flower","umbrella","food"]}],{BOMB:ju,ROCKET:$u}=j.SPECIALS,{ADD_RANDOM_TILES_PER_MOVE:Vu,MAX_SPACE_OF_PAIR:Xu}=Wu,Gi=Object.values(be),Zu={toString:()=>Gi[Math.floor(Math.random()*Gi.length)]},qu=[{level:0,mode:Zu,time:120,rows:12,columns:7,colors:28,specials:{[ju]:10,[$u]:5},rules:{[Xu]:15,[Vu]:35},theme:[ms.BIRD,ms.CAKE,ms.FRUIT,ms.CANDY]},...zu],kt=qu,{Gameplay:Fi}=GameCore.Configs;class Ju{scene;level=0;targetScore=0;gameLevel;levelConfig;constructor(e){this.scene=e,this.gameLevel=kt}init(){const e=this.scene.player.getCustomData("levelProgress");this.level=Fi.StartLevel,GameCore.Utils.Valid.isNumber(e)&&(this.level=e),this.setConfig(this.level)}getConfigs(){return this.levelConfig}isLevelHaveBomb(){return!!(this.levelConfig.specials&&this.levelConfig.specials.bomb!==void 0&&this.levelConfig.specials.bomb>0||this.levelConfig.customFen&&this.levelConfig.customFen.code.includes("b"))}getConfigByLevel(e){const t=kt.length-1;return e>t?this.createNewRandomLevel(e):this.gameLevel[e]}up(){const e=this.canLevelUp(this.level);return this.level=e,this.setConfig(e),this.scene.player.setCustomData("levelProgress",e),!0}canLevelUp(e){return e+1}setConfig(e){const t=kt.length-1,s=e>t,o=s?t:e;s?this.levelConfig=this.createNewRandomLevel(e):this.levelConfig=GameCore.Utils.Json.clone(this.gameLevel[o]);let i=this.levelConfig.rows,r=this.levelConfig.columns;if(!this.levelConfig)return;this.levelConfig.customFen&&(this.levelConfig.rows=this.levelConfig.customFen.rows,i=this.levelConfig.rows,this.levelConfig.columns=this.levelConfig.customFen.columns,r=this.levelConfig.columns,this.levelConfig.customFen.code=this.levelConfig.customFen.portraitCode),this.scene.world.isLandscape()&&(this.levelConfig.rows=r,this.levelConfig.columns=i,this.levelConfig.customFen&&(this.levelConfig.customFen.code=this.levelConfig.customFen?.desktopCode));const{rows:n,columns:a}=this.levelConfig,l=5,d=n*a,u=l*d;this.targetScore=s?u+400:u}createNewRandomLevel(e){const t=kt.length-1,s=(e-t)%5;let o=8,i=5,r="normal",n=100,a=0,l=0,d=20;const u=Phaser.Math.RND.between(2,4);switch(s){case 1:o=10,i=6,r="fly-up-push-right",n=130,l=1,d=Phaser.Math.RND.between(12,24);break;case 2:o=10,i=7,r="fly-up-push-left",n=160,l=Phaser.Math.RND.between(1,3),a=2,d=Phaser.Math.RND.between(12,24);break;case 3:o=12,i=7,r="fall-down-push-left",n=180,l=1,d=Phaser.Math.RND.between(12,24);break;case 4:o=12,i=7,r="fall-down-push-right",n=200,l=Phaser.Math.RND.between(1,2),a=2,d=Phaser.Math.RND.between(24,28);break}return{level:e,mode:r,time:n,colors:d,specials:{bomb:a,rocket:l},rules:{maxSpaceOfPair:8,addRandomTilesPerMove:u},columns:i,rows:o,theme:Fi.Themes}}}class Qu extends Me{scene;delayModeTimer;checkApplyModeTimer;constructor(e){super(e),this.scene=e,this.scene.events.on(j.EVENTS.NEXT_TURN,this.updateNextTurnState)}processGravityMode=()=>{const{modeManager:e,tileManager:t,animationManager:s}=this.scene;this.delayModeTimer?.remove(),this.checkApplyModeTimer?.remove(),s.isMoveTilesCompleted=!1,this.delayModeTimer=this.scene.time.addEvent({delay:300,callback:()=>{if(this.checkApplyModeTimer?.remove(),t.getAliveTiles().length<=14){this.processAfterGravityMode();return}e.applyMode(),this.checkApplyModeTimer=this.scene.time.addEvent({delay:100,repeat:20,callback:()=>{s.isMoveTilesCompleted&&(this.checkApplyModeTimer.remove(),this.processAfterGravityMode())}})}})};processAfterGravityMode(){const{tileManager:e,boardManager:t}=this.scene;if(!e.isCanMove()){e.processOutOfMove();return}if(e.handleExtraSpawn()){this.processGravityMode();return}t.processNoAvailableMatches()}updateNextTurnState=()=>{const{animationManager:e,itemManager:t,tileManager:s}=this.scene;s.isSelectable=!0,t.setIsUseableItem(!0),e.isMoveTilesCompleted=!0};applyMode=()=>{const{animationManager:e,levelHandler:t}=this.scene,{mode:s}=t.getConfigs(),{moveDuration:o}=e,i=o+10;switch(s.toString()){case be.NORMAL:e.isMoveTilesCompleted=!0;break;case be.FALL_DOWN:this.tilesFallDown(0);break;case be.FLY_UP:this.tilesFlyUp(0);break;case be.PUSH_LEFT:this.tilesPushLeft(0);break;case be.PUSH_RIGHT:this.tilesPushRight(0);break;case be.FALL_DOWN_PUSH_LEFT:this.tilesFallDown(0),this.tilesPushLeft(i);break;case be.FLY_UP_PUSH_RIGHT:this.tilesFlyUp(0),this.tilesPushRight(i);break;case be.FALL_DOWN_PUSH_RIGHT:this.tilesFallDown(0),this.tilesPushRight(i);break;case be.FLY_UP_PUSH_LEFT:this.tilesFlyUp(0),this.tilesPushLeft(i);break;case be.PUT_COLUMNS_MIDDLE:this.tilesPutColumnsMiddle(0);break;case be.PUT_ROWS_MIDDLE:this.tilesPutRowsMiddle(0);break;case be.FALL_DOWN_PUT_COLUMNS_MIDDLE:this.tilesFallDown(0),this.tilesPutColumnsMiddle(i);break;case be.FLY_UP_PUT_COLUMNS_MIDDLE:this.tilesFlyUp(0),this.tilesPutColumnsMiddle(i);break;default:e.isMoveTilesCompleted=!0;break}};getTiles(){const{boardManager:e}=this.scene,{boardMap:t}=e,s=[];for(const o in t)for(const i in t[o]){const r=t[o][i];s.push(r)}return s}tilesFlyUp(e=0){const{boardManager:t,animationManager:s}=this.scene,o=this.getTiles();let i=0;o.forEach(r=>{const{row:n,column:a}=r;if(r.isCaptured()||r.isCapturing())return;const l=this.getEmptySpacesAbove(n,a);l<1||(i++,s.moveRows({tile:r,fromRow:n,toRow:n-l},e),t.tileSwap({fromRow:n,toRow:n-l,fromColumn:a,toColumn:a}))}),i===0&&(s.isMoveTilesCompleted=!0)}tilesFallDown(e=0){const{boardManager:t,animationManager:s}=this.scene,o=this.getTiles();o.reverse();let i=0;o.forEach(r=>{const{row:n,column:a}=r;if(r.isCaptured()||r.isCapturing())return;const l=this.getEmptySpacesBlow(n,a);l<1||(i++,s.moveRows({tile:r,fromRow:n,toRow:n+l},e),t.tileSwap({fromRow:n,toRow:n+l,fromColumn:a,toColumn:a}))}),i===0&&(s.isMoveTilesCompleted=!0)}tilesPushLeft(e=0){const{boardManager:t,animationManager:s}=this.scene,o=this.getTiles();let i=0;o.forEach(r=>{const{row:n,column:a}=r;if(r.isCaptured()||r.isCapturing())return;const l=this.getEmptySpacesLeft(n,a);l<1||(i++,s.moveColumns({tile:r,fromColumn:a,toColumn:a-l},e),t.tileSwap({fromRow:n,toRow:n,fromColumn:a,toColumn:a-l}))}),i===0&&(s.isMoveTilesCompleted=!0)}tilesPushRight(e=0){const{boardManager:t,animationManager:s}=this.scene,o=this.getTiles();o.reverse();let i=0;o.forEach(r=>{const{row:n,column:a}=r;if(r.isCaptured()||r.isCapturing())return;const l=this.getEmptySpacesRight(n,a);l<1||(i++,s.moveColumns({tile:r,fromColumn:a,toColumn:a+l},e),t.tileSwap({fromRow:n,toRow:n,fromColumn:a,toColumn:a+l}))}),i===0&&(s.isMoveTilesCompleted=!0)}tilesPutColumnsMiddle(e=0){const{boardManager:t,animationManager:s}=this.scene,o=this.getTiles();let i=0;o.forEach(r=>{const{row:n,column:a}=r;if(r.isCaptured()||r.isCapturing())return;const l=this.getEmptySpacesMiddleLeft(n,a);l<1||(i++,s.moveColumns({tile:r,fromColumn:a,toColumn:a-l},e),t.tileSwap({fromRow:n,toRow:n,fromColumn:a,toColumn:a-l}))}),o.reverse(),o.forEach(r=>{const{row:n,column:a}=r;if(r.isCaptured()||r.isCapturing())return;const l=this.getEmptySpacesMiddleRight(n,a);l<1||(i++,s.moveColumns({tile:r,fromColumn:a,toColumn:a+l},e),t.tileSwap({fromRow:n,toRow:n,fromColumn:a,toColumn:a+l}))}),i===0&&(s.isMoveTilesCompleted=!0)}tilesPutRowsMiddle(e=0){const{boardManager:t,animationManager:s}=this.scene,o=this.getTiles();let i=0;o.forEach(r=>{const{row:n,column:a}=r;if(r.isCaptured()||r.isCapturing())return;const l=this.getEmptySpacesMiddleAbove(n,a);l<1||(i++,s.moveRows({tile:r,fromRow:n,toRow:n-l},e),t.tileSwap({fromRow:n,toRow:n-l,fromColumn:a,toColumn:a}))}),o.reverse(),o.forEach(r=>{const{row:n,column:a}=r;if(r.isCaptured()||r.isCapturing())return;const l=this.getEmptySpacesMiddleBelow(n,a);l<1||(i++,s.moveRows({tile:r,fromRow:n,toRow:n+l},e),t.tileSwap({fromRow:n,toRow:n+l,fromColumn:a,toColumn:a}))}),i===0&&(s.isMoveTilesCompleted=!0)}getEmptySpacesAbove(e,t,s=0){if(this.isEmptySpaceAbove(e,t)){s++;const o=e-1;return this.getEmptySpacesAbove(o,t,s)}return s}getEmptySpacesBlow(e,t,s=0){if(this.isEmptySpaceBlow(e,t)){s++;const o=e+1;return this.getEmptySpacesBlow(o,t,s)}return s}getEmptySpacesLeft(e,t,s=0){if(this.isEmptySpaceLeft(e,t)){s++;const o=t-1;return this.getEmptySpacesLeft(e,o,s)}return s}getEmptySpacesRight(e,t,s=0){if(this.isEmptySpaceRight(e,t)){s++;const o=t+1;return this.getEmptySpacesRight(e,o,s)}return s}getEmptySpacesMiddleLeft(e,t,s=0){if(this.isEmptySpaceMiddleLeft(e,t)){s++;const o=t-1;return this.getEmptySpacesMiddleLeft(e,o,s)}return s}getEmptySpacesMiddleRight(e,t,s=0){if(this.isEmptySpaceMiddleRight(e,t)){s++;const o=t+1;return this.getEmptySpacesMiddleRight(e,o,s)}return s}getEmptySpacesMiddleAbove(e,t,s=0){if(this.isEmptySpaceMiddleAbove(e,t)){s++;const o=e-1;return this.getEmptySpacesMiddleAbove(o,t,s)}return s}getEmptySpacesMiddleBelow(e,t,s=0){if(this.isEmptySpaceMiddleBelow(e,t)){s++;const o=e+1;return this.getEmptySpacesMiddleBelow(o,t,s)}return s}isEmptySpaceAbove(e,t){const s=e-1,{boardManager:o}=this.scene,{boardMap:i}=o;if(!i[s]||!i[s][t])return!1;const r=i[s][t];return r.isCaptured()||r.isCapturing()}isEmptySpaceBlow(e,t){const s=e+1,{boardManager:o}=this.scene,{boardMap:i}=o;if(!i[s]||!i[s][t])return!1;const r=i[s][t];return r.isCaptured()||r.isCapturing()}isEmptySpaceLeft(e,t){const s=t-1,{boardManager:o}=this.scene,{boardMap:i}=o;if(!i[e]||!i[e][s])return!1;const r=i[e][s];return r.isCaptured()||r.isCapturing()}isEmptySpaceRight(e,t){const s=t+1,{boardManager:o}=this.scene,{boardMap:i}=o;if(!i[e]||!i[e][s])return!1;const r=i[e][s];return r.isCaptured()||r.isCapturing()}isEmptySpaceMiddleLeft(e,t){const{columns:s}=this.scene.levelHandler.getConfigs(),o=t-1;if(o<s/2)return!1;const{boardManager:i}=this.scene,{boardMap:r}=i;if(!r[e]||!r[e][o])return!1;const n=r[e][o];return n.isCaptured()||n.isCapturing()}isEmptySpaceMiddleRight(e,t){const{columns:s}=this.scene.levelHandler.getConfigs(),o=t+1;if(o>s/2)return!1;const{boardManager:i}=this.scene,{boardMap:r}=i;if(!r[e]||!r[e][o])return!1;const n=r[e][o];return n.isCaptured()||n.isCapturing()}isEmptySpaceMiddleAbove(e,t){const{rows:s}=this.scene.levelHandler.getConfigs(),o=e-1;if(o<s/2)return!1;const{boardManager:i}=this.scene,{boardMap:r}=i;if(!r[o]||!r[o][t])return!1;const n=r[o][t];return n.isCaptured()||n.isCapturing()}isEmptySpaceMiddleBelow(e,t){const{rows:s}=this.scene.levelHandler.getConfigs(),o=e+1;if(o>s/2)return!1;const{boardManager:i}=this.scene,{boardMap:r}=i;if(!r[o]||!r[o][t])return!1;const n=r[o][t];return n.isCaptured()||n.isCapturing()}}const{KEY:Js,FRAME:Qs}=A.EFFECTS;class eh extends Phaser.GameObjects.Container{start;end;middle;constructor(e){super(e),this.scene=e,this.createGlowLine(),this.scene.add.existing(this)}createGlowLine(){this.start=this.scene.add.image(0,0,Js,Qs.CAPTURE_PATH_START),this.start.setOrigin(1,.5),this.end=this.scene.add.image(0,0,Js,Qs.CAPTURE_PATH_END),this.end.setOrigin(0,.5),this.middle=this.scene.add.image(0,0,Js,Qs.CAPTURE_PATH_MIDDLE),this.middle.setOrigin(.5,.5),this.add(this.start),this.add(this.end),this.add(this.middle)}setGlowLineLength(e,t){const s=e+6;this.middle.setWorldSize(s,18),this.start.setWorldSize(6,18),this.end.setWorldSize(6,18),this.start.x=-s/2,this.end.x=s/2,t==="horizontal"?this.angle=0:this.angle=90}}const Cs=eh,{KEY:th,FRAME:sh}=A.GAMEPLAY,us=W.TILE+1;class oh extends Phaser.GameObjects.GameObject{whiteCircles;lineList;firstTilePosition=null;fadeTween;constructor(e){super(e,"captureHintPath"),this.whiteCircles=e.add.group(),this.lineList=e.add.group(),this.scene.add.existing(this)}drawNewPath(e){const t=[];let s=e[0],o=null;for(let i=1;i<e.length;i++){const r=e[i];if(!o){o=r;continue}if(s.x===o.x&&o.x===r.x){o=r;continue}if(s.y===o.y&&o.y===r.y){o=r;continue}t.push([s,o]),s=o,o=r}t.push([s,o]),t.forEach((i,r)=>{if(!i[0]||!i[1])return;const n=this.translateGridPositionToScreenPosition(i[0]),a=this.translateGridPositionToScreenPosition(i[1]);this.assignLine(n.x,n.y,a.x,a.y),this.assignWhiteCircle(n.x,n.y),r===t.length-1&&this.assignWhiteCircle(a.x,a.y)}),this.runFadeInTween()}updateFirstTilePosition(){const e=this.scene,{boardMap:t}=e.boardManager;if(!t||!t[1]||!t[1][1])return;const{x:s,y:o}=t[1][1].getWorldPosition();this.firstTilePosition=new Phaser.Math.Vector2(s,o)}clearFirstTilePosition(){this.firstTilePosition=null}setFirstTilePosition(e){this.firstTilePosition=e}clear(){this.runFadeOutTween()}hideHintEffect(){this.whiteCircles.getChildren().forEach(e=>{e.setVisible(!1)}),this.lineList.getChildren().forEach(e=>{e.setVisible(!1)})}showHintEffect(){this.whiteCircles.getChildren().forEach(e=>{e.active&&e.setVisible(!0)}),this.lineList.getChildren().forEach(e=>{e.active&&e.setVisible(!0)})}kill(){this.whiteCircles.getChildren().forEach(e=>{this.whiteCircles.killAndHide(e)}),this.lineList.getChildren().forEach(e=>{this.lineList.killAndHide(e)})}translateGridPositionToScreenPosition(e){const{x:t=1,y:s=1}=e;this.firstTilePosition||this.updateFirstTilePosition();const i=this.scene.boardManager.getTileSize()+1,r=this.firstTilePosition?this.firstTilePosition.x:0,n=this.firstTilePosition?this.firstTilePosition.y:0;return{x:r+(s-1)*i,y:n+(t-1)*i}}assignWhiteCircle(e,t){const s=this.whiteCircles.getFirstDead();if(s)return s.setPosition(e,t),s.setActive(!0),s.setVisible(!0),s.setAlpha(0),s.setDepth(us+1),s;const o=this.scene.make.image({key:th,frame:sh.HINT_LINE_DOT});return this.whiteCircles.add(o),o.setPosition(e,t),o.setDepth(us+1),o.setWorldSize(8,8),o.setAlpha(0),this.scene.add.existing(o),o}assignLine(e,t,s,o){const i=this.lineList.getFirstDead(),r=(e+s)/2,n=(t+o)/2,a=e===s?"vertical":"horizontal",l=Phaser.Math.Distance.Between(e,t,s,o);if(i&&i instanceof Cs)return i.setPosition(r,n),i.setGlowLineLength(l,a),i.revive(),i.setAlpha(0),i.setDepth(us),i;const d=new Cs(this.scene);return this.lineList.add(d),d.setPosition(r,n),d.setGlowLineLength(l,a),d.setDepth(us),d.setAlpha(0),this.scene.add.existing(d),d}runFadeInTween(){this.fadeTween?.stop();const e=this.lineList.getChildren().filter(o=>o.active),t=this.whiteCircles.getChildren().filter(o=>o.active),s=this.scene.tweens.add({targets:[...e,...t],props:{alpha:{from:0,to:1}},duration:200,onStop:()=>{e.forEach(o=>{o.setAlpha(1)}),t.forEach(o=>{o.setAlpha(1)})}});this.fadeTween=s}runFadeOutTween(){this.fadeTween?.stop();const e=this.lineList.getChildren().filter(o=>o.active),t=this.whiteCircles.getChildren().filter(o=>o.active),s=this.scene.tweens.add({targets:[...e,...t],props:{alpha:{from:1,to:0}},duration:200,onComplete:()=>{this.kill()},onStop:()=>{this.kill()}});this.fadeTween=s}}const{KEY:ih,FRAME:Bi}=A.GAMEPLAY;class rh extends Phaser.GameObjects.Particles.ParticleEmitterManager{deathZone;emitter;constructor(e){super(e,ih,Bi.EFFECT_TRAIL_STAR),this.createDeathZone(),this.createEmitters(),this.kill(),this.scene.add.existing(this)}createDeathZone(){this.deathZone=new Phaser.Geom.Circle}createEmitters(){const e=1/this.scene.world.getPixelRatio();this.emitter=this.createEmitter({on:!1,frame:Bi.EFFECT_TRAIL_STAR,speed:{min:10,max:80},scale:{start:e,end:0},alpha:{start:1,end:.2,ease:Phaser.Math.Easing.Expo.Out},deathZone:{source:this.deathZone,type:"onLeave"},lifespan:2e3})}explode(e,t,s,o){this.revive(),this.deathZone.radius=o,this.deathZone.setPosition(t,s),this.emitter.explode(e,t,s)}}const xa=rh,{KEY:ah,FRAME:Ui}=A.GAMEPLAY;class nh extends Phaser.GameObjects.Particles.ParticleEmitterManager{emitZone;isRunning;emitter;constructor(e){super(e,ah,Ui.EFFECT_TRAIL_STAR),this.createEmitZone(),this.scene.add.existing(this)}createEmitZone(){this.emitZone=new Phaser.Geom.Rectangle}createEmitters(){const e=1/this.scene.world.getPixelRatio();this.emitter=this.createEmitter({on:!1,frame:Ui.EFFECT_TRAIL_STAR,emitZone:{source:this.emitZone,type:"random"},speed:20,timeScale:1,frequency:50,gravityY:100,alpha:{start:1,end:0,ease:Phaser.Math.Easing.Expo.Out},scale:{start:e*1.2,end:e*.1,ease:Phaser.Math.Easing.Expo.Out},lifespan:2666})}run(e,t,s,o,i){this.stop(),this.reset(),this.emitZone.setSize(o,i),this.emitZone.setPosition(t-o/2,s-i/2),this.emitter.setQuantity(e),this.emitter.start(),this.isRunning=!0}explode(e,t,s){this.emitter||this.reset(),this.isRunning=!1,this.emitter.explode(e,t,s)}stop(){this.isRunning=!1,this.emitter?.killAll(),this.emitter?.stop()}reset(){this.createEmitters()}moveEmitZone(e,t){this.emitZone.setPosition(e,t)}}const Oa=nh,{KEY:Hi,FRAME:Yi}=A.GAMEPLAY,Je=W.EFFECT+1;class lh extends Phaser.GameObjects.GameObject{starList;lineList;whiteCircles;firstTilePosition=null;starTweenList=[];starExpandTween;lineTween;captureStarTrails;explodeParticle;score;pathLength;constructor(e){super(e,"capturePath"),this.starList=e.add.group(),this.lineList=e.add.group(),this.whiteCircles=e.add.group(),this.createEffects(),this.score=0}createEffects(){this.captureStarTrails=[],this.explodeParticle=new xa(this.scene),this.explodeParticle.setDepth(W.EFFECT)}drawNewPath(e,t=!1){this.pathLength=e.length;const s=this.drawLines(e);t?this.drawDots(s):(this.drawStars(e),this.runStarExpandTween()),this.runLineTween("fadeIn")}drawDots(e){e.forEach((t,s)=>{if(!t[0]||!t[1])return;const o=this.translateGridPositionToScreenPosition(t[0]),i=this.translateGridPositionToScreenPosition(t[1]);this.assignLine(o.x,o.y,i.x,i.y),this.assignWhiteCircle(o.x,o.y),s===e.length-1&&this.assignWhiteCircle(i.x,i.y)})}drawLines(e){const t=[];let s=e[0],o=null;for(let i=1;i<e.length;i++){const r=e[i];if(!o){o=r;continue}if(s.x===o.x&&o.x===r.x){o=r;continue}if(s.y===o.y&&o.y===r.y){o=r;continue}t.push([s,o]),s=o,o=r}return t.push([s,o]),t.forEach(i=>{if(!i[0]||!i[1])return;const r=this.translateGridPositionToScreenPosition(i[0]),n=this.translateGridPositionToScreenPosition(i[1]);this.assignLine(r.x,r.y,n.x,n.y)}),t}drawStars(e){e.forEach(t=>{const{x:s,y:o}=this.translateGridPositionToScreenPosition(t);this.assignStar(s,o)})}kill(){this.starTweenList.forEach(e=>{e.stop()}),this.starTweenList=[],this.starList.getChildren().forEach(e=>{this.starList.killAndHide(e)}),this.score=0,this.pathLength=1,this.captureStarTrails.forEach(e=>{e.stop()}),this.lineList.getChildren().forEach(e=>{this.lineList.killAndHide(e)}),this.whiteCircles.getChildren().forEach(e=>{this.whiteCircles.killAndHide(e)}),this.lineTween?.stop(),this.setActive(!1)}updateFirstTilePosition(){const e=this.scene,{boardMap:t}=e.boardManager;if(!t||!t[1]||!t[1][1])return;const{x:s,y:o}=t[1][1].getWorldPosition();this.firstTilePosition=new Phaser.Math.Vector2(s,o)}clearFirstTilePosition(){this.firstTilePosition=null}setFirstTilePosition(e){this.firstTilePosition=e}setScore(e){this.score=e}handleCaptureEffectEnd(){const e=this.scene;if(!(this.starList.getFirstAlive()!==null)){e.eatScore(this.score),this.kill();return}this.runLineTween("fadeOut"),this.runStarTween()}runLineTween(e){this.lineTween?.stop();const t=this.lineList.getChildren().filter(i=>i.active),s=this.whiteCircles.getChildren().filter(i=>i.active),o=this.scene.tweens.add({targets:[...t,...s],duration:200,props:{alpha:{from:e==="fadeIn"?0:1,to:e==="fadeIn"?1:0}},onComplete:()=>{e==="fadeOut"&&this.cleanLineWhenFadeOut()},onStop:()=>{t.forEach(i=>{i.setAlpha(e==="fadeIn"?1:0)}),s.forEach(i=>{i.setAlpha(e==="fadeIn"?1:0)}),e==="fadeOut"&&this.cleanLineWhenFadeOut()}});this.lineTween=o}cleanLineWhenFadeOut(){const e=this.lineList.getChildren().filter(s=>s.active),t=this.whiteCircles.getChildren().filter(s=>s.active);e.forEach(s=>{this.lineList.killAndHide(s)}),t.forEach(s=>{this.whiteCircles.killAndHide(s)})}runStarTween(){this.starList.getChildren().forEach((e,t)=>{if(!e.active)return;const s=this.scene,{objects:o}=s.layoutManager,{x:i,y:r}=o.starProgressBar.getStarFlyInPosition(),n=25,a=this.scene.tweens.createTimeline(),l=Phaser.Math.Angle.Between(e.x,e.y,i,r),d=Phaser.Math.Distance.Between(e.x,e.y,i,r),u=this.requestCaptureStarTrail();u.run(1,e.x,e.y,0,0),a.add({targets:e,x:e.x-Math.cos(l)*n,y:e.y-Math.sin(l)*n,duration:250,delay:40*t,ease:Phaser.Math.Easing.Quadratic.In,onUpdate:()=>{u.moveEmitZone(e.x,e.y)}}),a.add({targets:e,props:{x:{from:e.x,to:i,ease:Phaser.Math.Easing.Quadratic.Out},y:{from:e.y,to:r,ease:Phaser.Math.Easing.Quadratic.Out},scale:{from:e.scale,to:e.scale*Math.sqrt(2),ease:Phaser.Math.Easing.Quintic.Out}},duration:(d+n)/300*600,onComplete:()=>{s.eatScore(this.score/this.pathLength),this.scene.audio.playSound(Z.COLLECT_STARS),u.stop(),this.explodeParticle.explode(15,i,r,30)},onUpdate:()=>{u.moveEmitZone(e.x,e.y)},onStop:()=>{s.eatScore(this.score/this.pathLength),u.stop()}}),a.add({targets:e,alpha:0,duration:400,ease:Phaser.Math.Easing.Cubic.Out,onComplete:()=>{this.starList.killAndHide(e),this.starTweenList=this.starTweenList.filter(m=>m!==a),this.starTweenList.length===0&&this.kill()},onStop:()=>{this.starList.killAndHide(e),this.starTweenList=this.starTweenList.filter(m=>m!==a),this.starTweenList.length===0&&this.kill()}}),this.starTweenList.push(a),a.play()})}runStarExpandTween(){this.starExpandTween?.stop();const e=this.starList.getChildren().filter(i=>i.active);if(e.length<1)return;const t=e[0].scaleX,s=e[0].scaleY,o=this.scene.tweens.add({targets:e,duration:200,props:{scaleX:{from:0,to:t},scaleY:{from:0,to:t}},onStart:()=>{e.forEach(i=>{i.setVisible(!0)})},onStop:()=>{e.forEach(i=>{i.setScale(t,s)})}});this.starExpandTween=o}translateGridPositionToScreenPosition(e){const{x:t=1,y:s=1}=e;this.firstTilePosition||this.updateFirstTilePosition();const i=this.scene.boardManager.getTileSize()+1,r=this.firstTilePosition?this.firstTilePosition.x:0,n=this.firstTilePosition?this.firstTilePosition.y:0;return{x:r+(s-1)*i,y:n+(t-1)*i}}assignStar(e,t){const s=this.starList.getFirstDead();if(s)return s.setPosition(e,t),s.setWorldSize(21.2,21.2),s.setActive(!0),s.setAlpha(1),s.setDepth(Je+1),s;const o=this.scene.make.image({key:Hi,frame:Yi.ICON_STAR_BIG});return this.starList.add(o),o.setWorldSize(21.2,21.2),o.setPosition(e,t),o.setDepth(Je+1),o.setVisible(!1),o.setAlpha(1),this.scene.add.existing(o),o}requestCaptureStarTrail(){const e=this.captureStarTrails.find(s=>!s.isRunning);if(e)return e;const t=new Oa(this.scene);return t.setDepth(Je-1),this.captureStarTrails.push(t),t}assignLine(e,t,s,o){const i=this.lineList.getFirstDead(),r=(e+s)/2,n=(t+o)/2,a=e===s?"vertical":"horizontal",l=Phaser.Math.Distance.Between(e,t,s,o);if(i&&i instanceof Cs)return i.setPosition(r,n),i.setGlowLineLength(l,a),i.revive(),i.setDepth(Je),i;const d=new Cs(this.scene);return this.lineList.add(d),d.setPosition(r,n),d.setGlowLineLength(l,a),d.setDepth(Je),this.scene.add.existing(d),d}assignWhiteCircle(e,t){const s=this.whiteCircles.getFirstDead();if(s)return s.setPosition(e,t),s.setActive(!0),s.setVisible(!0),s.setAlpha(0),s.setDepth(Je+1),s;const o=this.scene.make.image({key:Hi,frame:Yi.HINT_LINE_DOT});return this.whiteCircles.add(o),o.setPosition(e,t),o.setDepth(Je+1),o.setWorldSize(8,8),o.setAlpha(0),this.scene.add.existing(o),o}}const Wi=lh;class ch extends Phaser.GameObjects.Group{firstTilePosition=null;constructor(e){super(e),this.scene.add.existing(this)}requestPath(){const e=this.getFirstDead();if(e)return e.setActive(!0),e.setFirstTilePosition(this.firstTilePosition),e;const t=this.scene,s=new Wi(t);return s.setFirstTilePosition(this.firstTilePosition),this.add(s),s}updateFirstTilePosition(){const e=this.scene,{boardMap:t}=e.boardManager;if(!t||!t[1]||!t[1][1])return;const{x:s,y:o}=t[1][1].getWorldPosition();this.firstTilePosition=new Phaser.Math.Vector2(s,o)}clearFirstTilePosition(){this.firstTilePosition=null}killPath(e){e.handleCaptureEffectEnd()}killAndHideAll(){this.getChildren().forEach(e=>{e instanceof Wi&&e.kill()})}}const{KEY:dh,FRAME:mh}=A.TUTORIAL;class uh extends Phaser.GameObjects.Container{number;dot;constructor(e){super(e),this.dot=this.scene.make.image({key:dh,frame:mh.DOT_WRONG}),this.dot.setWorldSize(48/2,48/2),this.add(this.dot),this.number=this.scene.make.bitmapText({font:B.PRIMARY.KEY,text:"0",size:this.scene.fontSize(15),origin:{x:.5,y:.65}}),this.add(this.number);const{displayWidth:t,displayHeight:s}=this.dot;this.setSize(t,s),Phaser.Display.Align.In.Center(this.number,this.dot,0,-4),this.scene.add.existing(this)}setNumber(e){this.number.setText(e.toString())}}const eo=uh,{KEY:Ki,FRAME:zi}=A.TUTORIAL;class hh{scene;decorList;lineList;firstTilePosition=null;drawX=0;drawY=0;constructor(e){this.scene=e,this.decorList=e.add.group(),this.lineList=e.add.group()}drawNewPath(e){const t=this.getShortenPath(e);this.clear();const s=this.translateGridPositionToScreenPosition(t[0]);this.moveTo(s.x,s.y);let o=1,i=null;for(let r=1;r<t.length;r++){const n=t[r],{x:a,y:l}=this.translateGridPositionToScreenPosition(n);if(this.lineTo(a,l),r!==t.length-1)if(o<=2){const d=this.assignDot(a,l);d.setNumber(o++),i=d}else i=this.assignCross(a,l)}if(o===2&&i!==null){const{x:r=1,y:n=1}=i;i.setVisible(!1),i.setActive(!1),this.assignCross(r,n)}else if(o===1){const{x:r,y:n}=this.translateGridPositionToScreenPosition(t[0]),{x:a,y:l}=this.translateGridPositionToScreenPosition(t[t.length-1]);this.assignCross((a+r)/2,(l+n)/2)}}getShortenPath(e){if(e.length<0)return[];const t=[];t.push(e[0]);let s="none",o=e[0];return e.forEach((i,r)=>{if(r===0)return;const{x:n=1,y:a=1}=i,{x:l=1,y:d=1}=o,u=this.getMovingDirectionString(n-l,a-d);s!=="none"&&s!==u&&t.push(o),s=u,o=i}),t.push(e[e.length-1]),t}updateFirstTilePosition(){const e=this.scene,{boardMap:t}=e.boardManager;if(!t||!t[1]||!t[1][1])return;const{x:s,y:o}=t[1][1].getWorldPosition();this.firstTilePosition=new Phaser.Math.Vector2(s,o)}clearFirstTilePosition(){this.firstTilePosition=null}setFirstTilePosition(e){this.firstTilePosition=e}clear(){return this.decorList.getChildren().forEach(e=>{e.setVisible(!1),e.setActive(!1)}),this.lineList.getChildren().forEach(e=>{e.setVisible(!1),e.setActive(!1)}),this}translateGridPositionToScreenPosition(e){const{x:t=1,y:s=1}=e;this.firstTilePosition||this.updateFirstTilePosition();const i=this.scene.boardManager.getTileSize()+1,r=this.firstTilePosition?this.firstTilePosition.x:0,n=this.firstTilePosition?this.firstTilePosition.y:0;return{x:r+(s-1)*i,y:n+(t-1)*i}}assignDot(e,t){const s=this.decorList.getChildren().find(i=>i instanceof eo&&!i.active);if(s)return s.setPosition(e,t),s.setActive(!0),s.setVisible(!0),s.setDepth(W.TILE+2),s;const o=new eo(this.scene);return this.decorList.add(o),o.setPosition(e,t),o.setDepth(W.TILE+2),this.scene.add.existing(o),o}assignCross(e,t){const s=this.decorList.getChildren().find(i=>!(i instanceof eo)&&!i.active);if(s)return s.setPosition(e,t),s.setActive(!0),s.setVisible(!0),s.setDepth(W.TILE+2),s;const o=this.scene.make.image({key:Ki,frame:zi.CROSS_WRONG});return o.setOrigin(.5,.4),o.setWorldSize(108/4,108/4),o.setDepth(W.TILE+2),this.decorList.add(o),o.setPosition(e,t),this.scene.add.existing(o),o}moveTo(e,t){this.drawX=e,this.drawY=t}lineTo(e,t){const s=this.lineList.getChildren().find(i=>!i.active);if(s&&s instanceof Phaser.GameObjects.Image){s.setPosition(this.drawX,this.drawY),s.setAngle(this.getLineAngle(e-this.drawX,t-this.drawY)),s.setOrigin(0,.5),s.setDisplaySize(this.getLineLength(e-this.drawX,t-this.drawY),18/2),s.setActive(!0),s.setVisible(!0),s.setDepth(W.TILE+1),this.drawX=e,this.drawY=t;return}const o=this.scene.make.image({key:Ki,frame:zi.LINE_WRONG});o.setOrigin(0,.5),o.setDisplaySize(this.getLineLength(e-this.drawX,t-this.drawY),18/2),o.setDepth(W.TILE+1),this.lineList.add(o),o.setPosition(this.drawX,this.drawY),o.setAngle(this.getLineAngle(e-this.drawX,t-this.drawY)),this.scene.add.existing(o),this.drawX=e,this.drawY=t}getLineAngle(e,t){switch(this.getMovingDirectionString(t,e)){case"down":return 90;case"up":return-90;case"right":return 0;case"left":return 180;default:return 0}}getLineLength(e,t){switch(this.getMovingDirectionString(t,e)){case"down":case"up":return Math.abs(t);case"right":case"left":return Math.abs(e);default:return 0}}getMovingDirectionString(e,t){return e>0?"down":e<0?"up":t>0?"right":t<0?"left":"none"}}class fh extends os{constructor(e,t,s){super(e),this.setName("EmptyTile"),this.setRow(t),this.setColumn(s),this.setState(j.STATUS.CAPTURED),this.hideHighlight(),this.removeTile()}}const{KEY:ji,FRAME:to}=A.GAMEPLAY,{SPECIALS:$i}=j;class hs extends os{rocketTailSprite;constructor(e,t,s){super(e,to.TILE_ROCKET,$i.ROCKET),this.setName("RocketTile"),this.setRow(t),this.setColumn(s),this.createRocketSparkle(),console.log(to.TILE_ROCKET,$i.ROCKET),this.icon.setScale(this.block.scale)}createRocketSparkle(){const{KEY:e,FRAME:t}=A.EFFECTS;this.rocketTailSprite=this.scene.make.sprite({key:e,frame:t.ROCKET_TAIL+"0",origin:{x:.5,y:.5}}),this.add(this.rocketTailSprite),this.updateRocketTailConfig(),this.rocketTailSprite.anims.play(V.ROCKET_TAIL.KEY,!0)}onExplosive(){this.startExplosive(),super.onExplosive()}kill(){this.rocketTailSprite.anims.stop(),super.kill()}revive(){super.revive(),this.updateRocketTailConfig(),this.rocketTailSprite.anims.play(V.ROCKET_TAIL.KEY,!0)}updateRocketTailConfig(){const e=this.scene.boardManager.boardSizeHandler.getTileSize();this.rocketTailSprite.setPosition(-e/5,e/5),this.rocketTailSprite.setScale(.5*this.scene.boardManager.boardSizeHandler.getTileSize()/j.SIZE)}enableTile(){super.enableTile(),this.icon.setScale(this.block.scale)}startExplosive=()=>{const{boardManager:e}=this.scene,{boardContainer:t}=e,s=t.count("visible",!0)-1;t.moveTo(this,s)};changeDeck(){}drawBlock(e){const t=this.scene.boardManager.getTileSize();this.block=this.scene.add.image(0,0,ji,to.TILE_BG),this.block.setDisplaySize(t,t),this.add(this.block),this.icon=this.scene.make.sprite({key:ji,frame:e}),this.icon.setScale(this.block.scale/2),this.add(this.icon)}}const ph={ADD:"add",RESET:"reset"},bh=ph;class gh extends os{constructor(e,t,s,o,i){super(e,i,o),this.setName("NormalTile"),this.setRow(t),this.setColumn(s)}}const vh=gh,{STATUS:so}=ss,{BOMB:Th,ROCKET:wh}=j.SPECIALS,{TILES:Eh}=A,{Gameplay:Vi}=GameCore.Configs;class yh extends Me{scene;isSelectable=!1;isFirstInteractionFired=!1;currentDeckPrefix;hintTiles=[];hintEffect;pathFinder;captureWrongPathEffect;capturePathGroup;delayEnableItemTimer;tilesGroup;firstSelectedTile=null;isSuggestPairHintShowed;matchedPairCount;isExtraPairSpawned;isFirstExtraPairSpawn;remainingExtraTileSpawn;firstTilePosition;constructor(e){super(e),this.scene=e,this.pathFinder=new Ea,this.hintEffect=new oh(this.scene),this.firstTilePosition=new Phaser.Math.Vector2(0,0),this.capturePathGroup=new ch(this.scene),this.captureWrongPathEffect=new hh(this.scene),this.createGroup(),this.listenEvents()}init(){this.isSelectable=!1,this.firstSelectedTile=null,this.isSuggestPairHintShowed=!1,this.isFirstInteractionFired=!1,this.clearTiles();const{theme:e}=this.scene.levelHandler.getConfigs();if(!e||typeof e=="string")this.currentDeckPrefix="candy";else{const t=Phaser.Math.Between(0,e.length-1),s=e[t].toUpperCase(),o=Eh[s].KEY;this.scene.textures.exists(o)?this.currentDeckPrefix=e[t]:this.currentDeckPrefix="candy"}this.setState(so.READY)}start(){if(this.isRunning())return;this.isSelectable=!1,this.matchedPairCount=0,this.isExtraPairSpawned=!1,this.isFirstExtraPairSpawn=!0,this.isFirstInteractionFired=!1;const{rules:e}=this.scene.levelHandler.getConfigs();this.remainingExtraTileSpawn=e.addRandomTilesPerMove||0,this.hintEffect.clearFirstTilePosition(),this.capturePathGroup.clearFirstTilePosition(),this.captureWrongPathEffect.clearFirstTilePosition(),this.showUpTilesAnimation(),this.setState(so.RUNNING)}stop(){this.isRunning()&&(this.isSelectable=!1,this.isFirstInteractionFired=!1,this.removeSuggestPairHint(),this.capturePathGroup.killAndHideAll(),this.setState(so.STOPPED))}getCurrentDeck(){return this.currentDeckPrefix}emitInteraction(){this.scene.events.emit(j.EVENTS.INTERACTION),this.isFirstInteractionFired||(this.isFirstInteractionFired=!0,this.scene.events.emit(j.EVENTS.FIRST_INTERACTION))}clearWrongPath(){this.captureWrongPathEffect.clear()}drawWrongPath(e){this.captureWrongPathEffect.drawNewPath(e)}createGroup(){this.tilesGroup=this.scene.make.group({active:!1,runChildUpdate:!1})}listenEvents(){this.scene.events.on(j.EVENTS.ROCKET_EXPLODE,this.handleRocketExplode)}getTiles(){return!this.scene||!this.tilesGroup?.scene?[]:this.tilesGroup.getMatching("active",!0)}getAliveTiles(){const e=this.getTiles(),t=[];return e.forEach(s=>{s.isCaptured()||s.isCapturing()||t.push(s)}),t}hideAllTiles(){this.getAliveTiles().forEach(t=>{t.setVisible(!1)})}showAllTiles(){this.getAliveTiles().forEach(t=>{t.setVisible(!0)})}clearTiles(){this.tilesGroup&&this.tilesGroup.children.each(e=>{e instanceof os&&e.removeTile()})}getTileExit(e){const t=this.tilesGroup.getMatching("type",e);return t.length<1?null:t.find(s=>s.visible===!1&&!(s instanceof He))||null}createTileByType(e,t,s){const o=this.getTileExit(e);if(o)return o.changeDeck(this.currentDeckPrefix),o.enableTile(),o.setRow(t),o.setColumn(s),o;if(e===wh)return new hs(this.scene,t,s);if(e===Th)return new He(this.scene,t,s);const i=parseInt(e);if(i>28||i<1||!GameCore.Utils.Valid.isNumber(i)||e==="empty")return new fh(this.scene,t,s);const r=new vh(this.scene,t,s,e,`tile-${e}`);return r.changeDeck(this.currentDeckPrefix),r}addTile(e){this.tilesGroup.add(e),this.addEventsTile(e)}addEventsTile=e=>{e.block&&(e.block.setInteractive({useHandCursor:!0}),e.block.off(Phaser.Input.Events.GAMEOBJECT_POINTER_DOWN),e.block.on(Phaser.Input.Events.GAMEOBJECT_POINTER_DOWN,this.tileSelect(e)),e.createInput())};removeEventsAllTiles(){this.getTiles().forEach(t=>{t.block?.off(Phaser.Input.Events.GAMEOBJECT_POINTER_DOWN),t.block?.disableInteractive()})}tileCapture(e){this.firstSelectedTile===e&&(this.firstSelectedTile=null),e.setState(j.STATUS.CAPTURED)}removeTile(e){if(!e)return;const{boardManager:t}=this.scene,{boardContainer:s,tileMap:o}=t,{row:i,column:r}=e;o[i]&&o[i][r]&&(o[i][r]="?"),e.nextX=null,e.nextY=null,e.setVisible(!1),s.remove(e),this.tilesGroup.killAndHide(e)}showUpTilesAnimation(){const e=[...this.getTiles()];e.reverse();const{animationManager:t}=this.scene;t.startBoard(e).once(Phaser.Tweens.Events.TWEEN_COMPLETE,()=>{this.scene.tweens.killTweensOf(e),e.forEach(o=>{o.setAlpha(1)}),this.isSelectable=!0,this.hintEffect.updateFirstTilePosition(),this.capturePathGroup.updateFirstTilePosition(),this.captureWrongPathEffect.updateFirstTilePosition(),this.getLocalFirstTilePosition(),this.setUpAllBombTilesWhenGameStarts(),F.emit(G.TILE_SHOWED_UP)})}setUpAllBombTilesWhenGameStarts(){const{boardMap:e}=this.scene.boardManager;if(!e||!e[1])return;const t=Object.keys(e).length,s=Object.keys(e[1]).length;for(let o=1;o<=t;o++)if(e[o])for(let i=1;i<=s;i++){if(!e[o][i])continue;const r=e[o][i];r instanceof He&&r.setBombEffectWhenGameStarts()}}getLocalFirstTilePosition(){const{boardMap:e}=this.scene.boardManager;if(!e||!e[1]||!e[1][1])return;const{x:t,y:s}=e[1][1];this.firstTilePosition=new Phaser.Math.Vector2(t,s)}isCanMove(){return!(!this.isRunning()||this.scene.boardManager.checkIfAllTilesAreCaptured())}processOutOfMove(){if(!this.isRunning())return;const e=this.getTiles();for(const t of e)t.isCaptured()||(this.tileCapture(t),this.removeTile(t));this.scene.finishLevel()}isHavingBomb(){const{levelHandler:e}=this.scene,t=e.getConfigs();if(t.specials&&(!t.specials.bomb||t.specials.bomb===0))return!1;const s=this.getAliveTiles();for(let o=0;o<s.length;o++){const i=s[o];if(i instanceof He&&!i.isDefuse())return!0}return!1}getPairsOfTilesCanCapture(e){const t=[],s=this.getTiles();GameCore.Utils.Array.shuffle(s);for(const o of s){if(o.isCaptured()||o.isCapturing())continue;const i=this.getPairTilesSameColor(o,t);if(i.length===2&&(t.push(i[0],i[1]),t.length===e*2))break}return t}suggestPairHint(){if(!this.isRunning()||this.isSuggestPairHintShowed)return;const e=this.getValidPairTilesSameColorPath();if(!e||e.length===0)return;const{x:t=1,y:s=1}=e[0],{x:o=1,y:i=1}=e[e.length-1],{boardMap:r}=this.scene.boardManager,n=r[t][s],a=r[o][i];this.isSuggestPairHintShowed=!0,this.hintEffect.drawNewPath(e),this.scene.effectManager.playTileHintEffect(n,a),this.scene.audio.playSound(Z.HINT_ITEM)}removeSuggestPairHint(){this.hintEffect.clear(),this.hintTiles=[],this.isSuggestPairHintShowed=!1,this.scene.effectManager.stopTileHintEffect()}hideHintEffect(){this.isSuggestPairHintShowed&&(this.scene.effectManager.tileHintEffect.hide(),this.hintEffect.hideHintEffect())}showHintEffect(){this.isSuggestPairHintShowed&&(this.scene.effectManager.tileHintEffect.show(),this.hintEffect.showHintEffect())}tileSelect=e=>()=>{if(!this.isSelectable||e.isCapturing())return;const{itemManager:t,boardManager:s,animationManager:o}=this.scene;if(this.emitInteraction(),this.removeSuggestPairHint(),t.itemActive!==""&&t.applyItem(e))return;t.setIsUseableItem(!0);let i=[];const r=this.createPathFromTile(e);if(GameCore.Utils.Valid.isBoolean(r))return;if(r===null){const{levelHandler:u,tutorialManager:m}=this.scene,{level:f}=u;if(m.isLevelShowWrongPath(f)&&this.createWrongPath(e),this.scene.events.emit(j.EVENTS.NO_PATH_FOUND),this.scene.audio.playSound(Z.INVALID_MATCH),o.isMoveTilesCompleted){const h=[...this.getTiles()];o.pairWrong(h)}this.firstSelectedTile?.hideHighlight(),this.firstSelectedTile=null;return}this.captureWrongPathEffect.clear();const{x:n=0,y:a=0}=r[0],{boardMap:l}=s;i=[l[n][a],e],this.firstSelectedTile=null,this.tilesCapturing(i,r),this.startVibrate(i.length)};createPathFromTile(e){if(!this.firstSelectedTile)return e.showHighlight(),this.firstSelectedTile=e,this.scene.audio.playSound(Z.TILE_SELECT),!1;if(this.firstSelectedTile===e)return e.hideHighlight(),this.firstSelectedTile=null,this.scene.audio.playSound(Z.TILE_SELECT),!1;if(this.firstSelectedTile.isCaptured()||this.firstSelectedTile.isCapturing())return this.firstSelectedTile=e,!1;const{row:t,column:s,color:o}=this.firstSelectedTile,{row:i,column:r,color:n}=e;if(o!==n)return this.firstSelectedTile.hideHighlight(),e.showHighlight(),this.firstSelectedTile=e,this.scene.audio.playSound(Z.TILE_SELECT),!1;const a=this.getCurrentGrid(t,s,i,r);return a.forEach(d=>{d.push(0),d.unshift(0)}),a.push(new Array(a[0].length).fill(0)),a.unshift(new Array(a[0].length).fill(0)),this.pathFinder.findPath({x:t,y:s},{x:i,y:r},a)}createWrongPath(e){if(!this.firstSelectedTile)return;const{levelHandler:t}=this.scene,{level:s}=t;let o=null;const{row:i,column:r}=this.firstSelectedTile,{row:n,column:a}=e;if(s===1&&i===1&&r===2&&n===4&&a===2)o=[],o.push(new Phaser.Math.Vector2(1,2)),o.push(new Phaser.Math.Vector2(4,2));else{const l=this.getCurrentGrid(i,r,n,a);l.forEach(d=>{d.push(0),d.unshift(0)}),l.push(new Array(l[0].length).fill(0)),l.unshift(new Array(l[0].length).fill(0)),o=this.pathFinder.findWrongPath({x:i,y:r},{x:n,y:a},l)}this.captureWrongPathEffect.drawNewPath(o),this.scene.time.delayedCall(1e3,()=>{this.captureWrongPathEffect.clear()})}getCurrentGrid(e=-1,t=-1,s=-1,o=-1){const i=[],{boardMap:r}=this.scene.boardManager,n=Object.keys(r).length;for(let a=1;a<=n;a++){const l=r[a],d=Object.keys(l).length,u=[];for(let m=1;m<=d;m++){const f=l[m];f.isCaptured()||f.isCapturing()||a===e&&m===t||a===s&&m===o?u.push(0):u.push(1)}i.push(u)}return i}getValidPairTilesSameColorPath(){const e=this.getTiles(),t=[];if(e.forEach(o=>{o.isCaptured()||o.isCapturing()||t.push(o)}),t.length<2)return[];const s=this.getCurrentGrid();s.forEach(o=>{o.push(0),o.unshift(0)}),s.push(new Array(s[0].length).fill(0)),s.unshift(new Array(s[0].length).fill(0));for(let o=0;o<t.length;o++){const i=t[o],{row:r,column:n}=i;s[r][n]=0;for(let a=o+1;a<t.length;a++){const l=t[a];if(i.color!==l.color)continue;const{row:d,column:u}=l;s[d][u]=0;const m=this.pathFinder.findPath({x:r,y:n},{x:d,y:u},s);if(m)return this.hintTiles=[i,l],m;s[d][u]=1}s[r][n]=1}return null}getPairTilesSameColor(e,t=[]){if(t.includes(e))return[];const s=[];s.push(e);for(const o of this.getTiles())if(!o.isCaptured()&&!o.isCapturing()&&o!==e&&o.color===e.color&&!t.includes(o)){s.push(o);break}return s}tilesChangeColor(e,t){const{boardManager:s}=this.scene;t.forEach(o=>{const{row:i,column:r,x:n,y:a}=o,l=this.createTileByType(e,i,r);s.setTileToMap(l,i,r),l.setX(n),l.setY(a),this.removeTile(o)})}getCapturingTiles(){const e=this.getTiles(),t=[];return e.forEach(s=>{s.isCapturing()&&t.push(s)}),t}tilesCapturing(e,t){this.delayEnableItemTimer?.remove();const{animationManager:s,modeManager:o,itemManager:i}=this.scene;this.removeSuggestPairHint(),i.setIsUseableItem(!1),e.forEach(a=>{this.tileCapture(a)}),this.matchedPairCount+=e.length/2;const r=this.capturePathGroup.requestPath();t&&(r.setScore(5*e.length),r.drawNewPath(t)),this.processRocketTiles(e),this.scene.events.emit(j.EVENTS.CAPTURING),s.capturing(e),this.scene.time.addEvent({delay:400,callback:()=>{this.capturePathGroup.killPath(r)}}),this.getCapturingTiles().length<1&&o.processGravityMode(),this.scene.events.emit(it.COMBO),this.scene.events.emit(bh.ADD,Vi.BaseScore)}handleRocketExplode=e=>{this.tilesCapturing(e)};processRocketTiles(e){const t=e.filter(n=>n instanceof hs).length;if(!(t>0))return;const{effectManager:o}=this.scene,i=this.getPairsOfTilesCanCapture(t/2),r=e.filter(n=>n instanceof hs);i.forEach(n=>{n.setState(j.STATUS.CAPTURING)}),r.forEach((n,a)=>{if(a>=i.length||!(n instanceof hs))return;const l=i[a],{x:d,y:u}=n.getWorldPosition(),m=new Phaser.Math.Vector2(d,u);o.requestTileRocketEffect(m,l)}),o.playTileRocketEffects()}handleExtraSpawn(){if(this.remainingExtraTileSpawn===0)return!1;const{tileManager:e}=this.scene;return this.isFirstExtraPairSpawn?this.matchedPairCount<5?!1:(this.isFirstExtraPairSpawn=!1,e.spawnExtraPair(),!0):(this.matchedPairCount-5)%2===0?this.isExtraPairSpawned?!1:(e.spawnExtraPair(),!0):(this.isExtraPairSpawned=!1,!1)}spawnExtraPair(){this.remainingExtraTileSpawn-=1;const{boardManager:e,levelHandler:t}=this.scene,{boardMap:s,boardContainer:o}=e,{colors:i}=t.getConfigs(),r=this.findFreeSpacesInBoard();if(r.length<2){this.remainingExtraTileSpawn++;return}this.scene.audio.playSound(Z.EXTRA_TILE_SPAWN),r.sort(()=>Math.random()-.5);const n=Phaser.Math.RND.between(1,i),{row:a,column:l}=r[0],{row:d,column:u}=r[1],m=this.createTileByType(n.toString(),a,l),f=this.createTileByType(n.toString(),d,u);this.addTile(m),this.addTile(f),s[a][l]=m,s[d][u]=f;const{x:h,y:p}=this.firstTilePosition;m.setVisible(!1),f.setVisible(!1),o.add(m),o.add(f);const v=this.scene.boardManager.getTileSize()+1;m.setPosition(h+(l-1)*v,p+(a-1)*v),f.setPosition(h+(u-1)*v,p+(d-1)*v),m.runExtraSpawnEffect(),f.runExtraSpawnEffect(),m.setVisible(!0),f.setVisible(!0),this.isExtraPairSpawned=!0}findFreeSpacesInBoard(){const{boardMap:e}=this.scene.boardManager,t=[],s=Object.keys(e).length,o=Object.keys(e[1]).length;for(let i=1;i<=s;i++)for(let r=1;r<=o;r++)e[i][r].isCaptured()&&t.push({row:i,column:r});return t}startVibrate(e){try{if(!Vi.EnableVibrate||e<=4)return;const{player:t}=this.scene;if(!t.getPlayerSetting("vibrate"))return;if(e<=6){St(340);return}if(e<=8){St(410);return}if(e<=9){St(480);return}if(e>9){St(600);return}}catch(t){pe(t)}}}const{KEY:Ph,FRAME:Sh}=A.TUTORIAL;class kh extends Phaser.GameObjects.Container{hand;toGlobalX=0;toGlobalY=0;constructor(e){super(e),this.name="DoubleTapTutorialHand",this.addHand(),this.bringToTop(this.hand),this.scene.add.existing(this)}addHand(){this.hand=this.scene.make.image({key:Ph,frame:Sh.HAND,origin:{x:0,y:0}}),this.hand.setWorldSize(65.5,55.5),this.add(this.hand)}setTarget(e,t){this.toGlobalX=e,this.toGlobalY=t}playAnimation(e=0,t=800){this.scene.tweens.killTweensOf(this.hand);const s=1/this.scene.world.getPixelRatio();this.hand.x=0,this.hand.y=0,this.hand.angle=30,this.hand.scale=s,this.hand.setPosition(0,0),this.hand.setAlpha(1),this.runTapTween(!0,e,t)}runTapTween(e,t=0,s=800){const o=1/this.scene.world.getPixelRatio();this.scene?.tweens.add({targets:[this.hand],ease:Phaser.Math.Easing.Cubic.Out,props:{alpha:{start:0,value:1,duration:100},scale:{duration:200,start:o,to:o*.8},angle:{from:30,value:0,duration:200}},yoyo:!0,onComplete:()=>{const i=this.toGlobalX-this.x,r=this.toGlobalY-this.y;e?this.runMoveTween(0,0,i,r,t,s):this.runMoveTween(i,r,0,0,t,s)}})}runMoveTween(e,t,s,o,i=0,r=800){this.scene?.tweens.add({delay:i,targets:[this.hand],ease:Phaser.Math.Easing.Cubic.Out,props:{x:{from:e,to:s,duration:800},y:{from:t,to:o,duration:800}},onComplete:()=>{this.runTapTween(s===0&&o===0,i,r)}})}stopAnimation(){this.scene.tweens.killTweensOf(this.hand)}kill(){super.kill()}revive(){super.revive()}destroy(e){super.destroy(e)}preDestroy(){this.scene.tweens.killTweensOf(this.hand)}}const ne={GUIDE_1:"Guide1",GUIDE_2:"Guide2",GUIDE_3:"Guide3",GUIDE_4:"Guide4",GUIDE_5:"Guide5",GUIDE_6:"Guide6",GUIDE_7:"Guide7",GUIDE_8:"Guide8",GUIDE_11:"Guide11"};class xh{scene;manager;isStep1Analyzed;isStep2Analyzed;hintOrder=[[2,5,5,1],[1,1,5,5],[2,2,4,5],[2,1,2,3],[4,1,5,2],[1,2,4,2],[1,3,1,4],[1,2,4,2],[4,1,5,2],[1,5,3,1],[2,4,3,5],[3,2,3,4]];constructor(e){this.manager=e,this.scene=e.scene}setup(){this.isStep1Analyzed=!1,this.isStep2Analyzed=!1,F.once(G.TILE_SHOWED_UP,this.startGuide),F.once(G.FINISH,this.closeTutorial),this.manager.background.setDepth(W.EFFECT)}startGuide=()=>{const{tileManager:e,uiManager:t,boardManager:s}=this.scene,{boardContainer:o}=s;o.add(this.manager.background),this.manager.background.setPosition(-o.x+this.manager.background.displayWidth/2,-o.y+this.manager.background.displayHeight/2),t.disableUILogicForGuide1(),e.removeEventsAllTiles(),this.createHint()};createHint=()=>{const e=this.hintOrder.pop();if(!e)return;const t=e[0],s=e[1],o=e[2],i=e[3],{tileManager:r}=this.scene,{boardMap:n,boardContainer:a}=this.scene.boardManager;a.bringToTop(this.manager.background);const l=n[t][s],{x:d,y:u}=l.getWorldPosition();r.addEventsTile(l),a.bringToTop(l);const m=n[o][i],{x:f,y:h}=m.getWorldPosition();r.addEventsTile(m),a.bringToTop(m),this.manager.runShowMaskAnimation(.4),this.createHandAt(d,u,f,h),this.scene.events.once(j.EVENTS.INTERACTION,this.handleInteract)};handleNoPathFound=()=>{this.scene.events.off(j.EVENTS.CAPTURING,this.handleCapturing);const{tileManager:e}=this.scene;e.removeEventsAllTiles(),this.isStep2Analyzed||(this.scene.analytics.event(U.TUTORIAL_STEP,{step:2}),this.isStep2Analyzed=!0),this.manager.runHideMaskAnimation(),this.scene.time.delayedCall(1e3,()=>{e.clearWrongPath(),this.scene.time.delayedCall(500,()=>{this.createHint()})})};handleCapturing=()=>{this.scene.events.off(j.EVENTS.NO_PATH_FOUND,this.handleNoPathFound),this.scene.audio.playSound("combo_1"),this.isStep1Analyzed||(this.scene.analytics.event(U.TUTORIAL_STEP,{step:1}),this.isStep1Analyzed=!0),this.manager.runHideMaskAnimation(),this.scene.time.delayedCall(600,()=>{this.createHint()})};handleInteract=()=>{this.manager.hand.stopAnimation(),this.manager.hand.kill(),this.scene.events.once(j.EVENTS.CAPTURING,this.handleCapturing),this.scene.events.once(j.EVENTS.NO_PATH_FOUND,this.handleNoPathFound)};createHandAt(e,t,s,o){this.manager.hand.setDepth(W.ON_TOP),this.manager.hand.setPosition(e-10,t),this.manager.hand.revive(),this.manager.hand.setTarget(s-10,o),this.manager.hand.stopAnimation(),this.manager.hand.playAnimation(300)}closeTutorial=()=>{F.off(G.TILE_SHOWED_UP,this.startGuide),this.scene.events.off(j.EVENTS.INTERACTION,this.handleInteract),this.scene.events.off(j.EVENTS.CAPTURING,this.handleCapturing),this.scene.events.off(j.EVENTS.NO_PATH_FOUND,this.handleNoPathFound);const{boardContainer:e}=this.scene.boardManager;e.remove(this.manager.background,!1),Phaser.Display.Align.In.Center(this.manager.background,this.scene.gameZone),this.scene.analytics.event(U.TUTORIAL_STEP,{step:3});const{objects:t}=this.scene.layoutManager;t.skipContainer.kill(),this.manager.stopTutorial()}}const Oh=xh;class Rh{scene;manager;constructor(e){this.manager=e,this.scene=e.scene}setup(){F.once(G.TILE_SHOWED_UP,this.startGuide),F.once(G.FINISH,this.closeTutorial),F.once(G.DIE,this.closeTutorial)}startGuide=()=>{this.createInfo()};createInfo(){const{itemManager:e,layoutManager:t}=this.scene,{staticHand:s,infoText:o}=this.manager,{objects:i}=t;e.setDepthItemOnTop(C.ROCKET.ID);const{x:r,y:n,scale:a,width:l,displayWidth:d,displayHeight:u}=i.rocketItem;this.manager.createMask(r-(d-2*a)/2,n-u/2+6*a,(l-2)*a,(l-2)*a,(l-2)*a/2);const m=this.scene.world.isLandscape(),f=m?30:-50,h=m?60:-90,p=m?30:210;this.manager.runShowMaskAnimation(),s.revive(),s.angle=p,s.setPosition(r,n+f);const b=this.scene.lang.getCurrentLanguage()==="ru"?200:150;o.setMaxWidth(b),o.revive(),o.setPosition(r,n+h),o.setText(this.scene.lang.Text.tutorial_level_11),this.scene.input.setTopOnly(!0),this.scene.input.once(Phaser.Input.Events.POINTER_UP,this.handlePointerDown)}handlePointerDown=()=>{this.scene.input.setTopOnly(!1);const{itemManager:e}=this.scene,{infoText:t,staticHand:s}=this.manager;this.manager.runHideMaskAnimation(),t.kill(),s.kill(),e.setPaidItem(C.ROCKET.ID,!0),e.setDepthItemNormal(C.ROCKET.ID),e.itemActive!==C.ROCKET.ID&&e.enableItem(C.ROCKET.ID),this.scene.analytics.event(U.TUTORIAL_STEP,{step:18})};closeTutorial=()=>{F.off(G.TILE_SHOWED_UP,this.startGuide),F.off(G.FINISH,this.closeTutorial),F.off(G.DIE,this.closeTutorial),this.manager.stopTutorial(),this.manager.completeTutorial(),this.scene.analytics.event(U.TUTORIAL_STEP,{step:19})}}const Ah=Rh;class _h{scene;manager;constructor(e){this.manager=e,this.scene=e.scene}setup(){F.once(G.TILE_SHOWED_UP,this.startGuide),F.once(G.FINISH,this.closeTutorial),F.once(G.DIE,this.closeTutorial)}startGuide=()=>{const{uiManager:e}=this.scene;e.disableUILogicForGuide2(),this.manager.listenAutoHintEvent(),this.manager.startAutoHint()};closeTutorial=()=>{F.off(G.TILE_SHOWED_UP,this.startGuide),F.off(G.FINISH,this.closeTutorial),F.off(G.DIE,this.closeTutorial),this.manager.stopListenAutoHintEvent(),this.manager.stopAutoHint(),this.manager.stopTutorial()}}const Ih=_h;class Mh{scene;manager;constructor(e){this.manager=e,this.scene=e.scene}setup(){F.once(G.TILE_SHOWED_UP,this.startGuide),F.once(G.FINISH,this.closeTutorial),F.once(G.DIE,this.closeTutorial)}startGuide=()=>{this.createInfo(),this.manager.listenAutoHintEvent(),this.manager.startAutoHint()};createInfo(){const{staticHand:e,infoText:t}=this.manager,{layoutManager:s}=this.scene,{objects:o}=s,{width:i,height:r,x:n,y:a}=o.playtimeClock,l=10;this.manager.createMask(n-l/2,a-r/2-l/2,i+l,r+l),this.manager.runShowMaskAnimation(),e.revive(),e.angle=30,e.setPosition(n+i/2,a+30),t.setMaxWidth(200),t.revive(),t.setPosition(n+90,a+60),t.setText(this.scene.lang.Text.tutorial_level_3),this.scene.input.setTopOnly(!0),this.scene.input.once(Phaser.Input.Events.POINTER_DOWN,this.handlePointerDown)}handlePointerDown=()=>{this.scene.input.setTopOnly(!1);const{infoText:e,staticHand:t}=this.manager;this.manager.runHideMaskAnimation(),e.kill(),t.kill(),this.scene.analytics.event(U.TUTORIAL_STEP,{step:4})};closeTutorial=()=>{F.off(G.TILE_SHOWED_UP,this.startGuide),F.off(G.FINISH,this.closeTutorial),F.off(G.DIE,this.closeTutorial),this.manager.stopListenAutoHintEvent(),this.manager.stopAutoHint(),this.manager.stopTutorial(),this.scene.analytics.event(U.TUTORIAL_STEP,{step:5})}}const Ch=Mh;class Lh{scene;manager;constructor(e){this.manager=e,this.scene=e.scene}setup(){F.once(G.TILE_SHOWED_UP,this.startGuide),F.once(G.FINISH,this.closeTutorial),F.once(G.DIE,this.closeTutorial)}startGuide=()=>{this.createInfo(),this.manager.listenAutoHintEvent()};createInfo(){const{itemManager:e,layoutManager:t}=this.scene,{staticHand:s,infoText:o}=this.manager,{objects:i}=t;e.setDepthItemOnTop(C.HINT.ID);const{x:r,y:n,scale:a,width:l,displayWidth:d,displayHeight:u}=i.hintItem;this.manager.createMask(r-(d-2*a)/2,n-u/2+6*a,(l-2)*a,(l-2)*a,(l-2)*a/2),this.manager.runShowMaskAnimation();const m=this.scene.world.isLandscape(),f=m?30:-50;let h=m?60:-90;const p=m?30:210;s.revive(),s.angle=p,s.setPosition(r,n+f);const v=this.scene.lang.getCurrentLanguage();o.revive(),v==="ru"&&(m?h+=10:h-=10),o.setPosition(r,n+h),o.setText(this.scene.lang.Text.tutorial_hint),this.scene.input.setTopOnly(!0),this.scene.input.once(Phaser.Input.Events.POINTER_UP,this.handlePointerDown)}handlePointerDown=()=>{this.scene.input.setTopOnly(!1);const{itemManager:e}=this.scene,{infoText:t,staticHand:s}=this.manager;this.manager.runHideMaskAnimation(),t.kill(),s.kill(),e.setPaidItem(C.HINT.ID),e.setDepthItemNormal(C.HINT.ID),this.scene.analytics.event(U.TUTORIAL_STEP,{step:6})};closeTutorial=()=>{F.off(G.TILE_SHOWED_UP,this.startGuide),F.off(G.FINISH,this.closeTutorial),F.off(G.DIE,this.closeTutorial),this.manager.stopListenAutoHintEvent(),this.manager.stopAutoHint(),this.manager.stopTutorial(),this.scene.analytics.event(U.TUTORIAL_STEP,{step:7})}}const Dh=Lh;class ve extends Phaser.GameObjects.Container{useSound=!0;isClicked=!1;scaleUp=-1;scaleDown=-1;button;upAnimation;downAnimation;isUsePixelPerfect=!1;hitArea;hitZone;hitSoundEffectKey=Z.GENERAL_BUTTON_CLICK;scaleDownPress;parentName;constructor(e,t,s,o,i,r=!1){super(e),this.isUsePixelPerfect=r,this.setDepth(W.BUTTON),this.createButton(t,s,o,i),this.updateSize(),this.listenEvents(),this.scene.add.existing(this)}listenEvents(){this.scene.events.on(Phaser.Scenes.Events.SLEEP,this.handleSceneSleep),this.once(Phaser.GameObjects.Events.DESTROY,this.handelObjectDestroy)}handelObjectDestroy=()=>{this.scene&&this.scene.events.off(Phaser.Scenes.Events.SLEEP,this.handleSceneSleep)};handleSceneSleep=()=>{this.scene&&this.scene.tweens.killTweensOf(this)};set onClick(e){this.isUsePixelPerfect?(this.hitArea=this.button,this.hitArea.setInteractive({useHandCursor:!0,pixelPerfect:!0})):(this.hitArea=this.hitZone,this.updateSize(),this.hitArea.setInteractive({useHandCursor:!0})),this.hitArea.on(Phaser.Input.Events.GAMEOBJECT_POINTER_DOWN,this.handlePointerDown),this.hitArea.on(Phaser.Input.Events.GAMEOBJECT_POINTER_UP,this.handleOnClick(e)),this.hitArea.on(Phaser.Input.Events.GAMEOBJECT_POINTER_OUT,this.handlePointerOut)}get isUsePixelPerFect(){return this.isUsePixelPerfect}handlePointerDown=()=>{this.isClicked||this.upAnimation?.tween?.isPlaying()||(this.isClicked=!0,this.runDownAnimation())};handleOnClick=e=>()=>{this.isClicked&&(this.upAnimation?.tween?.isPlaying()||(this.isClicked=!1,this.runUpAnimation(),this.upAnimation?.tween?.once(Phaser.Tweens.Events.TWEEN_COMPLETE,()=>{this.logButtonEvent(),this.addDebugData(),this.processCallback(e)})))};handlePointerOut=()=>{this.isClicked&&(this.upAnimation?.tween?.isPlaying()||(this.isClicked=!1,this.runUpAnimation()))};processCallback(e){this.upAnimation?.stop(),this.downAnimation?.stop(),this.scene?.tweens.killTweensOf(this),this.scaleUp!==-1&&this.setScale(this.scaleUp),e()}setDisabled(e){e?(this.setAlpha(.5),this.hitArea?.disableInteractive()):(this.setAlpha(1),this.hitArea?.setInteractive())}createButton(e,t,s,o){this.button=this.scene.add.image(0,0,e,t),s&&o&&this.button.setWorldSize(s,o),this.scaleDownPress=this.scale-.07;const{displayWidth:i,displayHeight:r}=this.button;this.hitZone=this.scene.make.zone({displayWidth:i,displayHeight:r}),this.add([this.button,this.hitZone])}updateSize(){const{width:e,height:t}=this.button,s=10,o=e/100*10,i=t/100*10,r=o<s?o:s,n=i<s?i:s;this.setSize(e+r,t+n),this.hitZone.setSize(e+r,t+n)}runDownAnimation=()=>{this.scaleDown===-1&&(this.scaleUp=this.scale,this.scaleDown=this.scaleDownPress),this.useSound&&this.scene.audio.playSound(this.hitSoundEffectKey),this.downAnimation?.remove(),this.downAnimation=new Ms({targets:[this],duration:150,props:{scale:this.scaleDown},onUpdate:()=>{this.hitZone.scale=1/this.scale}}),this.downAnimation.play()};runUpAnimation=()=>{this.scaleUp!==-1&&(this.upAnimation?.remove(),this.upAnimation=new Ms({targets:[this],duration:150,props:{scale:this.scaleUp},onUpdate:()=>{this.hitZone.scale=1/this.scale}}),this.upAnimation.play())};addDebugData(){const e=this.getParentName(),t=this.name;_o("ui-click",`${e}:${t}`)}logButtonEvent(){const e=this.getParentName(),t=this.name;this.scene.analytics.event(U.BUTTON_CLICK,{button_name:t,screen_name:e})}getParentName(){if(this.parentName)return this.parentName;let e=this.parentContainer;for(;e;){if(e instanceof GameCore.Screen){const t=e;return this.parentName=t.getScreenName(),this.parentName}e=e.parentContainer}return this.parentName=this.scene.getSceneName(),this.parentName}setButtonHitSoundEffect(e){this.hitSoundEffectKey=e}}const{KEY:gt,FRAME:Ee}=A.TUTORIAL,{KEY:fs,FRAME:oo}=A.DEFAULT;class Nh extends Phaser.GameObjects.Container{popup;content;failContent;onClick;goodText;tile1;rocket1;curve1;tile5;tile4;tile7;rocket2;curve2;constructor(e){super(e),this.scene=e,this.setDepth(W.POPUP),this.createPopup(),this.updateSize(),this.createTitle(),this.createContent(),this.createText(),this.createButton(),this.createFail(),this.scene.add.existing(this)}createPopup(){const e=this.scene.make.image({key:fs,frame:oo.POPUP});e.setWorldSize(291.5,374),this.add(e),this.popup=e}updateSize(){const{displayWidth:e,displayHeight:t}=this.popup;this.setSize(e/2,t/2)}createTitle(){const e=this.scene.make.image({key:fs,frame:this.scene.lang.Texture.rocket}),t=this.scene.lang.getCurrentLanguage();let s=115,o=24.5;switch(t){case"ru":s=110,o=25;break;case"ja":s=99,o=29;break;case"pt":s=132,o=25;break;case"fr":s=90,o=30;break;case"it":s=97,o=25;break;case"tr":s=96,o=25;break;case"de":s=113,o=25;break;case"es":s=117,o=25;break;case"zh":s=54,o=29;break}e.setWorldSize(s,o),e.setTint(15584418),Phaser.Display.Align.In.TopCenter(e,this.popup,0,-22),this.add(e)}createContent(){this.content=this.scene.make.container({}),this.content.setSize(208,104),this.add(this.content),this.content.setPosition(0,-50),this.createTiles()}createTiles(){const e=[],t=this.createTile(Ee.GUIDE_TILE5);this.content.add(t),e.push(t),this.tile1=t;const s=this.createTile(Ee.GUIDE_TILE4);this.content.add(s),e.push(s);const o=this.createTile(Ee.GUIDE_TILE3);this.content.add(o),e.push(o);const i=this.createTile(Ee.GUIDE_TILE2);this.content.add(i),e.push(i),this.tile4=i;const r=this.createTile(Ee.GUIDE_TILE5);this.content.add(r),e.push(r),this.tile5=r;const n=this.createTile(Ee.GUIDE_TILE1);this.content.add(n),e.push(n);const a=this.createTile(Ee.GUIDE_TILE2);this.content.add(a),e.push(a),this.tile7=a;const l=this.createTile(Ee.GUIDE_TILE1);this.content.add(l),e.push(l),Phaser.Actions.GridAlign(e,{width:4,height:2,cellWidth:52,cellHeight:52,x:-(2*52)+26+1,y:-(1*52)+26+1});const d=this.scene.make.image({key:gt,frame:Ee.ROCKET});d.setWorldSize(30,39),this.content.add(d),this.rocket1=d,this.rocket1.setPosition(t.x,t.y),this.rocket1.kill();const u=this.scene.make.image({key:gt,frame:Ee.ROCKET});u.setWorldSize(30,39),this.content.add(u),this.rocket2=u,this.rocket2.setPosition(r.x,r.y),this.rocket2.kill();const m=(i.x-t.x)/2,f=t.x+m,h=t.y;this.curve1=new Phaser.Curves.Ellipse(f,h,m,50,180,360);const p=(a.x-r.x)/2,v=r.x+p,b=r.y;this.curve2=new Phaser.Curves.Ellipse(v,b,p,30,180,360,!0)}createTile(e,t=!1){const s=this.scene.make.container({});s.setSize(50,50);const o=this.scene.make.image({key:gt,frame:Ee.TILE_BG});if(o.setWorldSize(50,50),s.add(o),e){const i=this.scene.make.image({key:gt,frame:e});i.setWorldSize(41,43.5),s.add(i)}if(t){const i=this.scene.add.graphics();i.fillStyle(0,.3),i.fillPoints([{x:0,y:0},{x:0,y:-25},{x:25,y:-25}],!0),s.add(i);const r=this.scene.make.image({key:gt,frame:Ee.BOMB});r.setWorldSize(20,21),Phaser.Display.Align.In.BottomRight(r,s,0,-3),s.add(r)}return s}createText(){const e=this.scene.make.bitmapText({font:B.YELLOW_AND_STROKE.KEY,size:this.scene.fontSize(18)});e.setCenterAlign(),e.setText(this.scene.lang.Text.tutorial_rocket_tile),e.setMaxWidth(220),Phaser.Display.Align.In.Center(e,this.popup,0,50),this.add(e)}createButton(){const e=new ve(this.scene,fs,oo.BUTTON_GREEN,180,46.5);e.setName("Guide5Btn");const t=this.scene.make.bitmapText({font:B.SHADOW.KEY,size:this.scene.fontSize(18),origin:{x:.5,y:.5}});t.setText(this.scene.lang.Text.ok),e.add(t),Phaser.Display.Align.In.Center(t,e,0,-4),Phaser.Display.Align.In.BottomCenter(e,this.popup,0,-30),e.onClick=this.handleButtonClick;const s=this.scene.make.image({key:fs,frame:oo.BUTTON_BG});s.setWorldSize(184,50.5),s.setPosition(e.x,e.y),this.add([s,e])}handleButtonClick=()=>{this.kill(),this.onClick&&this.onClick()};createFail(){this.failContent=this.scene.make.container({}),Phaser.Display.Align.In.Center(this.failContent,this.content),this.add(this.failContent);const e=this.scene.lang.getCurrentLanguage();let t=171,s=79;switch(e){case"ru":t=200,s=79;break;case"ja":t=112,s=79;break;case"id":t=115,s=63;break;case"it":t=108,s=56;break;case"es":t=100,s=56;break;case"fr":t=100,s=56;break;case"pt":t=94,s=57;break;case"de":t=93,s=57;break;case"zh":t=88,s=60;break;case"tr":t=70,s=61;break}const o=this.scene.make.image({key:gt,frame:this.scene.lang.Texture.tutorial_text_good});o.setWorldSize(t,s),this.failContent.add(o),o.kill(),this.goodText=o}stopAnimation(){this.goodText.kill(),this.scene.tweens.killTweensOf([this.tile1,this.tile4,this.tile5,this.tile7,this.rocket1,this.rocket2]),this.scene.tweens.killTweensOf(this.goodText)}playAnimation(){this.scene.tweens.killTweensOf(this.goodText),this.scene.tweens.killTweensOf([this.tile1,this.tile4,this.tile5,this.tile7,this.rocket1,this.rocket2]),this.goodText.kill(),this.goodText.setPosition(0,0),this.rocket1.setPosition(this.tile1.x,this.tile1.y),this.rocket1.setAngle(0),this.rocket1.setAlpha(1),this.rocket1.kill(),this.rocket2.setPosition(this.tile5.x,this.tile5.y),this.rocket2.setAngle(0),this.rocket2.setAlpha(1),this.rocket2.kill(),this.tile1.setAlpha(1),this.tile4.setAlpha(1),this.tile5.setAlpha(1),this.tile7.setAlpha(1),this.scene.time.delayedCall(600,()=>{this.rocket1.revive(),this.rocket2.revive()}),this.scene.tweens.add({targets:[this.tile1,this.tile5],duration:500,delay:300,props:{alpha:{from:1,to:0}},onComplete:()=>{this.scene.tweens.addCounter({from:0,to:1,duration:500,onUpdate:e=>{const t=e.getValue(),s=this.curve1.getPoint(t);this.rocket1.setRotation(Phaser.Math.Angle.Between(this.rocket1.x,this.rocket1.y,s.x,s.y)+Phaser.Math.DegToRad(66)),this.rocket1.setPosition(s.x,s.y);const o=this.curve2.getPoint(t);this.rocket2.setRotation(Phaser.Math.Angle.Between(this.rocket2.x,this.rocket2.y,o.x,o.y)+Phaser.Math.DegToRad(66)),this.rocket2.setPosition(o.x,o.y)},onComplete:()=>{this.scene.tweens.add({targets:[this.tile4,this.tile7,this.rocket1,this.rocket2],duration:300,props:{alpha:{from:1,to:0}}}),this.scene.time.delayedCall(200,()=>{this.playGoodAnimation()})}})}})}playGoodAnimation(){this.goodText.revive(),this.scene.tweens.add({targets:this.goodText,duration:500,ease:Phaser.Math.Easing.Linear,props:{y:{from:0,to:-50}},onComplete:()=>{this.playAnimation()}})}}const Gh=Nh;class Fh{scene;manager;popup;constructor(e){this.manager=e,this.scene=e.scene,this.popup=new Gh(this.scene),this.popup.setDepth(W.ON_TOP),this.scene.world.isLandscape()?(this.popup.setScale(.7),Phaser.Display.Align.In.Center(this.popup,this.scene.gameZone,0,-20)):Phaser.Display.Align.In.Center(this.popup,this.scene.gameZone,0,-50),this.popup.kill()}setup(){F.once(G.TILE_SHOWED_UP,this.startGuide),F.once(G.FINISH,this.closeTutorial),F.once(G.DIE,this.closeTutorial)}startGuide=()=>{this.createInfo()};createInfo(){this.scene.input.setTopOnly(!0),this.manager.runShowMaskAnimation(),this.popup.revive(),this.scene.time.delayedCall(500,()=>{this.popup.playAnimation(),this.scene.analytics.event(U.TUTORIAL_STEP,{step:8})}),this.popup.onClick=()=>{this.scene.input.setTopOnly(!1),this.manager.runHideMaskAnimation(),this.popup.stopAnimation(),this.manager.listenAutoHintEvent(),this.manager.startAutoHint(),this.scene.analytics.event(U.TUTORIAL_STEP,{step:9})}}closeTutorial=()=>{F.off(G.TILE_SHOWED_UP,this.startGuide),F.off(G.FINISH,this.closeTutorial),F.off(G.DIE,this.closeTutorial),this.manager.stopListenAutoHintEvent(),this.manager.stopAutoHint(),this.manager.stopTutorial(),this.scene.analytics.event(U.TUTORIAL_STEP,{step:10})}}const Bh=Fh,{KEY:Qe,FRAME:Ge}=A.TUTORIAL,{KEY:ps,FRAME:io}=A.DEFAULT;class Uh extends Phaser.GameObjects.Container{popup;content;contentBg;failContent;onClick;failedText;originFailScale;leftLeaf;originLLeafScale;rightLeaf;originRLeafScale;bombCountDownMask;bomb;tileBomb;bombTween;constructor(e){super(e),this.scene=e,this.setDepth(W.POPUP),this.createPopup(),this.updateSize(),this.createTitle(),this.createContent(),this.createText(),this.createButton(),this.createFail(),this.scene.add.existing(this)}createPopup(){const e=this.scene.make.image({key:ps,frame:io.POPUP});e.setWorldSize(291.5,374),this.add(e),this.popup=e}updateSize(){const{displayWidth:e,displayHeight:t}=this.popup;this.setSize(e/2,t/2)}createTitle(){const e=this.scene.make.image({key:ps,frame:this.scene.lang.Texture.boom}),t=this.scene.lang.getCurrentLanguage();let s=86,o=25;switch(t){case"ru":s=63,o=25;break;case"ja":s=68,o=25;break;case"zh":s=29,o=28;break;case"pt":s=106,o=25;break;case"fr":s=85,o=25;break;case"id":s=80,o=25;break;case"es":s=65,o=25;break;case"tr":s=107,o=25;break}e.setWorldSize(s,o),e.setTint(15584418),Phaser.Display.Align.In.TopCenter(e,this.popup,0,-22),this.add(e)}createContent(){this.content=this.scene.make.container({}),this.content.setSize(102,102),this.add(this.content),this.content.setPosition(0,-20),this.createTiles();const e=this.scene.make.image({key:Qe,frame:Ge.BLANK});e.setTint(0),e.setWorldSize(102,102),e.setY(-20),this.content.add(e),e.kill(),this.contentBg=e}createTiles(){const e=this.createTile(Ge.GUIDE_TILE1);this.content.add(e),Phaser.Display.Align.In.TopLeft(e,this.content);const t=this.createTile(Ge.GUIDE_TILE2);this.content.add(t),Phaser.Display.Align.In.TopRight(t,this.content);const s=this.createTile(Ge.GUIDE_TILE1);this.content.add(s),Phaser.Display.Align.In.BottomLeft(s,this.content);const o=this.createTile(Ge.GUIDE_TILE2,!0);this.content.add(o),Phaser.Display.Align.In.BottomRight(o,this.content),this.tileBomb=o}createTile(e,t=!1){const s=this.scene.make.container({});s.setSize(50,50);const o=this.scene.make.image({key:Qe,frame:Ge.TILE_BG});o.setWorldSize(50,50),s.add(o);const i=this.scene.make.image({key:Qe,frame:e});if(i.setWorldSize(41,43.5),s.add(i),t){const r=this.scene.make.image({key:Qe,frame:Ge.BOMB});r.setWorldSize(20,21),Phaser.Display.Align.In.BottomRight(r,s,0,-3),s.add(r),this.bomb=r}return s}createText(){const e=this.scene.make.bitmapText({font:B.YELLOW_AND_STROKE.KEY,size:this.scene.fontSize(18)});e.setText(this.scene.lang.Text.tutorial_bomb_tile),e.setCenterAlign(),e.setMaxWidth(220),Phaser.Display.Align.In.Center(e,this.popup,0,50),this.add(e)}createButton(){const e=new ve(this.scene,ps,io.BUTTON_GREEN,180,46.5);e.setName("Guide6Btn");const t=this.scene.make.bitmapText({font:B.SHADOW.KEY,size:this.scene.fontSize(18),origin:{x:.5,y:.5}});t.setText(this.scene.lang.Text.ok),e.add(t),Phaser.Display.Align.In.Center(t,e,0,-4),Phaser.Display.Align.In.BottomCenter(e,this.popup,0,-30),e.onClick=this.handleButtonClick;const s=this.scene.make.image({key:ps,frame:io.BUTTON_BG});s.setWorldSize(184,50.5),s.setPosition(e.x,e.y),this.add([s,e])}handleButtonClick=()=>{this.kill(),this.onClick&&this.onClick()};createFail(){this.failContent=this.scene.make.container({}),Phaser.Display.Align.In.Center(this.failContent,this.content),this.add(this.failContent);const e=this.scene.make.image({key:Qe,frame:Ge.LEAF_LEFT});e.setOrigin(1,.5),e.setWorldSize(132.5,61),this.failContent.add(e),e.setY(-17),e.kill(),this.leftLeaf=e,this.originLLeafScale=e.scale;const t=this.scene.make.image({key:Qe,frame:Ge.LEAF_RIGHT});t.setOrigin(0,.5),t.setWorldSize(120,68),this.failContent.add(t),t.setY(-17),t.kill(),this.rightLeaf=t,this.originRLeafScale=t.scale;const s=this.scene.lang.getCurrentLanguage();let o=61.5;switch(s){case"ru":o=35;break;case"ja":o=90;break;case"it":o=45*(167.5/350);break;case"de":o=45*(167.5/336);break;case"tr":o=55*(167.5/263);break;case"es":o=45*(167.5/231);break;case"pt":o=45*(167.5/192);break;case"fr":o=54*(167.5/164);break;case"id":o=48*(167.5/163);break;case"zh":o=51*(167.5/93);break}const i=this.scene.make.image({key:Qe,frame:this.scene.lang.Texture.tutorial_text_failed});i.setWorldSize(167.5,o),this.failContent.add(i),i.setY(-20),i.kill(),this.failedText=i,this.originFailScale=i.scale}stopAnimation(){this.contentBg.kill(),this.leftLeaf.kill(),this.rightLeaf.kill(),this.failedText.kill(),this.scene.tweens.killTweensOf(this.content),this.scene.tweens.killTweensOf(this.leftLeaf),this.scene.tweens.killTweensOf(this.rightLeaf),this.scene.tweens.killTweensOf(this.failedText)}playAnimation(){this.scene.tweens.killTweensOf(this.content),this.scene.tweens.killTweensOf(this.leftLeaf),this.scene.tweens.killTweensOf(this.rightLeaf),this.scene.tweens.killTweensOf(this.failedText),this.contentBg.revive(),this.contentBg.setAlpha(0),this.bomb.revive(),this.failedText.revive(),this.failedText.setScale(0),this.leftLeaf.revive(),this.leftLeaf.setScale(0),this.leftLeaf.setAngle(-5),this.rightLeaf.revive(),this.rightLeaf.setScale(0),this.rightLeaf.setAngle(5),this.runBombIconTween(),this.scene.tweens.addCounter({from:1,to:0,duration:1e3,ease:"Linear",onUpdate:e=>{const t=e.getValue();this.bombCountDownMask.drawCountdown(t,1)},onComplete:()=>{this.bomb.kill(),this.scene.time.delayedCall(200,()=>{this.playFailAnimation()})}})}runBombIconTween(){this.bombTween?.stop(),this.bombTween?.stop();const{scaleX:e,scaleY:t}=this.bomb;this.bombTween=this.scene.tweens.add({targets:this.bomb,scaleX:e*1.2,scaleY:t*1.2,ease:"Sine.easeInOut",duration:500,yoyo:!0,repeat:-1,onStop:()=>{this.bomb.setScale(e,t)}})}createBombCountDown(){this.bombCountDownMask=new fa(this.scene,50,4),this.tileBomb.add(this.bombCountDownMask),this.bombCountDownMask.drawCountdown(0,1)}playFailAnimation(){this.scene.tweens.add({targets:this.contentBg,duration:1e3,ease:Phaser.Math.Easing.Linear,props:{alpha:{from:0,to:.5}}}),this.scene.tweens.add({targets:this.failedText,duration:1e3,ease:Phaser.Math.Easing.Expo.InOut,props:{scale:{from:0,to:this.originFailScale}},onComplete:()=>{const e=[this.originLLeafScale,this.originRLeafScale];this.scene.tweens.add({targets:[this.leftLeaf,this.rightLeaf],duration:500,ease:Phaser.Math.Easing.Expo.Out,props:{scale:{getStart:(s,o,i,r)=>0,getEnd:(s,o,i,r)=>e[r]}}});const t=[-5,5];this.scene.tweens.add({targets:[this.leftLeaf,this.rightLeaf],delay:300,duration:500,ease:Phaser.Math.Easing.Linear,props:{angle:{getStart:(s,o,i,r)=>t[r],getEnd:(s,o,i,r)=>0}},onComplete:()=>{this.playAnimation()}})}})}}const Hh=Uh;class Yh{scene;manager;popup;constructor(e){this.manager=e,this.scene=e.scene,this.popup=new Hh(this.scene),this.popup.setDepth(W.ON_TOP),this.scene.world.isLandscape()?(this.popup.setScale(.7),Phaser.Display.Align.In.Center(this.popup,this.scene.gameZone,0,-20)):Phaser.Display.Align.In.Center(this.popup,this.scene.gameZone,0,-50),this.popup.kill(),this.popup.createBombCountDown()}setup(){F.once(G.TILE_SHOWED_UP,this.startGuide),F.once(G.FINISH,this.closeTutorial),F.once(G.DIE,this.closeTutorial)}startGuide=()=>{this.createInfo()};createInfo(){this.scene.input.setTopOnly(!0),this.manager.runShowMaskAnimation(),this.popup.revive(),this.scene.time.delayedCall(500,()=>{this.popup.playAnimation(),this.scene.analytics.event(U.TUTORIAL_STEP,{step:11})}),this.popup.onClick=()=>{this.scene.input.setTopOnly(!1),this.manager.runHideMaskAnimation(),this.popup.stopAnimation(),this.manager.listenAutoHintEvent(),this.manager.startAutoHint(),this.scene.analytics.event(U.TUTORIAL_STEP,{step:12})}}closeTutorial=()=>{F.off(G.TILE_SHOWED_UP,this.startGuide),F.off(G.FINISH,this.closeTutorial),F.off(G.DIE,this.closeTutorial),this.manager.stopListenAutoHintEvent(),this.manager.stopAutoHint(),this.manager.stopTutorial(),this.scene.analytics.event(U.TUTORIAL_STEP,{step:13})}}const Wh=Yh;class Kh{scene;manager;constructor(e){this.manager=e,this.scene=e.scene}setup(){F.once(G.TILE_SHOWED_UP,this.startGuide),F.once(G.FINISH,this.closeTutorial),F.once(G.DIE,this.closeTutorial)}startGuide=()=>{this.createInfo()};createInfo(){const{itemManager:e,layoutManager:t}=this.manager.scene,{staticHand:s,infoText:o}=this.manager,{objects:i}=t;e.setDepthItemOnTop(C.GUIDE_BOMB_DEFUSE.ID);const{x:r,y:n,scale:a,width:l,displayWidth:d,displayHeight:u}=i.defuseItem;this.manager.createMask(r-(d-2*a)/2,n-u/2+6*a,(l-2)*a,(l-2)*a,(l-2)*a/2),this.manager.runShowMaskAnimation();const m=this.scene.world.isLandscape(),f=m?30:-50,h=m?0:30,p=m?60:-90,v=m?30:210;s.revive(),s.angle=v,s.setPosition(r,n+f);const g=this.scene.lang.getCurrentLanguage()==="ru"?250:150;o.setMaxWidth(g),o.revive(),o.setPosition(r+h,n+p),o.setText(this.scene.lang.Text.tutorial_level_7),this.manager.scene.input.setTopOnly(!0),this.manager.scene.input.once(Phaser.Input.Events.POINTER_UP,this.handlePointerDown)}handlePointerDown=()=>{this.manager.scene.input.setTopOnly(!1);const{itemManager:e,uiManager:t}=this.manager.scene,{infoText:s,staticHand:o}=this.manager;this.manager.runHideMaskAnimation(),t.changeToDefuseItem(),s.kill(),o.kill(),e.setPaidItem(C.GUIDE_BOMB_DEFUSE.ID),e.setDepthItemNormal(C.GUIDE_BOMB_DEFUSE.ID),this.manager.scene.analytics.event(U.TUTORIAL_STEP,{step:14})};closeTutorial=()=>{F.off(G.TILE_SHOWED_UP,this.startGuide),F.off(G.FINISH,this.closeTutorial),F.off(G.DIE,this.closeTutorial),this.manager.stopTutorial(),this.manager.scene.analytics.event(U.TUTORIAL_STEP,{step:15})}}const zh=Kh;class jh{scene;manager;constructor(e){this.manager=e,this.scene=e.scene}setup(){F.once(G.TILE_SHOWED_UP,this.startGuide),F.once(G.FINISH,this.closeTutorial),F.once(G.DIE,this.closeTutorial)}startGuide=()=>{this.createInfo()};createInfo(){const{itemManager:e,layoutManager:t}=this.manager.scene,{staticHand:s,infoText:o}=this.manager,{objects:i}=t;e.setDepthItemOnTop(C.SHUFFLE.ID);const{x:r,y:n,scale:a,width:l,displayWidth:d,displayHeight:u}=i.shuffleItem;this.manager.createMask(r-(d-2*a)/2,n-u/2+6*a,(l-2)*a,(l-2)*a,(l-2)*a/2);const m=this.scene.world.isLandscape(),f=m?30:-50,h=m?60:-90,p=m?30:210;this.manager.runShowMaskAnimation(),s.revive(),s.angle=p,s.setPosition(r,n+f);const b=this.scene.lang.getCurrentLanguage()==="ru"?225:150;o.setMaxWidth(b),o.revive(),o.setPosition(r,n+h),o.setText(this.scene.lang.Text.tutorial_level_8),this.manager.scene.input.setTopOnly(!0),this.manager.scene.input.once(Phaser.Input.Events.POINTER_UP,this.handlePointerDown)}handlePointerDown=()=>{this.manager.scene.input.setTopOnly(!1);const{itemManager:e}=this.manager.scene,{infoText:t,staticHand:s}=this.manager;this.manager.runHideMaskAnimation(),t.kill(),s.kill(),e.setPaidItem(C.SHUFFLE.ID),e.setDepthItemNormal(C.SHUFFLE.ID),this.manager.scene.analytics.event(U.TUTORIAL_STEP,{step:16})};closeTutorial=()=>{F.off(G.TILE_SHOWED_UP,this.startGuide),F.off(G.FINISH,this.closeTutorial),F.off(G.DIE,this.closeTutorial),this.manager.stopTutorial(),this.manager.scene.analytics.event(U.TUTORIAL_STEP,{step:17})}}const $h=jh,{STATUS:ro}=ss,{KEY:Xi,FRAME:Zi}=A.TUTORIAL;class Vh extends Me{scene;tutorialId;isTutorialEnable;tutorialsDisplayed=[];isAnalyticFirstSent=!0;hand;staticHand;infoText;background;maskGraphics;tutGuide1;tutGuide2;tutGuide3;tutGuide4;tutGuide5;tutGuide6;tutGuide7;tutGuide8;tutGuide11;autoTimeEvent;constructor(e){super(e),this.scene=e,this.createBackground(),this.createHand(),this.createStaticHand(),this.createInfoText(),this.checkIsValidForTutorial()}init(){this.hand.kill(),this.infoText.kill(),this.background.kill(),this.staticHand.kill(),this.setState(ro.READY)}start(){this.isRunning()||this.isTutorialEnable&&(this.setState(ro.RUNNING),this.showTutorial())}stop(){this.isRunning()&&(this.checkIsValidForTutorial(),this.scene.tweens.killTweensOf([this.background,this.hand,this.staticHand,this.infoText]),this.setState(ro.STOPPED))}setTutorialEnable(e){this.isTutorialEnable=e}isLevelHaveTutorial(e){return e<=8||e===11}isLevelShowWrongPath(e){return e<=6}displayCount(e){return this.tutorialsDisplayed.filter(s=>s===e).length}isNothingToDisplay(){return this.scene.levelHandler.level>11}showTutorial(){if(!this.isRunning())return;const{levelHandler:e}=this.scene;this.isAnalyticFirstSent&&(this.scene.analytics.event(U.TUTORIAL_BEGIN),this.isAnalyticFirstSent=!1),e.level===1?this.startTutorial(ne.GUIDE_1):e.level===2?this.startTutorial(ne.GUIDE_2):e.level===3?this.startTutorial(ne.GUIDE_3):e.level===4?this.startTutorial(ne.GUIDE_4):e.level===5?this.startTutorial(ne.GUIDE_5):e.level===6?this.startTutorial(ne.GUIDE_6):e.level===7?this.startTutorial(ne.GUIDE_7):e.level===8?this.startTutorial(ne.GUIDE_8):e.level===11&&this.startTutorial(ne.GUIDE_11)}startTutorial=e=>{if(!this.isRunning())return!1;if(this.isNothingToDisplay())return this.stop(),this.setTutorialEnable(!1),!1;switch(this.background.kill(),e){case ne.GUIDE_1:this.tutGuide1=new Oh(this),this.tutGuide1.setup();break;case ne.GUIDE_2:this.tutGuide2=new Ih(this),this.tutGuide2.setup();break;case ne.GUIDE_3:this.tutGuide3=new Ch(this),this.tutGuide3.setup();break;case ne.GUIDE_4:this.tutGuide4=new Dh(this),this.tutGuide4.setup();break;case ne.GUIDE_5:this.tutGuide5=new Bh(this),this.tutGuide5.setup();break;case ne.GUIDE_6:this.tutGuide6=new Wh(this),this.tutGuide6.setup();break;case ne.GUIDE_7:this.tutGuide7=new zh(this),this.tutGuide7.setup();break;case ne.GUIDE_8:this.tutGuide8=new $h(this),this.tutGuide8.setup();break;case ne.GUIDE_11:this.tutGuide11=new Ah(this),this.tutGuide11.setup();break;default:return!1}return this.isRunning()?(this.tutorialId=e,this.tutorialsDisplayed.push(this.tutorialId),!0):!1};stopTutorial(){this.tutorialId="",this.hand.kill(),this.infoText.kill(),this.staticHand.kill(),this.background.kill()}completeTutorial(){this.scene.time.delayedCall(500,()=>{this.scene.analytics.event(U.TUTORIAL_COMPLETE),this.scene.player.incUserGuideDisplays()}),this.setTutorialEnable(!1)}checkIsValidForTutorial(){const e=this.scene.player.getCustomData("levelProgress"),s=(GameCore.Utils.Valid.isNumber(e)?e:0)<=11;return this.setTutorialEnable(s),s}createHand(){this.hand=new kh(this.scene),this.hand.kill(),this.hand.setDepth(W.PRIORITY)}createStaticHand(){this.staticHand=this.scene.add.image(0,0,Xi,Zi.HAND),this.staticHand.setWorldSize(20,16),this.staticHand.kill(),this.staticHand.setDepth(W.PRIORITY)}createInfoText(){this.infoText=this.scene.make.bitmapText({font:B.SHADOW.KEY,size:this.scene.fontSize(15),origin:{x:.5,y:.5}}),this.infoText.setTint(16637882),this.infoText.setCenterAlign(),this.infoText.kill(),this.infoText.setDepth(W.PRIORITY)}createBackground(){this.background=this.scene.make.image({key:Xi,frame:Zi.BLANK}),this.background.setInteractive({}),this.scene.input.setTopOnly(!1),this.background.setTint(0),this.background.setAlpha(.8),this.background.setDepth(W.PRIORITY),this.background.kill();const{displayWidth:e,displayHeight:t}=this.scene.gameZone,s=e+100,o=t+100;this.background.setDisplaySize(s,o),Phaser.Display.Align.In.Center(this.background,this.scene.gameZone)}createMask(e,t,s,o,i=10){this.maskGraphics?.destroy(),this.maskGraphics=this.scene.make.graphics({fillStyle:{color:16711680,alpha:1}}),this.maskGraphics.setName("MaskGraphics"),this.maskGraphics.fillRoundedRect(e,t,s,o,i),this.background.revive(),this.background.clearMask(!0),this.background.setMask(this.maskGraphics.createGeometryMask()),this.background.mask.invertAlpha=!0}createMultiMask(e){this.maskGraphics?.destroy(),this.maskGraphics=this.scene.make.graphics({fillStyle:{color:16711680,alpha:1}}),this.maskGraphics.setName("MaskGraphics"),e.forEach(t=>{this.maskGraphics.fillRoundedRect(t.x,t.y,t.width,t.height,t.radius)}),this.background.revive(),this.background.clearMask(!0),this.background.setMask(this.maskGraphics.createGeometryMask()),this.background.mask.invertAlpha=!0}runShowMaskAnimation(e=.8){const t=[this.background];this.background.revive(),this.background.setAlpha(0),this.scene.tweens.killTweensOf(t),this.scene.tweens.add({targets:t,duration:300,ease:Phaser.Math.Easing.Quadratic.Out,props:{alpha:{from:0,to:e}}})}runHideMaskAnimation=()=>{const e=[this.background];this.background.revive(),this.scene.tweens.killTweensOf(e),this.scene.tweens.add({targets:e,duration:400,ease:Phaser.Math.Easing.Quadratic.Out,props:{alpha:0},onComplete:()=>{this.background.kill(),this.background.clearMask(!0)}})};startAutoHint(){this.autoTimeEvent=this.scene.time.delayedCall(5e3,this.handleAutomaticallyHint)}handleAutomaticallyHint=()=>{const{tileManager:e,itemManager:t}=this.scene;e.hintTiles.length>0||t.getIsUseableItem()===!1?(this.stopAutoHint(),this.startAutoHint()):e.suggestPairHint()};stopAutoHint(){this.autoTimeEvent?.remove()}listenAutoHintEvent(){this.scene.events.on(j.EVENTS.INTERACTION,this.handlePlayerInteract),this.scene.events.on(j.EVENTS.NO_PATH_FOUND,this.handleNoPathFound)}stopListenAutoHintEvent(){this.scene.events.off(j.EVENTS.INTERACTION,this.handlePlayerInteract),this.scene.events.off(j.EVENTS.NO_PATH_FOUND,this.handleNoPathFound)}handleNoPathFound=()=>{const{tileManager:e}=this.scene;this.scene.time.delayedCall(1e3,()=>{e.clearWrongPath()})};handlePlayerInteract=()=>{this.stopAutoHint();const{tileManager:e}=this.scene;e.clearWrongPath(),this.startAutoHint()}}class Xh extends Me{scene;constructor(e){super(e),this.scene=e,this.initUILogic()}start(){this.isRunning()||(super.start(),this.updateUIData(),this.enablePause())}stop(){const{objects:e}=this.scene.layoutManager;e.playtimeClock.removeEvents(),this.disablePause()}updateUIData=()=>{const{levelHandler:e,layoutManager:t}=this.scene,{objects:s}=t,{time:o}=e.getConfigs();s.playtimeClock.setClockText(o),s.playtimeClock.addEvents(),s.playtimeClock.pauseClock()};initUILogic(){const{layoutManager:e}=this.scene,{objects:t}=e;t.skipBtn.onClick=this.handleSkipTutorial,t.pauseButton.onClick=this.handlePauseButton,this.scene.world.isLandscape()&&t.footerBG.kill()}handleSkipTutorial=()=>{const{tutorialManager:e,layoutManager:t}=this.scene,{objects:s}=t;e.stop(),this.scene.finishLevel(),s.skipContainer.kill(),s.headerBG.revive(),this.scene.world.isLandscape()||s.footerBG.revive()};handlePauseButton=()=>{const{screenManager:e}=this.scene;e.showPauseScreen()};updateLevel(e){const{objects:t}=this.scene.layoutManager;t.levelText.setText(`${this.scene.lang.Text.lv} ${e}`)}showUIForGuide(){const{levelHandler:e,layoutManager:t}=this.scene,{objects:s,groups:o}=t,{level:i}=e;if(!(i>11))switch(i){case 1:o.gameUI.killGroup(),s.headerBG.kill(),this.scene.world.isLandscape()||s.footerBG.kill();break;case 2:{const{itemManager:r}=this.scene;s.headerBG.revive(),this.scene.world.isLandscape()||s.footerBG.revive(),r.disableItem(C.BOMB_DEFUSE.ID),r.disableItem(C.ROCKET.ID),s.playtimeClock.kill();break}case 3:{const{itemManager:r}=this.scene;r.disableItem(C.BOMB_DEFUSE.ID),r.disableItem(C.ROCKET.ID);break}case 4:{const{itemManager:r}=this.scene;r.disableItem(C.BOMB_DEFUSE.ID),r.disableItem(C.ROCKET.ID),r.setFreeItem(C.HINT.ID);break}case 5:{const{itemManager:r}=this.scene;r.disableItem(C.BOMB_DEFUSE.ID),r.disableItem(C.ROCKET.ID);break}case 6:{const{itemManager:r}=this.scene;r.disableItem(C.BOMB_DEFUSE.ID),r.disableItem(C.ROCKET.ID);break}case 7:{const{itemManager:r}=this.scene;this.changeToGuideDefuseItem(),r.disableItem(C.ROCKET.ID),r.setFreeItem(C.GUIDE_BOMB_DEFUSE.ID);break}case 8:{const{itemManager:r}=this.scene;r.disableItem(C.ROCKET.ID),r.setFreeItem(C.SHUFFLE.ID);break}case 9:{const{itemManager:r}=this.scene;r.disableItem(C.ROCKET.ID);break}case 10:{const{itemManager:r}=this.scene;r.disableItem(C.ROCKET.ID);break}case 11:{const{itemManager:r}=this.scene;r.setFreeItem(C.ROCKET.ID)}}}disableUILogicForGuide1(){const{objects:e}=this.scene.layoutManager;e.playtimeClock.removeEvents(),e.playtimeClock.pauseClock(),e.skipContainer.revive(),e.skipBtn.setDisabled(!1),this.scene.comboManager.stop(),e.comboProgressBar.kill()}disableUILogicForGuide2(){const{objects:e}=this.scene.layoutManager;e.playtimeClock.removeEvents(),e.playtimeClock.pauseClock()}changeToGuideDefuseItem(){const{itemManager:e}=this.scene,t=e.getItem(C.BOMB_DEFUSE.ID);t&&t.kill();const s=e.getItem(C.GUIDE_BOMB_DEFUSE.ID);s&&s.revive()}changeToDefuseItem(){const{itemManager:e}=this.scene,t=e.getItem(C.BOMB_DEFUSE.ID);t&&t.revive();const s=e.getItem(C.GUIDE_BOMB_DEFUSE.ID);s&&s.kill()}enablePause(){const{objects:e}=this.scene.layoutManager;e.pauseButton.setDisabled(!1)}disablePause(){const{objects:e}=this.scene.layoutManager;e.pauseButton.setDisabled(!0)}}class Zh extends Phaser.GameObjects.Zone{constructor(e,t,s){super(e,0,0,t,s),this.setOrigin(0,0)}}class qh extends Phaser.Scene{unsubscribeList;gameZone;background;handleOpenScene=()=>{this.logPageviewOnOpen(),this.logEventOpen()};constructor(){super({visible:!1})}create(){this.events.on("wake",this.handleOpenScene),this.events.on("resume",this.handleOpenScene),this.events.on("create",this.handleOpenScene),this.scaleGame(),this.createGameZone()}scaleGame(){const e=this.getCamera("main"),t=this.world.getZoomRatio(),{width:s,height:o}=this.world.getWorldSize();e.setZoom(t),e.centerOn(s/2,o/2)}createGameZone(){const{width:e,height:t}=this.world.getWorldSize();this.gameZone=new Zh(this,e,t)}getCamera(e){return e==="main"?this.cameras.main:this.cameras.getCamera(e)}createMask(e=1){this.getCamera("main").setBackgroundColor(`rgba(0, 0, 0, ${e})`)}fontSize(e){return e/1}createBackground(e,t,s,o){this.background?(this.background.setTexture(e),t&&this.background.setFrame(t)):this.background=this.make.image({key:e,frame:t}),this.background.setName(e);const{displayWidth:i,displayHeight:r}=this.gameZone;this.background.setDisplaySize(i,r),GameCore.Utils.Valid.isNumber(s)&&this.background.setAlpha(s),GameCore.Utils.Valid.isNumber(o)&&this.background.setTint(o),Phaser.Display.Align.In.Center(this.background,this.gameZone)}handleStateChange(e){this.unsubscribeList=[],e.forEach(t=>{const{selector:s,callback:o}=t,i=this.storage.watch(s,o);this.unsubscribeList.push(i)}),this.events.once("sleep",this.removeStateChange),this.events.once("destroy",this.removeStateChange),this.events.once("shutdown",this.removeStateChange)}removeStateChange=()=>{this.unsubscribeList.forEach(e=>e())};logPageviewOnOpen(){this.analytics.pageview(this.scene.key)}logEventOpen(){this.analytics.event(U.SCREEN_OPEN,{screen_name:this.getSceneName()})}getSceneName(){return GameCore.Utils.String.toUpperCamelCase(this.scene.key.toLowerCase())}}const Ra=qh,{KEY:Jh,FRAME:ao}=A.EFFECTS;class Aa extends Phaser.GameObjects.Particles.ParticleEmitterManager{yellowEmitter;whiteEmitter;globalScale=1;constructor(e,t=1){super(e,Jh,ao.YELLOW_SMOKE),this.globalScale=t,this.createEmitZone(),this.scene.add.existing(this)}createEmitZone(){}createEmitters(){const e=1/this.scene.world.getPixelRatio();this.yellowEmitter=this.createEmitter({on:!1,frame:ao.YELLOW_SMOKE,timeScale:1,alpha:{start:.3,end:0,ease:Phaser.Math.Easing.Expo.Out},scale:{start:e/5*this.globalScale,end:e*this.globalScale,ease:Phaser.Math.Easing.Expo.Out},lifespan:1500}),this.whiteEmitter=this.createEmitter({on:!1,frame:ao.WHITE_SMOKE,timeScale:1,alpha:{start:.3,end:0,ease:Phaser.Math.Easing.Expo.Out},scale:{start:e/2*this.globalScale,end:e*this.globalScale,ease:Phaser.Math.Easing.Expo.Out},rotate:{start:0,end:360*1,random:!0},lifespan:1500})}explodeYellow(e,t,s,o,i){this.yellowEmitter||this.reset(),this.yellowEmitter.setSpeedX(o),this.yellowEmitter.setSpeedY(i),this.yellowEmitter.explode(e,t,s)}explodeWhite(e,t,s,o,i){this.whiteEmitter||this.reset(),this.whiteEmitter.setSpeedX(o),this.whiteEmitter.setSpeedY(i),this.whiteEmitter.explode(e,t,s)}stop(){this.yellowEmitter?.killAll(),this.yellowEmitter?.stop(),this.whiteEmitter?.killAll(),this.whiteEmitter?.stop()}reset(){this.createEmitters()}}const{KEY:qi,FRAME:Ji}=A.GAMEPLAY;class Qh{scene;longRocketList=[];rocketList=[];tween1=[];tween2=[];rocketTrail;explosionSpriteList=[];constructor(e){this.scene=e,this.createRockets(),this.createRocketTrail(),this.createExplosion()}createRockets(){for(let e=0;e<4;e++){const t=this.scene.add.image(0,0,qi,Ji.EFFECT_LONG_ROCKET);t.setOrigin(.5,0),t.setWorldSize(40,180),t.setDepth(W.EFFECT),t.kill(),this.longRocketList.push(t);const s=this.scene.add.image(0,0,qi,Ji.EFFECT_SHORT_ROCKET);s.setOrigin(1,.5),s.setWorldSize(107/2,78/2),s.setDepth(W.EFFECT),s.kill(),this.rocketList.push(s)}}createRocketTrail(){this.rocketTrail=new Aa(this.scene),this.rocketTrail.setDepth(W.EFFECT)}createExplosion(){for(let e=0;e<4;e++){const{KEY:t,FRAME:s}=A.EFFECTS,o=this.scene.add.sprite(0,0,t,s.EFFECT_ROCKET_EXPLOSION+"0");o.setScale(.5),o.setOrigin(.5,.5),o.setDepth(W.EFFECT),o.kill(),this.explosionSpriteList.push(o)}}playExplosion(e,t,s){this.explosionSpriteList[s].revive(),this.explosionSpriteList[s].setPosition(e,t),this.explosionSpriteList[s].play(V.ROCKET_EXPLOSION.KEY,!0),this.explosionSpriteList[s].once(Phaser.Animations.Events.ANIMATION_COMPLETE,()=>{this.explosionSpriteList[s].kill()})}playTween1(e,t,s){const{width:o}=this.scene.world.getWorldSize(),i=[{x:-100,y:-50},{x:-50,y:-100},{x:o+100,y:-50},{x:o+100,y:-100}];this.tween1.push(this.getTween1Target(i[0],0,867)),this.tween1.push(this.getTween1Target(i[1],1,867+100,()=>{this.playTween2([i[0],i[1]],[e[0],e[1]],[0,1],0,t)})),this.tween1.push(this.getTween1Target(i[2],2,867+200)),this.tween1.push(this.getTween1Target(i[3],3,867+300,()=>{this.playTween2([i[2],i[3]],[e[2],e[3]],[2,3],100,s)}))}getTween1Target(e,t,s,o){const{height:i}=this.scene.world.getWorldSize(),r=i-67,n=this.scene.tweens.createTimeline({});n.add({targets:this.longRocketList[t],props:{y:{duration:867,getEnd:()=>r},rotation:{delay:s,duration:200,getEnd:l=>Phaser.Math.Angle.Between(e.x,e.y,l.x,r)-Math.PI/2}}});let a=.8;return n.add({targets:this.longRocketList[t],duration:133+200,ease:Phaser.Math.Easing.Expo.In,onStart:()=>{this.scene.audio.playSound(Z.ROCKET_FLY)},props:{x:{getEnd:()=>e.x},y:{getEnd:()=>e.y}},onUpdate:(l,d)=>{const u=d.x-d.height/2*Math.cos(d.rotation-Math.PI/2),m=d.y-d.height/2*Math.sin(d.rotation-Math.PI/2),f=d.x-d.height/1.5*Math.cos(d.rotation-Math.PI/2),h=d.y-d.height/1.5*Math.sin(d.rotation-Math.PI/2);n.progress>a&&(this.rocketTrail.explodeYellow(1,u,m,u-f,m-h),a+=.02),Math.random()<.2&&this.rocketTrail.explodeWhite(1,u,m,u-f,m-h)},onComplete:()=>{o&&o()}}),n.play(),n}playTween2(e,t,s,o,i){const r=[],n=[];s.forEach(d=>{r.push(this.longRocketList[d]),n.push(this.rocketList[d])});let a=.3;const l=this.scene.tweens.add({targets:n,delay:o,duration:800,ease:Phaser.Math.Easing.Expo.In,onStart:()=>{r.forEach(d=>{d.kill()}),n.forEach((d,u)=>{d.setPosition(r[u].x,r[u].y),d.rotation=0,d.revive(),d.setRotation(Phaser.Math.Angle.Between(e[u].x,e[u].y,t[u].x,t[u].y))})},props:{x:{getEnd:(d,u,m,f)=>t[f].x},y:{getEnd:(d,u,m,f)=>t[f].y}},onUpdate:(d,u)=>{const m=u.x-1.5*u.height*Math.cos(u.rotation),f=u.y-1.5*u.height*Math.sin(u.rotation),h=u.x-2*u.height*Math.cos(u.rotation),p=u.y-2*u.height*Math.sin(u.rotation);d.progress>a&&(this.rocketTrail.explodeYellow(1,m,f,m-h,f-p),a+=.05),Math.random()<.1&&this.rocketTrail.explodeWhite(1,m,f,m-h,f-p)},onComplete:()=>{n.forEach((d,u)=>{d.kill(),this.playExplosion(t[u].x,t[u].y,s[u])}),i&&i()}});this.tween2.push(l)}play(e,t,s){if(e.length!==4)return;this.tween1.forEach(r=>{r.stop()}),this.tween1=[],this.tween2.forEach(r=>{r.stop()}),this.tween2=[];const{width:o,height:i}=this.scene.world.getWorldSize();this.longRocketList.forEach((r,n)=>{const a=o/8+o/4*n,l=i+133;r.setPosition(a,l),r.rotation=0,r.revive()}),this.playTween1(e,t,s)}stop(){this.tween1.forEach(e=>{e.stop()}),this.tween1=[],this.tween2.forEach(e=>{e.stop()}),this.tween2=[],this.longRocketList.forEach(e=>{e.kill()})}}const{KEY:Qi,FRAME:er}=A.EFFECTS;class ef{scene;glowEffect1;glowEffect2;glowSpinTween;tile1=null;tile2=null;defaultTileValues=null;tileTween;constructor(e){this.scene=e,this.createGlowEffect()}createGlowEffect(){this.glowEffect1=this.scene.add.image(0,0,Qi,er.FX_HINT_GLOW),this.glowEffect1.setOrigin(.5,.5),this.glowEffect1.setWorldSize(60,60),this.glowEffect1.kill(),this.glowEffect2=this.scene.add.image(0,0,Qi,er.FX_HINT_GLOW),this.glowEffect2.setOrigin(.5,.5),this.glowEffect2.setWorldSize(60,60),this.glowEffect2.kill()}play(){this.glowSpinTween?.stop(),this.tileTween?.stop(),!(!this.tile1||!this.tile2)&&(this.playGlowSpinTween(),this.playTileTween())}playGlowSpinTween(){if(!this.tile1||!this.tile2)return;const{x:e,y:t}=this.tile1.getWorldPosition(),{x:s,y:o}=this.tile2.getWorldPosition(),{boardContainer:i}=this.scene.boardManager;this.glowEffect1.revive(),this.glowEffect1.setPosition(e,t),this.glowEffect1.setDepth(i.depth-1),this.glowEffect2.revive(),this.glowEffect2.setPosition(s,o),this.glowEffect2.setDepth(i.depth-1),this.glowSpinTween=this.scene.tweens.add({targets:[this.glowEffect1,this.glowEffect2],duration:2e3,props:{angle:{from:0,to:360}},repeat:-1})}playTileTween(){if(!this.tile1||!this.tile2)return;this.tileTween=this.scene.tweens.createTimeline({loop:-1,loopDelay:300});const e=[this.tile1.scaleX,this.tile2.scaleX],t=[this.tile1.scaleY,this.tile2.scaleY],s=[this.tile1,this.tile2],o=this.tile1.scaleX,i=this.tile1.scaleY,r=this.tile2.scaleX,n=this.tile2.scaleY;this.defaultTileValues={scaleX1:o,scaleY1:i,scaleX2:r,scaleY2:n},this.tileTween.add({targets:s,duration:300,props:{scaleX:{getStart:(a,l,d,u)=>e[u],getEnd:(a,l,d,u)=>e[u]*.7},scaleY:{getStart:(a,l,d,u)=>t[u],getEnd:(a,l,d,u)=>e[u]*.7}}}),this.tileTween.add({targets:s,duration:100,props:{angle:{from:0,to:-30}}}),this.tileTween.add({targets:s,duration:100,props:{angle:{from:-30,to:30}}}),this.tileTween.add({targets:s,duration:100,props:{angle:{from:30,to:-30}}}),this.tileTween.add({targets:s,duration:100,props:{angle:{from:-30,to:0}}}),this.tileTween.add({targets:s,duration:300,props:{scaleX:{getStart:(a,l,d,u)=>e[u]*.7,getEnd:(a,l,d,u)=>e[u]},scaleY:{getStart:(a,l,d,u)=>t[u]*.7,getEnd:(a,l,d,u)=>t[u]}}}),this.tileTween.play()}hide(){this.glowEffect1.setVisible(!1),this.glowEffect2.setVisible(!1)}show(){this.glowEffect1.setVisible(!0),this.glowEffect2.setVisible(!0)}stop(){if(this.scene.tweens.killTweensOf([this.glowEffect1,this.glowEffect2,this.tile1,this.tile2]),this.glowEffect1.kill(),this.glowEffect2.kill(),this.defaultTileValues){const{scaleX1:e,scaleY1:t,scaleX2:s,scaleY2:o}=this.defaultTileValues;this.tile1?.setScale(e,t),this.tile2?.setScale(s,o)}this.tile1?.setAngle(0),this.tile2?.setAngle(0),this.tile1=null,this.tile2=null,this.defaultTileValues=null}}const{KEY:tf,FRAME:sf}=A.GAMEPLAY;class of{scene;startingPosition;target;rocket;flyTween;rocketTrail;explosionSprite;isPlaying;isInQueue;constructor(e){this.scene=e,this.target=null,this.startingPosition=null,this.isPlaying=!1,this.isInQueue=!1,this.createRockets(),this.createRocketTrail(),this.createExplosion()}createExplosion(){const{KEY:e,FRAME:t}=A.EFFECTS;this.explosionSprite=this.scene.add.sprite(0,0,e,t.EFFECT_ROCKET_EXPLOSION+"0"),this.explosionSprite.setOrigin(.5,.8),this.explosionSprite.kill(),this.explosionSprite.setDepth(W.ROCKET),this.explosionSprite.setScale(.5)}createRocketTrail(){this.rocketTrail=new Aa(this.scene,.5),this.rocketTrail.setDepth(W.ROCKET)}createRockets(){const e=this.scene.add.image(0,0,tf,sf.EFFECT_TILE_ROCKET);e.setOrigin(.5,.5),e.setWorldSize(20,33.5),e.kill(),e.setDepth(W.ROCKET),this.rocket=e}playTween(){if(!this.target||!this.getTargetPosition())return;let t=.1;this.flyTween=this.scene.tweens.add({targets:[this.rocket],duration:600,ease:Phaser.Math.Easing.Expo.InOut,props:{x:{getEnd:()=>{const s=this.getTargetPosition();if(s)return s.x}},y:{getEnd:()=>{const s=this.getTargetPosition();if(s)return s.y}}},onStart:()=>{this.scene.audio.playSound(Z.ROCKET_FLY)},onUpdate:s=>{const o=this.rocket.x-this.rocket.height/2*Math.cos(this.rocket.rotation-Math.PI/2),i=this.rocket.y-this.rocket.height/2*Math.sin(this.rocket.rotation-Math.PI/2),r=this.rocket.x-this.rocket.height/1.5*Math.cos(this.rocket.rotation-Math.PI/2)*3,n=this.rocket.y-this.rocket.height/1.5*Math.sin(this.rocket.rotation-Math.PI/2)*3;s.progress>t&&(t+=.05,this.rocketTrail.explodeYellow(1,o,i,r-o,n-i)),Math.random()<.3&&this.rocketTrail.explodeWhite(1,o,i,r-o,n-i)},onComplete:()=>{this.rocket.kill(),this.isPlaying=!1;const s=this.getTargetPosition();if(s){const{x:o,y:i}=s;this.playExplosion(o,i),this.target?.setIsBreakWhenExplosive(!0)}},onStop:()=>{this.rocket.kill(),this.isPlaying=!1;const s=this.getTargetPosition();if(s){const{x:o,y:i}=s;this.playExplosion(o,i),this.target?.setIsBreakWhenExplosive(!0)}this.target=null}})}playExplosion(e,t){this.explosionSprite.revive(),this.explosionSprite.setPosition(e,t),this.explosionSprite.once(Phaser.Animations.Events.ANIMATION_COMPLETE,()=>{this.explosionSprite.kill()}),this.explosionSprite.play(V.ROCKET_EXPLOSION.KEY,!0)}play(){if(this.flyTween?.stop(),!this.target||!this.startingPosition)return;this.isPlaying=!0;const{x:e,y:t}=this.startingPosition,s=this.getTargetPosition();if(!s)return;const{x:o,y:i}=s,r=Phaser.Math.Angle.Between(e,t,o,i),n=this.scene.boardManager.getTileSize();this.rocket.setWorldSize(20*n/35,33.5*n/35),this.rocket.setPosition(e,t),this.rocket.rotation=r+Math.PI/2,this.rocket.revive(),this.playTween()}getTargetPosition(){return this.target?this.target.getWorldPosition():null}stop(){this.flyTween?.stop(),this.rocket.kill(),this.target=null,this.isPlaying=!1,this.isInQueue=!1}}const{KEY:tr,FRAME:vt}=A.EFFECTS,ze={GOOD:{en:[129,60],ru:[162,64],ja:[88,62],pt:[94,57],es:[100,56],fr:[100,56],it:[108,56],de:[93,57],tr:[70,61],id:[115,63],zh:[88,60]},GREAT:{en:[129,57.5],ru:[151,55],ja:[89,62],pt:[148,61],es:[138,56],fr:[127,56],it:[150,56],de:[198,57],tr:[70,61],id:[114,63],zh:[88,60]},EXCELLENT:{en:[167,54],ru:[215,61],ja:[164,62],pt:[196,56],es:[213,61],fr:[195,56],it:[214,56],de:[267,57],tr:[200,61],id:[170,63],zh:[108,60]},UNBELIEVABLE:{en:[206,53],ru:[197,61],ja:[192,61],pt:[259,61],es:[182,61],fr:[213,56],it:[212,56],de:[236,57],tr:[196,61],id:[142,64],zh:[137,59]}};class rf{scene;originY;originScale;textTween;endTween;lightTween;textImage;textLight;constructor(e){this.scene=e,this.originScale=1/this.scene.world.getPixelRatio(),this.createTextLight(),this.createText(),this.alignText()}run=e=>{if(e<2){this.textImage.kill(),this.textLight.kill();return}this.textTween||(this.createTextAnimation(),this.createTextLightAnimation());let t=this.scene.lang.getCurrentLanguage();switch(["en","ru","ja"].indexOf(t)===-1&&(t="en"),e){case 2:this.textImage.setFrame(this.scene.lang.Texture.effect_good),this.textImage.setWorldSize(ze.GOOD[t][0],ze.GOOD[t][1]),this.textLight.setFrame(vt.TEXT_GOOD_LIGHT),this.textLight.setWorldSize(137,66.5);break;case 3:this.textImage.setFrame(this.scene.lang.Texture.effect_great),this.textImage.setWorldSize(ze.GREAT[t][0],ze.GREAT[t][1]),this.textLight.setFrame(vt.TEXT_GREAT_LIGHT),this.textLight.setWorldSize(137,66);break;case 4:this.textImage.setFrame(this.scene.lang.Texture.effect_excellent),this.textImage.setWorldSize(ze.EXCELLENT[t][0],ze.EXCELLENT[t][1]),this.textLight.setFrame(vt.TEXT_EXCELLENT_LIGHT),this.textLight.setWorldSize(138,66);break}e>=5&&(this.textImage.setFrame(this.scene.lang.Texture.effect_unbelievable),this.textImage.setWorldSize(ze.UNBELIEVABLE[t][0],ze.UNBELIEVABLE[t][1]),this.textLight.setFrame(vt.TEXT_UNBELIEVABLE_LIGHT),this.textLight.setWorldSize(134,66)),this.playTextAnimation()};stop(){this.textTween?.stop(),this.endTween?.stop(),this.lightTween?.stop(),this.textImage.kill(),this.textLight.kill()}playTextAnimation=()=>{this.textImage.revive(),this.textLight.revive(),this.endTween?.remove(),this.textTween.restart(),this.lightTween.restart()};createText(){this.textImage=this.scene.add.image(0,0,tr,vt.TEXT_GOOD),this.textImage.kill(),this.textImage.setScale(this.originScale),this.textImage.setDepth(W.ENCOURAGING)}createTextLight(){this.textLight=this.scene.add.image(0,0,tr,vt.TEXT_GOOD_LIGHT),this.textLight.kill(),this.textLight.setScale(this.originScale),this.textLight.setDepth(W.ENCOURAGING)}alignText=()=>{Phaser.Display.Align.In.TopCenter(this.textImage,this.scene.gameZone,0,-20),Phaser.Display.Align.In.Center(this.textLight,this.textImage),this.originY=this.textImage.y};createTextLightAnimation(){this.lightTween=this.scene.add.tween({targets:[this.textLight],props:{alpha:{repeat:1,duration:250,value:{start:1,to:0}},scale:{yoyo:!0,duration:100,ease:Phaser.Math.Easing.Quintic.Out,value:{from:this.originScale,to:this.originScale*1.1}}},onComplete:()=>{this.textLight.kill()}})}createTextAnimation(){this.textTween=this.scene.add.tween({targets:[this.textImage,this.textLight],props:{y:{delay:100,duration:600,ease:Phaser.Math.Easing.Quintic.InOut,value:{start:this.originY,to:this.originY-20}},scale:{delay:0,duration:350,ease:Phaser.Math.Easing.Circular.Out,value:{from:this.originScale*.5,to:this.originScale}},alpha:{duration:150,value:{start:0,to:1}}},onComplete:()=>{if(!this.endTween){this.createEndAnimation();return}this.endTween.restart()}})}createEndAnimation=()=>{this.endTween=this.scene.add.tween({targets:[this.textImage,this.textLight],duration:300,delay:100,props:{alpha:{from:1,to:0},scale:{ease:Phaser.Math.Easing.Sine.Out,value:this.originScale}},onComplete:()=>{this.textImage.setY(this.originY),this.textLight.setY(this.originY),this.textImage.kill(),this.textLight.kill()}})}}const af=rf,{KEY:sr,FRAME:no}=A.GAMEPLAY;class nf{scene;currentTile=null;tileHighlightSprite;tileOutline;tileOutlineTween;constructor(e){this.scene=e,this.createTileOutline(),this.createSpinningImage()}createTileOutline(){this.tileOutline=this.scene.add.image(0,0,sr,no.EFFECT_TILE_OUTLINE),this.tileOutline.setOrigin(.5,.5),this.tileOutline.setWorldSize(37,37),this.tileOutline.setDepth(W.EFFECT-1),this.tileOutline.kill()}createSpinningImage(){this.tileHighlightSprite=this.scene.make.sprite({key:sr,frame:no.EFFECT_TILE_HIGHLIGHT+"0"},!0),this.tileHighlightSprite.setOrigin(.5,.5),this.tileHighlightSprite.setDepth(W.EFFECT),this.tileHighlightSprite.kill()}play(e){this.tileOutlineTween?.stop(),this.currentTile=e;const t=this.scene.boardManager.getTileSize(),s=t;this.tileOutline.revive(),this.tileOutline.setAlpha(1),this.tileOutline.setWorldSize(t*.95,t*.95),e.add(this.tileOutline),this.tileHighlightSprite.revive(),this.tileHighlightSprite.setWorldSize(s,s),this.tileHighlightSprite.play(V.TILE_HIGHLIGHT.KEY),e.add(this.tileHighlightSprite),this.scene.scene.systems.updateList.add(this.tileHighlightSprite),this.runFadeInTween()}runFadeInTween(){this.tileOutlineTween=this.scene.tweens.add({targets:this.tileOutline,duration:1e3,yoyo:!0,repeat:-1,ease:Phaser.Math.Easing.Sine.InOut,props:{alpha:0}})}stop(){this.tileHighlightSprite.anims.stop(),this.tileHighlightSprite.setFrame(no.EFFECT_TILE_HIGHLIGHT+"0"),this.tileHighlightSprite.kill(),this.tileOutlineTween?.stop(),this.tileOutline.kill(),this.currentTile?.remove(this.tileHighlightSprite),this.currentTile?.remove(this.tileOutline),this.currentTile=null}}const{KEY:bs,FRAME:gs}=A.GAMEPLAY;class or extends Phaser.GameObjects.Container{isPlaying;constructor(e){super(e),this.setDepth(W.EFFECT-1),this.createBreakFragments(),this.scene.add.existing(this)}getIsPlaying(){return this.isPlaying}createBreakFragments(){const e=this.scene.make.image({key:bs,frame:gs.LEF_TILE_FRAGMENT});e.setWorldSize(37,37),this.add(e);const t=this.scene.make.image({key:bs,frame:gs.RIGHT_TILE_FRAGMENT});t.setWorldSize(37,37),this.add(t);const s=this.scene.make.image({key:bs,frame:gs.TOP_TILE_FRAGMENT});s.setWorldSize(37,37),this.add(s);const o=this.scene.make.image({key:bs,frame:gs.BOTTOM_TILE_FRAGMENT});o.setWorldSize(37,37),this.add(o)}playAnimation(e,t){this.isPlaying=!0;const o=this.scene.boardManager.getTileSize();this.revive(),this.getAll().forEach(r=>{r.setPosition(0,0),r.setAlpha(1),r.setAngle(0),r instanceof Phaser.GameObjects.Image&&r.setWorldSize(o,o)}),this.setPosition(e,t);const i=[{x:-10,y:0,angle:-10},{x:10,y:0,angle:10},{x:0,y:-10,angle:10},{x:0,y:10,angle:-10}];this.scene.tweens.add({targets:this.getAll(),alpha:1,duration:500,props:{x:{value:(r,n,a,l)=>i[l].x},y:{value:(r,n,a,l)=>i[l].y},alpha:{value:0},angle:{value:(r,n,a,l)=>i[l].angle}},onComplete:()=>{this.kill(),this.isPlaying=!1}})}stop(){this.scene.tweens.killTweensOf(this.getAll()),this.kill(),this.isPlaying=!1}}const{KEY:lf,FRAME:cf}=A.GAMEPLAY;class df{scene;starList;flyingStarCounter;flyingStarTweens;clockRemainingTime;captureStarTrails;explodeParticle;constructor(e){this.scene=e,this.starList=this.scene.add.group(),this.flyingStarTweens=[],this.createEffects(),this.clockRemainingTime=0}createEffects(){this.captureStarTrails=[],this.explodeParticle=new xa(this.scene),this.explodeParticle.setDepth(W.EFFECT+1)}play(e){this.flyingStarCounter?.stop();const{layoutManager:t}=this.scene,{playtimeClock:s,starProgressBar:o}=t.objects;if(!s.visible||!o.visible){e&&e();return}s.pauseClock(),this.clockRemainingTime=s.getRemainingTime();const i=this.clockRemainingTime>78?Math.ceil(this.clockRemainingTime/13):6;this.flyingStarCounter=this.scene.tweens.addCounter({from:0,to:100,duration:100,onStart:()=>{this.runStarTweens(),this.clockRemainingTime=this.clockRemainingTime>i?this.clockRemainingTime-i:0,s.setClockText(this.clockRemainingTime),this.clockRemainingTime===0&&(this.flyingStarCounter.stop(),typeof e=="function"&&this.scene.time.delayedCall(500,e))},onLoop:()=>{this.runStarTweens(),this.clockRemainingTime=this.clockRemainingTime>i?this.clockRemainingTime-i:0,s.setClockText(this.clockRemainingTime),this.clockRemainingTime===0&&(this.flyingStarCounter.stop(),typeof e=="function"&&this.scene.time.delayedCall(650,e))},loop:-1})}stop(){this.flyingStarCounter?.stop(),this.flyingStarTweens.forEach(e=>e.stop()),this.starList.getChildren().forEach(e=>this.starList.killAndHide(e)),this.captureStarTrails.forEach(e=>e.stop())}runStarTweens(){const e=this.requestNewStar(),t=this.requestCaptureStarTrail(),{layoutManager:s}=this.scene,{playtimeClock:o,starProgressBar:i}=s.objects,{x:r,y:n}=o.getWorldPosition(),{x:a,y:l}=i.getStarFlyInPosition(),d=r+10,u=new Phaser.Math.Vector2(d,n),m=new Phaser.Math.Vector2(a,l);let f=new Phaser.Math.Vector2(d+(a-d)/4,l*1.6);this.scene.world.isLandscape()&&(f=new Phaser.Math.Vector2(d+(a-d)/2,l*3));const h=new Phaser.Curves.QuadraticBezier(u,f,m),p=e.scale,v=this.scene.tweens.addCounter({from:0,to:100,duration:650,ease:Phaser.Math.Easing.Sine.Out,onStart:()=>{e.setScale(0),e.setPosition(d,n),e.setVisible(!0),t.run(1,e.x,e.y,0,0)},onUpdate:b=>{const g=b.getValue(),T=h.getPoint(g/100);e.setPosition(T.x,T.y),t.moveEmitZone(e.x,e.y);const y=g>50?1:g/50;e.setScale(p*y)},onComplete:()=>{this.starList.killAndHide(e),e.setScale(p),t.stop(),this.explodeParticle.explode(5,a,l,20),this.scene.audio.playSound(Z.COLLECT_STARS),this.flyingStarTweens=this.flyingStarTweens.filter(b=>b!==b)},onStop:()=>{this.starList.killAndHide(e),e.setScale(p),t.stop(),this.flyingStarTweens=this.flyingStarTweens.filter(b=>b!==b)}});this.flyingStarTweens.push(v)}requestNewStar(){const e=this.starList.getFirstDead();if(e)return e.setActive(!0),e;const t=this.scene.make.image({key:lf,frame:cf.ICON_STAR_BIG});return this.starList.add(t),t.setWorldSize(30,30),t.setDepth(W.EFFECT),t.setVisible(!1),this.scene.add.existing(t),t}requestCaptureStarTrail(){const e=this.captureStarTrails.find(s=>!s.isRunning);if(e)return e;const t=new Oa(this.scene);return t.setDepth(W.EFFECT-1),this.captureStarTrails.push(t),t}}const mf=df,{FRAME:uf}=A.GAMEPLAY;class hf extends wa{constructor(e){super(e)}explode(e,t,s,o){super.explode(e,t,s,o),this.runParticleTween()}createEmitters(){const e=1/this.scene.world.getPixelRatio();this.emitter=this.createEmitter({on:!1,frame:uf.EFFECT_SPARK,speedX:{min:-300,max:300},speedY:{min:-300,max:300},scale:{min:e*.8,max:e*1.1},alpha:{min:.8,max:1},tint:16753660,deathZone:{source:this.deathZone,type:"onLeave"}})}runParticleTween(){this.emitter.forEachAlive(t=>{this.scene.tweens.killTweensOf(t),this.scene.tweens.add({targets:[t],duration:400,delay:5*0,ease:Phaser.Math.Easing.Circular.Out,props:{velocityX:t.velocityX/50,velocityY:t.velocityY/50}}),this.scene.add.tween({targets:[t],duration:2e3,delay:300,ease:Phaser.Math.Easing.Circular.Out,props:{alpha:0,scaleX:0,scaleY:0,velocityX:Phaser.Math.RND.between(-20,20),velocityY:Phaser.Math.RND.between(-60,-90)},onComplete:()=>{t.lifeCurrent=0}})},this)}}const ff=hf,{KEY:pf,FRAME:bf}=A.EFFECTS;class gf{scene;comboExplosionParticle;explosionCircle;explosionCircleTween;constructor(e){this.scene=e,this.createComboExplosionParticle(),this.createExplosionCircle()}createComboExplosionParticle(){this.comboExplosionParticle=new ff(this.scene),this.comboExplosionParticle.setDepth(W.EFFECT+1)}createExplosionCircle(){this.explosionCircle=this.scene.add.image(0,0,pf,bf.FX_CIRCLE),this.explosionCircle.setWorldSize(120,120),this.explosionCircle.setTint(16753660),this.explosionCircle.setDepth(W.EFFECT+1),this.explosionCircle.setVisible(!1)}play(){this.explosionCircleTween?.stop();const{objects:e}=this.scene.layoutManager;if(!e.comboProgressBar.visible)return;const{x:t,y:s}=e.comboProgressBar.comboNumber.getWorldPosition();this.runExplosionCircleTween(t,s)}runExplosionCircleTween(e,t){const s=this.explosionCircle.scale;this.explosionCircleTween=this.scene.tweens.createTimeline(),this.explosionCircleTween.add({targets:this.explosionCircle,scaleX:s,scaleY:s,alpha:.2,ease:Phaser.Math.Easing.Cubic.Out,duration:400,onStart:()=>{this.explosionCircle.setScale(.5*s),this.explosionCircle.setAlpha(.1),this.explosionCircle.setPosition(e,t),this.explosionCircle.setVisible(!0),this.comboExplosionParticle.explode(20,e,t,1e3)},onStop:()=>{this.explosionCircle.setVisible(!1),this.explosionCircle.setScale(s)}}),this.explosionCircleTween.add({targets:this.explosionCircle,alpha:0,ease:Phaser.Math.Easing.Cubic.Out,duration:800,onComplete:()=>{this.explosionCircle.setVisible(!1),this.explosionCircle.setScale(s)},onStop:()=>{this.explosionCircle.setVisible(!1),this.explosionCircle.setScale(s)}}),this.explosionCircleTween.play()}stop(){this.explosionCircleTween?.stop(),this.explosionCircle.setVisible(!1)}}const vf=gf;class Tf extends Me{scene;comboEffect;rocketEffect;tileRocketEffects;tileRocketLaunchQueue;tileHintEffect;tileHighlightEffect;tileBreakEffects;flyingStarFromClockEffect;comboExplosionEffect;constructor(e){super(e),this.scene=e,this.tileRocketEffects=[],this.tileRocketLaunchQueue=[],this.createComboEffect(),this.createRocketEffect(),this.createTileHintEffect(),this.createTileHighlightEffect(),this.createTileBreakEffect(),this.createFlyingStarFromClockEffect(),this.createComboExplosionEffect()}createComboEffect(){this.comboEffect=new af(this.scene)}createRocketEffect(){this.rocketEffect=new Qh(this.scene)}createTileHintEffect(){this.tileHintEffect=new ef(this.scene)}createTileHighlightEffect(){this.tileHighlightEffect=new nf(this.scene)}createFlyingStarFromClockEffect(){this.flyingStarFromClockEffect=new mf(this.scene)}createComboExplosionEffect(){this.comboExplosionEffect=new vf(this.scene)}createTileBreakEffect(){this.tileBreakEffects=[];for(let e=0;e<2;e++){const t=new or(this.scene);t.setScale(.8),this.tileBreakEffects.push(t),t.kill()}}playComboEffect(e){this.comboEffect.run(e)}playRocketEffect(e,t,s){this.rocketEffect.play(e,t,s)}requestTileRocketEffect(e,t){let s=this.tileRocketEffects.find(o=>!o.isInQueue);s||(s=new of(this.scene),this.tileRocketEffects.push(s)),s.target=t,s.isInQueue=!0,s.startingPosition=e,this.tileRocketLaunchQueue.push(s)}playTileRocketEffects(){if(this.tileRocketLaunchQueue.length===0)return;const e=200;this.scene.time.delayedCall(e,()=>{const t=[];this.tileRocketLaunchQueue.forEach(s=>{s.isPlaying||(s.target&&t.push(s.target),s.play())}),this.scene.time.delayedCall(700,()=>{this.scene.events.emit(j.EVENTS.ROCKET_EXPLODE,t)}),this.tileRocketLaunchQueue=[]})}playTileHintEffect(e,t){this.tileHintEffect.stop(),this.tileHintEffect.tile1=e,this.tileHintEffect.tile2=t,this.tileHintEffect.play()}stopTileHintEffect(){this.tileHintEffect.stop()}playTileHighlightEffect(e){this.tileHighlightEffect.play(e)}stopTileHighlightEffect(){this.tileHighlightEffect.stop()}getCurrentlyHighlightedTile(){return this.tileHighlightEffect.currentTile}playTileBreakEffect(e){const{x:t,y:s}=e.getWorldPosition(),o=this.tileBreakEffects.find(r=>!r.getIsPlaying());if(o){o.playAnimation(t,s);return}const i=new or(this.scene);i.playAnimation(t,s),this.tileBreakEffects.push(i)}playFlyingStarFromClockEffect(e){this.flyingStarFromClockEffect.play(e)}playComboExplosionEffect(){this.comboExplosionEffect.stop(),this.comboExplosionEffect.play()}stop(){this.isRunning()&&(super.stop(),this.comboEffect.stop(),this.rocketEffect.stop(),this.tileHintEffect.stop(),this.tileHighlightEffect.stop(),this.flyingStarFromClockEffect.stop(),this.comboExplosionEffect.stop(),this.tileRocketEffects.forEach(e=>e.stop()),this.tileBreakEffects.forEach(e=>e.stop()),this.tileRocketLaunchQueue=[])}}class wf extends Me{scene;currentCombo;comboTimer;progressTimer;comboDuration;constructor(e){super(e),this.scene=e,this.currentCombo=0;const t=this.scene.world.isLandscape();this.comboDuration=t?4e3:2e3}init(){this.currentCombo=0,this.clearTimer(),this.cleanListeners(),this.hideComboProgressBar()}start(){this.isRunning()||(super.start(),this.startComboTimer(),this.listenComboEvents())}stop(){this.isRunning()&&(super.stop(),this.currentCombo=0,this.clearTimer(),this.cleanListeners(),this.hideComboProgressBar())}getCombo(){return this.currentCombo}startComboTimer(){this.clearTimer();const e={repeat:-1,delay:this.comboDuration,callback:this.onReset};this.comboTimer=this.scene.time.addEvent(e)}clearTimer(){this.comboTimer?.remove(),this.comboTimer?.destroy(),this.progressTimer?.remove(),this.progressTimer?.destroy()}listenComboEvents(){this.scene.events.on(it.COMBO,this.onCombo),this.scene.events.on(it.RESET,this.onReset)}cleanListeners(){this.scene.events.off(it.COMBO,this.onCombo),this.scene.events.off(it.RESET,this.onReset)}onCombo=()=>{if(this.progressTimer?.remove(),!this.isRunning())return;this.currentCombo+=1,St(Math.min(20+this.currentCombo*20,11*20)),this.startComboTimer();const{layoutManager:e,effectManager:t}=this.scene,{comboProgressBar:s}=e.objects;if(this.currentCombo>1){let o=1;s.revive(),s.setDepth(W.EFFECT),s.setAlpha(1),s.setComboText(this.currentCombo),t.playComboExplosionEffect(),s.setProcess(o,!0),this.progressTimer=this.scene.time.addEvent({delay:100,repeat:this.comboDuration/100,callback:()=>{o-=1/(this.comboDuration/100),o<0&&(o=0),o<=0&&this.scene.tweens.add({targets:s,alpha:0,delay:100,duration:100,onComplete:()=>{this.hideComboProgressBar()}}),s.setProcess(o)}})}this.scene.time.delayedCall(300,()=>{this.playComboSound(this.currentCombo),t.playComboEffect(this.currentCombo)})};playComboSound(e){const t=`combo_${e>5?5:e}`;this.scene.audio.playSound(t)}onReset=()=>{this.currentCombo=0,this.hideComboProgressBar()};hideComboProgressBar(){const{layoutManager:e}=this.scene,{comboProgressBar:t}=e.objects;t.kill(),this.scene.tweens.killTweensOf(t)}}const Ef={NORMAL:"normal"},{ID:vs}=C.HINT,{FRAME:Bt}=A.GAMEPLAY;class _a extends Se{scene;constructor(e){super(e,Bt.HINT_ITEM,26.5,36.5),this.scene=e,this.setName(vs),this.onClick=this.handleUseItem}handleUseItem=()=>{const{itemManager:e,tileManager:t}=this.scene;if(t.isSuggestPairHintShowed){this.showItemAnimation.play();return}if(this.isActive){e.deactivateItem(vs);return}if(!e.activeItem(vs)){this.shakeAnimation.play();return}this.useItem()};useItem(){const{tileManager:e,itemManager:t}=this.scene;e.suggestPairHint(),t.deactivateItem(vs)}disableItem(){super.disableItem(),this.item.setAlpha(1),this.item.setFrame(Bt.ITEM_HINT_LOCK),this.bg.setFrame(Bt.ITEM_BG_LOCK),this.amountItem.setVisible(!1),this.itemLock.setVisible(!0),this.itemLockText.setVisible(!0)}enableItem(){super.enableItem(),this.item.setAlpha(1),this.item.setFrame(Bt.HINT_ITEM),this.bg.setFrame(Bt.ITEM_BG_ITEM),this.amountItem.setVisible(!0),this.itemLock.setVisible(!1),this.itemLockText.setVisible(!1)}}const{ID:Ts}=C.SHUFFLE,{FRAME:Ut}=A.GAMEPLAY;class Ia extends Se{scene;duration;isRunning=!1;costTimer;constructor(e){super(e,Ut.ITEM_SHUFFLE,26.5,35.5),this.scene=e,this.duration=1200,this.setName(Ts),this.onClick=this.handleUseItem}handleUseItem=()=>{if(this.isRunning)return;const{itemManager:e,animationManager:t}=this.scene;if(t.isMoveTilesCompleted||this.shakeAnimation.play(),this.isActive){e.deactivateItem(Ts);return}if(!e.activeItem(Ts)){this.shakeAnimation.play();return}this.useItem()};useItem=()=>{const{tileManager:e}=this.scene;this.isRunning=!0,e.isSelectable=!1,e.emitInteraction(),e.removeSuggestPairHint(),this.costTimer?.remove();const t=100;this.scene.time.delayedCall(t,this.runShuffle)};runShuffle=()=>{const{boardManager:e}=this.scene;e.runShuffle(this.duration),this.scene.time.delayedCall(this.duration+100,this.processNoAvailableMatches)};processNoAvailableMatches=()=>{const{boardManager:e,itemManager:t,tileManager:s}=this.scene,{matchFinder:o}=e;if(o.checkForAvailableMatches()){this.isRunning=!1,t.deactivateItem(Ts),s.isSelectable=!0;return}this.runShuffle()};disableItem(){super.disableItem(),this.item.setAlpha(1),this.item.setFrame(Ut.ITEM_SHUFFLE_LOCK),this.bg.setFrame(Ut.ITEM_BG_LOCK),this.amountItem.setVisible(!1),this.itemLock.setVisible(!0),this.itemLockText.setVisible(!0)}enableItem(){super.enableItem(),this.item.setAlpha(1),this.item.setFrame(Ut.ITEM_SHUFFLE),this.bg.setFrame(Ut.ITEM_BG_ITEM),this.amountItem.setVisible(!0),this.itemLock.setVisible(!1),this.itemLockText.setVisible(!1)}}const{ID:ws}=C.AUTO_MATCH,{FRAME:yf}=A.GAMEPLAY;class Pf extends Se{scene;isRunning=!1;matchFinder;delayItemTimer;delayMatchTimer;activeTween;constructor(e){super(e,yf.DEV_TOOL_HAND,25,25),this.scene=e,this.matchFinder=new ya(e),this.setAmount(999),this.onClick=this.handleUseItem}handleUseItem=()=>{const{itemManager:e}=this.scene;if(this.isActive){e.deactivateItem(ws);return}if(!e.activeItem(ws)){this.shakeAnimation.play();return}e.setIsUseableItem(!0),this.useItem()};deactivateItem(){this.cleanState(),super.deactivateItem()}useItem=()=>{this.cleanState(),this.scene.gameStatus===ge.PLAYING&&(this.isRunning=!0,this.autoMatch(),this.autoUseItem(),this.runActiveTween())};runActiveTween=()=>{this.activeTween?.isPlaying()||(this.activeTween=this.scene.tweens.add({targets:[this],duration:400,yoyo:!0,repeat:-1,ease:Phaser.Math.Easing.Sine.InOut,props:{alpha:.3}}))};autoMatch=()=>{if(!this.isRunning)return;const{boardManager:e,tileManager:t,itemManager:s}=this.scene;if(this.scene.gameStatus!==ge.PLAYING){this.cleanState(),s.deactivateItem(ws);return}if(this.runActiveTween(),t.firstSelectedTile=null,!t.isCanMove()){this.cleanState(),s.deactivateItem(ws);return}if(!this.matchFinder.checkForAvailableMatches()){this.nextAutoMatch();return}const i=this.matchFinder.pathForAutoplay;if(!i){this.nextAutoMatch();return}const{x:r=1,y:n=1}=i[0],{x:a=1,y:l=1}=i[i.length-1],d=e.getTileByPosition(r,n),u=e.getTileByPosition(a,l);if(!d||!u){this.nextAutoMatch();return}if(!this.emuSelectTile(d)){this.nextAutoMatch();return}const f=Phaser.Math.Between(100,400);this.delayMatchTimer=this.scene.time.delayedCall(f,()=>{this.emuSelectTile(u),this.nextAutoMatch()})};nextAutoMatch=()=>{const e=Phaser.Math.Between(300,2100);this.delayMatchTimer=this.scene.time.delayedCall(e,this.autoMatch)};autoUseItem=()=>{if(!this.isRunning)return;const{itemManager:e}=this.scene;this.runActiveTween();const t=Phaser.Math.Between(3e3,5e3);this.delayItemTimer=this.scene.time.delayedCall(t,()=>{if(!e.getIsUseableItem()){this.autoUseItem();return}const s=e.getItems();Phaser.Utils.Array.Shuffle(s);const o=s.filter(r=>r.isDisabled||r.amount<=0?!1:r instanceof _a||r instanceof Xo||r instanceof Ia||r instanceof Vo),i=Phaser.Math.Between(0,o.length-1);o[i]&&o[i].callback(),this.autoUseItem()})};emuSelectTile=e=>{const{tileManager:t}=this.scene;return t.isSelectable?(e.showHighlight(),t.emitInteraction(),t.tileSelect(e)(),!0):!1};cleanState(){this.setAlpha(1),this.isRunning=!1,this.activeTween?.remove(),this.delayItemTimer?.remove(),this.delayMatchTimer?.remove(),this.scene.tweens.killTweensOf(this)}}const{ID:lo}=C.BACK_LEVEL,{FRAME:Sf}=A.GAMEPLAY;class kf extends Se{scene;isRunning=!1;constructor(e){super(e,Sf.DEV_TOOL_ARROW,25,25),this.scene=e,this.setAmount(999),this.item.flipX=!0,this.onClick=this.handleUseItem}handleUseItem=()=>{if(this.isRunning)return;const{itemManager:e}=this.scene;if(this.isActive){e.deactivateItem(lo);return}if(!e.activeItem(lo)){this.shakeAnimation.play();return}this.useItem()};useItem=()=>{const{itemManager:e,levelHandler:t}=this.scene,{level:s}=t;t.level=s-2,t.setConfig(s-2),this.scene.finishLevel(),e.deactivateItem(lo)}}const{ID:co}=C.BOMB_EXPLOSIVE,{FRAME:xf}=A.GAMEPLAY;class Of extends Se{scene;constructor(e){super(e,xf.DEV_TOOL_BOMB,25,25),this.scene=e,this.setAmount(999),this.onClick=this.handleUseItem}handleUseItem=()=>{const{itemManager:e}=this.scene;if(this.isActive){e.deactivateItem(co);return}if(!e.activeItem(co)){this.shakeAnimation.play();return}this.useItem()};useItem=()=>{const{itemManager:e,tileManager:t}=this.scene;t.emitInteraction(),t.getAliveTiles().forEach(o=>{o instanceof He&&o.shortenRemainingTime()}),e.deactivateItem(co)}}const{ID:mo}=C.NEW_GAME,{FRAME:Rf}=A.GAMEPLAY;class Af extends Se{scene;constructor(e){super(e,Rf.DEV_TOOL_NEW_GAME,25,25),this.scene=e,this.setAmount(999),this.onClick=this.handleUseItem}handleUseItem=()=>{const{itemManager:e}=this.scene;if(this.isActive){e.deactivateItem(mo);return}if(!e.activeItem(mo)){this.shakeAnimation.play();return}this.useItem()};useItem=async()=>{await this.resetData(),this.resetGame();const{itemManager:e}=this.scene;e.deactivateItem(mo)};resetData=async()=>{const e=new _t({}).toObject();await FBInstant.player.setDataAsync(e),this.scene.player.setMultiCustomData({levelProgress:0})};resetGame(){const{levelHandler:e}=this.scene,t=e.getConfigByLevel(0);t&&(t.rows=Phaser.Math.Between(4,12),t.columns=Phaser.Math.Between(4,7)),e.setConfig(0),F.emit(G.NEXT_LEVEL)}}const{ID:uo}=C.NEXT_LEVEL,{FRAME:_f}=A.GAMEPLAY;class If extends Se{scene;constructor(e){super(e,_f.DEV_TOOL_ARROW,25,25),this.scene=e,this.setAmount(999),this.onClick=this.handleUseItem}handleUseItem=()=>{const{itemManager:e}=this.scene;if(this.isActive){e.deactivateItem(uo);return}if(!e.activeItem(uo)){this.shakeAnimation.play();return}this.useItem()};useItem=()=>{const{itemManager:e}=this.scene;this.scene.finishLevel(!0),e.deactivateItem(uo)}}const{ID:ho}=C.RESET_DATA,{FRAME:Mf}=A.GAMEPLAY,{StartItems:Cf}=GameCore.Configs.Gameplay;class Lf extends Se{scene;isResetToDefault;constructor(e){super(e,Mf.DEV_TOOL_RESET,25,25),this.scene=e,this.isResetToDefault=!1,this.setAmount(999),this.onClick=this.handleUseItem}handleUseItem=()=>{const{itemManager:e}=this.scene;if(this.isActive){e.deactivateItem(ho);return}if(!e.activeItem(ho)){this.shakeAnimation.play();return}this.useItem()};useItem=async()=>{await this.resetData(),this.resetItems();const{itemManager:e}=this.scene;e.deactivateItem(ho)};resetData=async()=>{const e={...Cf};this.isResetToDefault||Object.keys(e).forEach(t=>{const s=t;e[s]=0}),this.isResetToDefault=!this.isResetToDefault,await this.scene.player.setMultiCustomData({items:e})};resetItems(){const{itemManager:e}=this.scene;e.init(),e.start()}}const{ID:fo}=C.TIME_UP,{FRAME:Df}=A.GAMEPLAY;class Nf extends Se{scene;constructor(e){super(e,Df.DEV_TOOL_CLOCK,25,25),this.scene=e,this.setAmount(999),this.onClick=this.handleUseItem}handleUseItem=()=>{const{itemManager:e}=this.scene;if(this.isActive){e.deactivateItem(fo);return}if(!e.activeItem(fo)){this.shakeAnimation.play();return}this.useItem()};useItem=()=>{const{itemManager:e,layoutManager:t}=this.scene,{objects:s}=t;s.playtimeClock.startClock(0),e.deactivateItem(fo)}}const{KEY:Gf,FRAME:ir}=A.GAMEPLAY;class Ff extends Phaser.GameObjects.Particles.ParticleEmitterManager{deathZone;emitter;constructor(e){super(e,Gf,ir.EFFECT_SPARK),this.createDeathZone(),this.createEmitters(),this.kill(),this.scene.add.existing(this)}createDeathZone(){this.deathZone=new Phaser.Geom.Circle}createEmitters(){const e=1/this.scene.world.getPixelRatio();this.emitter=this.createEmitter({on:!1,frame:ir.EFFECT_SPARK,speed:{min:20,max:500},scale:{start:e*1.33,end:0},deathZone:{source:this.deathZone,type:"onLeave"},tint:16259176,lifespan:200})}explode(e,t,s,o){this.revive(),this.deathZone.radius=o,this.deathZone.setPosition(t,s),this.emitter.explode(e,t,s)}}const Bf=Ff,{KEY:po,FRAME:bo}=A.GAMEPLAY;class Uf extends Phaser.GameObjects.Container{process;minProcess;maxProcess;comboText;comboNumber;progressBox;circleLight;progressBar;comboParticle;circleLightTween;comboTextTween;progressAnimation;constructor(e){super(e),this.setSize(84,8),this.process=0,this.minProcess=0,this.maxProcess=1,this.createComboText(),this.createComboNumber(),this.createProgressBG(),this.createProgressBar(),this.createCircleLight(),this.createComboParticle(),this.createContainer()}setComboText(e){this.comboNumber.setText(`x${e}`),this.comboTextTween?.stop(0),this.circleLightTween?.stop(0);const{x:t,y:s}=this.comboNumber;this.comboParticle.explode(10,t,s,30),this.circleLightTween=this.scene.add.tween({targets:[this.circleLight],duration:200,props:{alpha:{start:.5,to:0,ease:Phaser.Math.Easing.Expo.In},scale:{start:0,to:1,ease:Phaser.Math.Easing.Cubic.Out}}}),this.comboTextTween=this.scene.add.tween({targets:[this.comboNumber],duration:100,completeDelay:400,ease:Phaser.Math.Easing.Sine.In,props:{scale:{from:1,to:1.3}},onComplete:()=>{this.comboTextTween=this.scene.add.tween({targets:[this.comboNumber],duration:100,ease:Phaser.Math.Easing.Sine.Out,props:{scale:{start:1.3,to:1}}})}})}setProcess(e,t=!1){if(this.process=this.getCorrectValue(e),!this.scene||t){this.updateProcess();return}this.runProcessAnimation(e)}updateProcess(){const{height:e}=this.progressBar,t=this.getDisplayWidthByProcess(this.process);this.progressBar.setWorldSize(t,e)}getCorrectValue(e){let t=e;return isFinite(t)||(t=0),t<this.minProcess&&(t=this.minProcess),t>this.maxProcess&&(t=this.maxProcess),t}getDisplayWidthByProcess(e){const{width:t}=this;return(t-1)*e}runProcessAnimation(e){this.progressAnimation?.stop(),this.progressAnimation=this.scene.add.tween({targets:[this.progressBar],duration:100,ease:Phaser.Math.Easing.Quadratic.InOut,props:{displayWidth:()=>{const t=this.getCorrectValue(e);return this.getDisplayWidthByProcess(t)}},onUpdate:()=>{const{displayWidth:t,displayHeight:s}=this.progressBar;this.progressBar.setWorldSize(t,s)},onComplete:()=>{this.updateProcess()}})}createComboText(){this.comboText=this.scene.make.bitmapText({font:B.RED_STROKE.KEY,size:this.scene.fontSize(10),origin:{x:.5,y:.5},text:this.scene.lang.Text.combo}),Phaser.Display.Align.In.Center(this.comboText,this,-16,-15)}createComboNumber(){this.comboNumber=this.scene.make.bitmapText({font:B.RED_STROKE.KEY,size:this.scene.fontSize(12),origin:{x:.5,y:.9},text:"x1"}),Phaser.Display.Align.In.RightCenter(this.comboNumber,this.comboText,23,-1)}createCircleLight(){this.circleLight=this.scene.make.image({key:po,frame:bo.EFFECT_CIRCLE}),this.circleLight.setTint(15677098),this.circleLight.setAlpha(0),this.circleLight.setWorldSize(45,45),Phaser.Display.Align.In.Center(this.circleLight,this.comboNumber)}createComboParticle(){this.comboParticle=new Bf(this.scene)}createProgressBG(){this.progressBox=this.scene.make.image({key:po,frame:bo.PROGRESS_BG_COMBO}),this.progressBox.setWorldSize(87,7.5)}createProgressBar(){this.progressBar=this.scene.make.image({key:po,frame:bo.PROGRESS_BAR_COMBO,origin:{x:0,y:.5}}),this.progressBar.setWorldSize(0,4),Phaser.Display.Align.In.LeftCenter(this.progressBar,this.progressBox,-1),this.setProcess(0)}createContainer(){this.add([this.progressBox,this.progressBar,this.comboText,this.comboNumber,this.circleLight,this.comboParticle]),this.circleLight.setDepth(W.EFFECT),this.comboParticle.setDepth(W.EFFECT),this.setDepth(W.EFFECT),this.scene.add.existing(this)}}const{KEY:rr,FRAME:ar}=A.GAMEPLAY,Tt={PLAY:"play",PAUSE:"pause"};class Hf extends Phaser.GameObjects.Container{scene;clockBG;clockIcon;clockIconOriginScale;clockText;tickEvent;remainingTime;tickAnimation;tickEventRemainingTime;constructor(e){super(e,0,0),this.scene=e,this.state=Tt.PAUSE,this.remainingTime=0,this.createContents(),this.scene.add.existing(this)}createContents(){this.createClockBG(),this.updateSize(),this.createClockText(),this.createClockImage()}addEvents(){this.removeEvents(),this.scene.events.on(j.EVENTS.FIRST_INTERACTION,this.handleFirstInteraction)}removeEvents(){this.scene.events.off(j.EVENTS.FIRST_INTERACTION,this.handleFirstInteraction)}handleFirstInteraction=()=>{const e=this.scene,{levelHandler:t}=e,{time:s}=t.getConfigs();this.startClock(s)};handleRescueTimeout=()=>{const e=this.scene,{levelHandler:t}=e,{time:s}=t.getConfigs();this.startClock(Math.floor(s/2))};startClock(e){this.state=Tt.PLAY,this.tickEvent?.destroy(),this.remainingTime=e,this.setClockText(this.remainingTime),this.tickEvent=this.scene.time.addEvent({delay:1e3,callback:this.updateClock,callbackScope:this,loop:!0})}updateClock=()=>{if(this.scene.gameStatus!==ge.DYING){if(this.remainingTime<=31&&this.playNotifyAnimation(),this.remainingTime<=0){this.pauseClock();const{level:t}=this.scene.levelHandler;this.scene.die(t,"timeUp");return}this.remainingTime-=1,this.setClockText(this.remainingTime)}};setClockText(e){const t=Math.floor(e/60),s=e%60,o=t<10?`0${t}`:t,i=s<10?`0${s}`:s;this.clockText.setText(`${o}:${i}`)}pauseClock(){this.state!==Tt.PAUSE&&(this.stopNotifyAnimation(),this.state=Tt.PAUSE,this.tickEvent&&(this.tickEventRemainingTime=1e3-this.tickEvent.getElapsed(),this.tickEvent.destroy()))}resumeClock(){this.state!==Tt.PLAY&&(this.state=Tt.PLAY,this.tickEvent=this.scene.time.addEvent({delay:this.tickEventRemainingTime,callback:()=>{this.updateClock(),this.tickEvent=this.scene.time.addEvent({delay:1e3,callback:this.updateClock,callbackScope:this,loop:!0})},callbackScope:this}))}createClockBG(){this.clockBG=this.scene.make.image({key:rr,frame:ar.TIMER_BG,origin:{x:0,y:.5}}),this.clockBG.setWorldSize(71,25),this.add(this.clockBG)}updateSize(){const{displayWidth:e,displayHeight:t}=this.clockBG;this.setSize(e,t)}createClockText(){this.clockText=this.scene.make.bitmapText({text:"00:00",font:B.PRIMARY.KEY,size:this.scene.fontSize(13),origin:{x:0,y:.5}}),this.clockText.setTint(16763191),this.clockText.setRightAlign(),Phaser.Display.Align.In.RightCenter(this.clockText,this.clockBG,-8,-2),this.add(this.clockText)}createClockImage(){this.clockIcon=this.scene.make.image({key:rr,frame:ar.ICON_CLOCK}),this.clockIcon.setWorldSize(28,34),Phaser.Display.Align.In.LeftCenter(this.clockIcon,this.clockBG,2,-1),this.add(this.clockIcon),this.clockIconOriginScale=this.clockIcon.scaleX}getRemainingTime(){return this.remainingTime}playNotifyAnimation(){if(this.tickAnimation?.isPlaying())return;let e=15;this.tickAnimation?.stop(),this.tickAnimation=this.scene.tweens.timeline({loop:-1,onLoop:t=>{this.clockIcon.setAngle(e),t.data[0].data[0].from=e,t.data[0].data[0].start=e,e=-e,t.data[0].data[0].to=e,t.data[0].data[0].end=e,t.data[0].data[0].duration=200}}),this.tickAnimation.add({targets:this.clockIcon,ease:Phaser.Math.Easing.Linear,props:{angle:{duration:100,start:0,to:e}}}),this.tickAnimation.add({targets:this.clockIcon,ease:Phaser.Math.Easing.Linear,props:{scale:{duration:200,value:this.clockIconOriginScale*1.1}},yoyo:!0}),this.tickAnimation.play()}stopNotifyAnimation(){this.tickAnimation?.stop(),this.clockIcon.setScale(this.clockIconOriginScale),this.clockIcon.setAngle(0)}}const{KEY:Ht,FRAME:Yt}=A.GAMEPLAY;class Yf extends Phaser.GameObjects.Container{stars=[];process;minProcess;maxProcess;progressBox;progressBarLeft;progressBarBg;progressBarRight;progressAnimation;constructor(e){super(e),this.setSize(163,30),this.process=0,this.minProcess=0,this.maxProcess=1,this.createProgressBox(),this.createProgressBar(),this.createStars(),this.createContainer()}setProcess(e,t=!1){if(this.process=this.getCorrectValue(e),this.updateStarVisibility(),!this.scene||t){this.updateProcess();return}this.runProcessAnimation(e)}updateProcess(){const{displayHeight:e}=this.progressBarBg,t=this.getDisplayWidthByProcess(this.process);this.progressBarBg.setWorldSize(t,e);const{x:s}=this.progressBarBg;this.progressBarRight.setX(s+t)}getCorrectValue(e){let t=e;return isFinite(t)||(t=0),t<this.minProcess&&(t=this.minProcess),t>this.maxProcess&&(t=this.maxProcess),t}getDisplayWidthByProcess(e){const{width:t}=this;return(t-17)*e}runProcessAnimation(e){this.progressAnimation?.stop(),this.progressAnimation=this.scene.add.tween({targets:[this.progressBarBg],duration:300,ease:Phaser.Math.Easing.Quadratic.InOut,props:{displayWidth:()=>{const t=this.getCorrectValue(e);return this.getDisplayWidthByProcess(t)}},onUpdate:()=>{const{x:t,displayWidth:s}=this.progressBarBg;this.progressBarRight.setX(t+s)},onComplete:()=>{this.updateProcess()}})}createProgressBox(){this.progressBox=this.scene.make.image({key:Ht,frame:Yt.PROGRESS_STAR}),this.progressBox.setWorldSize(163,30),this.add(this.progressBox)}createProgressBar(){this.progressBarLeft=this.scene.make.image({key:Ht,frame:Yt.PROGRESS_BAR_LEFT}),this.progressBarLeft.setOrigin(0,.5),this.progressBarLeft.setWorldSize(6,12.5),this.progressBarRight=this.scene.make.image({key:Ht,frame:Yt.PROGRESS_BAR_RIGHT}),this.progressBarRight.setOrigin(0,.5),this.progressBarRight.setWorldSize(6,12.5),this.progressBarBg=this.scene.make.image({key:Ht,frame:Yt.PROGRESS_BAR_MID}),this.progressBarBg.setOrigin(0,.5),this.progressBarBg.setWorldSize(6,12.5);const s=-2,o=.5,i=-7.5;Phaser.Display.Align.In.LeftCenter(this.progressBarBg,this.progressBox,i,o),Phaser.Display.Align.In.LeftCenter(this.progressBarLeft,this.progressBox,s,o),Phaser.Display.Align.In.LeftCenter(this.progressBarRight,this.progressBox,i,o),this.setProcess(0,!0)}createStars(){this.stars=[];for(let e=0;e<3;e++){const t=this.scene.make.image({key:Ht,frame:Yt.ICON_STAR_BIG});t.y=0,t.setWorldSize(30,30),t.setVisible(!1),this.stars.push(t)}this.stars[0].x=7,this.stars[1].x=38,this.stars[2].x=67}updateStarVisibility(){if(this.stars.length!==0){if(this.process>=.92){this.stars[0].setVisible(!0),this.stars[1].setVisible(!0),this.stars[2].setVisible(!0);return}if(this.process>=.72){this.stars[0].setVisible(!0),this.stars[1].setVisible(!0),this.stars[2].setVisible(!1);return}if(this.process>=.52){this.stars[0].setVisible(!0),this.stars[1].setVisible(!1),this.stars[2].setVisible(!1);return}this.stars[0].setVisible(!1),this.stars[1].setVisible(!1),this.stars[2].setVisible(!1)}}getStarAmount(){return this.process>=.92?3:this.process>=.72?2:this.process>=.52?1:0}getStarFlyInPosition(){if(this.process>=.72){const{translateX:s,translateY:o}=this.stars[2].getWorldTransformMatrix().decomposeMatrix();return{x:s,y:o}}if(this.process>=.52){const{translateX:s,translateY:o}=this.stars[1].getWorldTransformMatrix().decomposeMatrix();return{x:s,y:o}}const{translateX:e,translateY:t}=this.stars[0].getWorldTransformMatrix().decomposeMatrix();return{x:e,y:t}}createContainer(){this.add([this.progressBox,this.progressBarBg,this.progressBarLeft,this.progressBarRight]),this.add(this.stars),this.scene.add.existing(this)}}const wt=242,{KEY:Wt,FRAME:Kt}=A.GAMEPLAY;class Wf extends Phaser.GameObjects.Container{scene;headerMiddle;headerLeft;headerRight;actualScreenWidth;constructor(e){super(e),this.scene=e,e.add.existing(this),this.initScreenWidth(),this.initHeader(),this.initSize()}initScreenWidth(){const e=this.scene.world.getScreenWidth(),t=this.scene.gameZone.width;this.actualScreenWidth=e>t?e:t}initSize(){//!! Size for calculating other UI positions, tile size, etc.
if(this.scene.world.isLandscape()){this.setSize(760,55.5);return}this.setSize(375,66)}initHeader(){if(!this.scene.world.isLandscape()){this.headerMiddle=this.scene.add.image(0,0,Wt,Kt.LAYOUT_HEADER),this.headerMiddle.setWorldSize(375,66),this.add(this.headerMiddle);return}if(this.actualScreenWidth<wt*2){this.initReducedLandscapeHeader();return}this.initNormalLandscapeHeader()}initReducedLandscapeHeader(){const e=this.actualScreenWidth;this.headerMiddle=this.scene.add.image(0,0,Wt,Kt.LAYOUT_HEADER_MIDDLE),this.headerMiddle.setWorldSize(e,55.5),this.add(this.headerMiddle)}initNormalLandscapeHeader(){const e=this.actualScreenWidth-wt*2;this.headerLeft=this.scene.add.image(0,0,Wt,Kt.LAYOUT_HEADER_LEFT),this.headerLeft.setWorldSize(wt,55.5),this.headerMiddle=this.scene.add.image(0,0,Wt,Kt.LAYOUT_HEADER_MIDDLE),this.headerMiddle.setWorldSize(e,55.5),this.headerRight=this.scene.add.image(0,0,Wt,Kt.LAYOUT_HEADER_RIGHT),this.headerRight.setWorldSize(wt,55.5),this.add(this.headerLeft),this.add(this.headerMiddle),this.add(this.headerRight),this.headerMiddle.setPosition(0,0),this.headerLeft.setPosition(this.headerMiddle.x-(e+wt)/2,0),this.headerRight.setPosition(this.headerMiddle.x+(e+wt)/2,0)}}const Kf=Wf,{KEY:go,FRAME:vo}=A.GAMEPLAY,{KEY:nr,FRAME:lr}=A.DEFAULT;class zf{scene;skipBtn;skipContainer;pauseButton;headerBG;footerBG;levelText;playtimeClock;starProgressBar;comboProgressBar;hintItem;rocketItem;shuffleItem;defuseItem;guideDefuseItem;timeUp=null;newGame=null;resetData=null;backLevel=null;nextLevel=null;autoMatch=null;changeColor=null;bombExplosive=null;group;constructor(e){this.scene=e,this.createGroup(),this.createObjects()}getAll(){return this.group.getChildren()}createGroup(){this.group=this.scene.add.group()}createObjects(){this.createHeaderBG(),this.createFooterBG(),this.createLevelText(),this.createSkipButton(),this.createPauseButton(),this.createPlaytimeClock(),this.createStarProgressBar(),this.createComboProgressBar(),this.createHintItem(),this.createRocketItem(),this.createDefuseItem(),this.createGuideDefuseItem(),this.createShuffleItem(),this.createDevTools()}createHeaderBG(){this.headerBG=new Kf(this.scene),this.group.add(this.headerBG)}createFooterBG(){this.footerBG=this.scene.add.image(0,0,go,vo.LAYOUT_FOOTER),this.footerBG.setWorldSize(375,108.5),this.group.add(this.footerBG)}createLevelText(){this.levelText=this.scene.make.bitmapText({font:B.YELLOW_AND_STROKE.KEY,size:this.scene.fontSize(15),origin:{x:.5,y:.6},text:"Lv 1"}),this.group.add(this.levelText)}createSkipButton(){this.skipContainer=this.scene.add.container(0,0),this.skipContainer.setDepth(W.ON_TOP);const e=this.scene.make.image({key:nr,frame:lr.BUTTON_GREEN_SMALL_BG});e.setY(-1),e.setWorldSize(67,24),this.skipContainer.add(e),this.skipBtn=new ve(this.scene,nr,lr.BUTTON_GREEN_SMALL,63,20),this.skipBtn.setName("SkipGuide"),this.skipContainer.add(this.skipBtn);const t=this.scene.lang.getCurrentLanguage();let s=13,o=-2;switch(t){case"ru":case"de":s=8,o=-1}const i=this.scene.make.bitmapText({font:B.SHADOW.KEY,size:this.scene.fontSize(s),origin:{x:.5,y:.6},text:this.scene.lang.Text.skip});i.setY(o),this.skipBtn.add(i),this.skipContainer.setSize(63,20),this.skipContainer.kill(),this.group.add(this.skipContainer)}createPauseButton(){this.pauseButton=new ve(this.scene,go,vo.BUTTON_YELLOW_CIRCLE,37,37),this.pauseButton.setName("Pause");const e=this.scene.make.image({key:go,frame:vo.ICON_PAUSE});e.setWorldSize(15,17),this.pauseButton.add(e),this.group.add(this.pauseButton)}createPlaytimeClock(){this.playtimeClock=new Hf(this.scene),this.group.add(this.playtimeClock)}createStarProgressBar(){this.starProgressBar=new Yf(this.scene),this.group.add(this.starProgressBar)}createComboProgressBar(){this.comboProgressBar=new Uf(this.scene),this.comboProgressBar.setAlpha(0),this.comboProgressBar.kill(),this.group.add(this.comboProgressBar)}createHintItem(){this.hintItem=new _a(this.scene),this.group.add(this.hintItem)}createShuffleItem(){this.shuffleItem=new Ia(this.scene),this.group.add(this.shuffleItem)}createDefuseItem(){this.defuseItem=new Vo(this.scene),this.group.add(this.defuseItem)}createGuideDefuseItem(){this.guideDefuseItem=new Sa(this.scene),this.guideDefuseItem.kill(),this.group.add(this.guideDefuseItem)}createRocketItem(){this.rocketItem=new Xo(this.scene),this.group.add(this.rocketItem)}createDevTools(){GameCore.Utils.Valid.isDebugger()&&(this.createNewGameItem(),this.createTimeUpItem(),this.createAutoMatchItem(),this.createResetDataItem(),this.createBackLevelItem(),this.createNextLevelItem(),this.createChangeColorItem(),this.createBombExplosiveItem())}createNewGameItem(){this.newGame=new Af(this.scene),this.newGame.setScale(.7),this.group.add(this.newGame)}createChangeColorItem(){this.changeColor=new ka(this.scene),this.changeColor.setScale(.7),this.group.add(this.changeColor)}createResetDataItem(){this.resetData=new Lf(this.scene),this.resetData.setScale(.7),this.group.add(this.resetData)}createBackLevelItem(){this.backLevel=new kf(this.scene),this.backLevel.setScale(.7),this.group.add(this.backLevel)}createNextLevelItem(){this.nextLevel=new If(this.scene),this.nextLevel.setScale(.7),this.group.add(this.nextLevel)}createBombExplosiveItem(){this.bombExplosive=new Of(this.scene),this.bombExplosive.setScale(.7),this.group.add(this.bombExplosive)}createTimeUpItem(){this.timeUp=new Nf(this.scene),this.timeUp.setScale(.7),this.group.add(this.timeUp)}createAutoMatchItem(){this.autoMatch=new Pf(this.scene),this.autoMatch.setScale(.7),this.group.add(this.autoMatch)}}const jf=zf;class $f{scene;objects;allUI;groups;constructor(e){this.scene=e,this.objects=null,this.createGroups()}setUIObjects(e){this.objects=e,this.allUI.addMultiple(this.objects.getAll())}createGroups(){this.groups={},this.allUI=this.scene.add.group(),this.groups.allUI=this.allUI}killAllUI(){this.allUI.killGroup()}reviveAllUI(){this.allUI.reviveGroup()}}const Vf=$f,Xf=43;class Zf extends Vf{itemUI;gameUI;alignUI(){if(this.objects===null)return;const{headerBG:e,footerBG:t,levelText:s,skipContainer:o}=this.objects,{pauseButton:i,playtimeClock:r,starProgressBar:n,comboProgressBar:a}=this.objects,{gameZone:l}=this.scene,d=this.scene.ads.getBannerHeight();Phaser.Display.Align.In.TopCenter(e,l),Phaser.Display.Align.In.BottomCenter(t,l,0,-d+Xf),Phaser.Display.Align.In.BottomCenter(s,e,-70,-35),Phaser.Display.Align.In.TopRight(o,l,-5,-15),Phaser.Display.Align.In.TopRight(i,e,-8,-6),Phaser.Display.Align.In.TopLeft(r,e,22,-13),Phaser.Display.Align.In.BottomCenter(n,e,43,-26),Phaser.Display.Align.In.TopRight(a,l,-20,-80)}alignItems(){const{objects:e}=this;if(!e)return;const{hintItem:t,rocketItem:s,defuseItem:o,shuffleItem:i,guideDefuseItem:r}=e,{footerBG:n}=e,a=this.scene;if(!(a instanceof rt))return;const{level:l}=a.levelHandler.getConfigs(),{width:d,height:u}=n,m=-u*.15;let f=4;const h=[o,t,s,i];if(!o.visible&&l!==7){f-=1;const x=h.indexOf(o);h.splice(x,1)}if(!s.visible){f-=1;const x=h.indexOf(s);h.splice(x,1)}const p=d*62/75,v=p/f;Phaser.Display.Align.In.Center(h[0],n,-p/2+v/2,m);for(let x=1;x<h.length;x++){const M=h[x];M.x=h[0].x+x*v,M.y=h[0].y}l===7&&r.setPosition(o.x,o.y);const{changeColor:b,newGame:g,resetData:T,autoMatch:y}=e,{backLevel:E,nextLevel:S,timeUp:R,bombExplosive:O}=e,{gameZone:P}=this.scene;if(GameCore.Utils.Valid.isDebugger()){b&&Phaser.Display.Align.In.TopLeft(b,P,0,-80),g&&Phaser.Display.Align.In.TopLeft(g,P,0,-120),T&&Phaser.Display.Align.In.TopLeft(T,P,0,-160),y&&Phaser.Display.Align.In.TopLeft(y,P,0,-200);const x=0,M=-240;E&&Phaser.Display.Align.In.TopLeft(E,P,x,M),S&&Phaser.Display.Align.In.TopLeft(S,P,x,M-40),R&&Phaser.Display.Align.In.TopLeft(R,P,x,M-2*40),O&&Phaser.Display.Align.In.TopLeft(O,P,x,M-3*40)}}createGroups(){super.createGroups(),this.itemUI=this.scene.add.group(),this.gameUI=this.scene.add.group(),this.itemUI.setDepth(W.ITEM),this.groups.itemUI=this.itemUI,this.groups.gameUI=this.gameUI}setUIObjects(e){super.setUIObjects(e),this.addUIObjectsToGroups()}addUIObjectsToGroups(){this.objects!==null&&(this.addObjectsForItem(),this.addObjectsForGame())}addObjectsForItem(){this.objects!==null&&this.groups.itemUI.addMultiple([this.objects.hintItem,this.objects.rocketItem,this.objects.shuffleItem,this.objects.defuseItem])}addObjectsForGame(){this.objects!==null&&this.groups.gameUI.addMultiple([this.objects.levelText,this.objects.pauseButton,this.objects.playtimeClock,this.objects.starProgressBar,...this.groups.itemUI.getChildren()])}}const Ma=Zf;class qf extends Ma{alignUI(){if(super.alignUI(),this.objects===null)return;const{gameZone:e}=this.scene;Phaser.Display.Align.In.TopRight(this.objects.footerBG,this.objects.headerBG,-26,16),Phaser.Display.Align.In.TopCenter(this.objects.levelText,this.objects.headerBG,-220,-10),Phaser.Display.Align.In.TopRight(this.objects.pauseButton,this.objects.headerBG,-10),Phaser.Display.Align.In.TopLeft(this.objects.playtimeClock,this.objects.headerBG,5,-7),Phaser.Display.Align.In.BottomCenter(this.objects.starProgressBar,this.objects.headerBG,-80,-20),Phaser.Display.Align.In.TopRight(this.objects.comboProgressBar,e,-100,-65)}alignItems(){const{objects:e}=this;if(!e)return;const{hintItem:t,rocketItem:s,defuseItem:o,shuffleItem:i,guideDefuseItem:r}=e,{footerBG:n}=e,a=this.scene;if(!(a instanceof rt))return;const{level:l}=a.levelHandler.getConfigs(),{width:d,height:u}=n,m=.675;t.setScale(m),s.setScale(m),o.setScale(m),i.setScale(m),r.setScale(m);const f=-u*.13;let h=4;const p=[o,t,s,i];if(!o.visible&&l!==7){h-=1;const M=p.indexOf(o);p.splice(M,1)}if(!s.visible){h-=1;const M=p.indexOf(s);p.splice(M,1)}let v=d*18/25;h===3?v=d*8/15:h===4?v=d*2/3:h===2&&(v=d*12/25);const b=v/h;Phaser.Display.Align.In.Center(p[0],n,-v/2+b/2,f);for(let M=1;M<p.length;M++){const L=p[M];L.x=p[0].x+M*b,L.y=p[0].y}l===7&&r.setPosition(o.x,o.y);const{changeColor:g,newGame:T,resetData:y,autoMatch:E}=e,{backLevel:S,nextLevel:R,timeUp:O,bombExplosive:P}=e,{gameZone:x}=this.scene;if(GameCore.Utils.Valid.isDebugger()){g&&Phaser.Display.Align.In.TopLeft(g,x,0,-80),T&&Phaser.Display.Align.In.TopLeft(T,x,0,-120),y&&Phaser.Display.Align.In.TopLeft(y,x,0,-160),E&&Phaser.Display.Align.In.TopLeft(E,x,0,-200);const M=-50,L=-80;S&&Phaser.Display.Align.In.TopLeft(S,x,M,L),R&&Phaser.Display.Align.In.TopLeft(R,x,M,L-40),O&&Phaser.Display.Align.In.TopLeft(O,x,M,L-2*40),P&&Phaser.Display.Align.In.TopLeft(P,x,M,L-3*40)}}}const Jf=qf,{STATUS:To}=ss;class Qf extends Me{scene;layout;objects;groups;constructor(e){super(e),this.scene=e,this.createObjects(),this.createLayouts(),this.createGroups()}createObjects(){this.objects=new jf(this.scene)}createLayouts(){this.scene.world.isLandscape()?this.layout=new Jf(this.scene):this.layout=new Ma(this.scene),this.layout.setUIObjects(this.objects)}createGroups(){this.groups=this.layout.groups}init(){this.layout.alignUI(),this.setState(To.READY)}start(){this.isRunning()||(this.updateUIState(),this.setState(To.RUNNING))}stop(){this.isRunning()&&this.setState(To.STOPPED)}updateUIState(){}}const ep=Qf,$={PAUSE_SCREEN:"PAUSE_SCREEN",NOTIFY_SCREEN:"NOTIFY_SCREEN",RESULT_SCREEN:"RESULT_SCREEN",RESCUE_SCREEN:"RESCUE_SCREEN",CONTINUE_SCREEN:"CONTINUE_SCREEN",REWARD_ITEM_SCREEN:"REWARD_ITEM_SCREEN"},Ct={SCREEN:200,POPUP:300,PRIORITY:999},tp={targets:[],duration:600,ease:Phaser.Math.Easing.Quadratic.Out,props:{alpha:{start:1,from:1,to:0}}};class is extends Pe{constructor(e){super(tp,e)}}const sp={targets:[],duration:600,ease:Phaser.Math.Easing.Back.Out,props:{y:{from:250,to:0},scale:{from:.9,to:1},alpha:{start:0,from:0,to:1}}};class op extends Pe{constructor(e){super(sp,e)}}const Gs=op,{KEY:et,FRAME:Et}=A.DEFAULT,{Match:wo}=GameCore.Configs;class ip extends GameCore.Screen{level;reason;isUseRescue;popup;contents;countdownText;countdownTimer;countdownCount;realTimeCountdown;progressTween;rescueSoundEvent;progressCircle;progressMaskImage;progressMask;reasonText;continueButton;continueButtonBg;continueButtonAnimation;popupShowUpAnimation;popupFadeOutAnimation;adsTimer;constructor(e,t,s,o){super(e,t,s,o),this.reason="",this.realTimeCountdown=1400,this.countdownCount=wo.MaxRescueCount,this.setDepth(Ct.POPUP),this.background.setAlpha(.8),this.createContent(),this.addContent()}open=e=>{super.open(),this.progressCircle.clearMask(),this.isUseRescue=!1,this.countdownCount=wo.RescueGamePopupTimeout,this.setTime(this.countdownCount),this.level=e.level,this.reason=e.reason,this.updateReasonText(e.reason),this.runOpenAnimation()};close(){this.rescueSoundEvent?.remove(),super.close()}handleShowRewardedVideoAd=async()=>{const{globalScene:e,audio:t}=this.scene.game;let s=null;try{if(this.isUseRescue)return;this.isUseRescue=!0,this.progressTween.pause(),this.rescueSoundEvent?.remove(),this.countdownTimer.remove(),s=this.scene.game.globalScene.time.delayedCall(200,()=>{e.screen.open($.NOTIFY_SCREEN,{message:this.scene.lang.Text.loading_ads,duration:0,loading:!0})}),t.pauseMusic(),t.pauseAllSounds(),t.muteAll(),await this.scene.ads.showRewardedVideoAsync(),e.screen.events.off(GameCore.Screens.Events.CLOSE),this.scene.audio.playSound(Z.DAILY_REWARD),s?.remove(),e.screen.close($.NOTIFY_SCREEN),this.runCloseAnimation(),this.popupFadeOutAnimation.tween?.once(Phaser.Tweens.Events.TWEEN_COMPLETE,()=>{F.emit(G.CONTINUE,{reason:this.reason})})}catch(o){if(this.runCloseAnimation(),this.isUseRescue=!1,s?.remove(),o instanceof Object&&GameCore.Utils.Object.hasOwn(o,"code")&&o.code==="USER_INPUT"){this.showNotifySkipAds();return}this.showNotifyNoAds()}finally{this.adsTimer?.destroy(),this.scene.audio.unmuteAll(),this.scene.audio.playMusic(),this.scene.audio.resumeAllSounds(),this.scene.ads.preloadRewardedVideoAsync().catch(o=>{})}};showNotifyNoAds=e=>{if(e&&e.name!==$.NOTIFY_SCREEN)return;const{globalScene:t}=this.scene.game;t.screen.events.off(GameCore.Screens.Events.CLOSE),t.screen.events.on(GameCore.Screens.Events.CLOSE,this.showRescueScreen),t.screen.open($.NOTIFY_SCREEN,{message:this.scene.lang.Text.no_ads,duration:2e3,loading:!1})};showNotifySkipAds=()=>{const{globalScene:e}=this.scene.game;e.screen.events.off(GameCore.Screens.Events.CLOSE),e.screen.events.on(GameCore.Screens.Events.CLOSE,this.showRescueScreen),e.screen.open($.NOTIFY_SCREEN,{message:`${this.scene.lang.Text.no_rewards_1}
${this.scene.lang.Text.no_rewards_2}`,duration:3e3,loading:!1})};showRescueScreen=e=>{if(e&&e.name!==$.NOTIFY_SCREEN)return;const{globalScene:t}=this.scene.game;t.screen.events.off(GameCore.Screens.Events.CLOSE,this.showRescueScreen),this.countdownTimer.remove(),this.progressTween.pause(),this.scene.screen.close(this.name),F.emit(G.SHOW_RESCUE_SCREEN,{level:this.level,reason:this.reason})};createContent(){this.createPopup(),this.createCountdown(),this.createProgressCircle(),this.createReasonText(),this.createContinueButton()}createPopup(){this.popup=this.scene.add.container(0,0),this.popup.setSize(292,374);const e=this.scene.make.image({key:et,frame:Et.POPUP});e.setWorldSize(292,374);const t=this.scene.make.image({key:et,frame:this.scene.lang.Texture.text_continue}),s=this.scene.lang.getCurrentLanguage();let o=164,i=25;switch(s){case"ru":o=213,i=28;break;case"ja":o=187.5,i=27;break;case"id":o=131,i=25;break;case"it":o=189,i=24;break;case"de":o=187,i=24;break;case"es":o=187,i=29;break;case"fr":o=178,i=24;break;case"pt":o=173,i=24;break;case"tr":o=150,i=24;break;case"zh":o=74,i=27;break}t.setWorldSize(o,i),Phaser.Display.Align.In.TopCenter(t,e,4,-23),this.popup.add([e,t]),this.add(this.popup),Phaser.Display.Align.In.Center(this.popup,this.zone)}createCountdown(){this.countdownText=this.scene.make.bitmapText({size:this.scene.fontSize(50),font:B.YELLOW_AND_STROKE.KEY,origin:{x:.5,y:.5}}),this.countdownText.setTint(16773122),this.countdownText.setCenterAlign(),this.setTime(this.countdownCount)}runCountdown(){const e={loop:!0,delay:this.realTimeCountdown,callback:this.handleRunCountdown};this.countdownTimer=this.scene.time.addEvent(e),this.startProgressCircle()}setProgressCircle(e){const{translateX:t,translateY:s}=this.progressCircle.getWorldTransformMatrix().decomposeMatrix();if(this.progressMaskImage.setPosition(t,s),this.progressMaskImage.clear(),e===0)return;this.progressMaskImage.fillStyle(16777215,0);const o=-Math.PI/2,i=3*Math.PI/2-Phaser.Math.DegToRad(360-e);this.progressMaskImage.slice(0,0,80,o,i,!1),this.progressMaskImage.fillPath()}setTime(e){this.countdownText.setText(`${e}`)}createProgressCircle(){this.progressCircle=this.scene.make.image({key:et,frame:Et.PROGRESS_CIRCLE});const e=this.scene.make.image({key:et,frame:Et.PROGRESS_CIRCLE_BG});this.progressMaskImage=this.scene.make.graphics({}),this.progressMask=this.progressMaskImage.createGeometryMask(),this.progressCircle.setWorldSize(129,129),e.setWorldSize(129,129),Phaser.Display.Align.In.Center(this.progressCircle,this.popup,0,-40),Phaser.Display.Align.In.Center(e,this.popup,0,-40),Phaser.Display.Align.In.Center(this.countdownText,e,0,-10),this.popup.add([e,this.progressCircle])}startProgressCircle(){this.setProgressCircle(360),this.progressCircle.setMask(this.progressMask),this.progressTween=this.scene.tweens.addCounter({from:360,to:0,duration:wo.RescueGamePopupTimeout*this.realTimeCountdown,onUpdate:e=>{const t=+e.getValue().toFixed(2);this.setProgressCircle(t)},onComplete:()=>{this.setProgressCircle(0),this.rescueSoundEvent?.remove()}}),this.playSoundTimeCountdown(),this.rescueSoundEvent=this.scene.time.addEvent({repeat:3,delay:this.realTimeCountdown,callback:this.playSoundTimeCountdown})}playSoundTimeCountdown=()=>{this.scene.audio.playSound(Z.RESCUE_TIMER,{volume:1.5})};createReasonText(){this.reasonText=this.scene.make.bitmapText({font:B.YELLOW_AND_STROKE.KEY,origin:{x:.5,y:.5}})}updateReasonText(e){let t=this.scene.fontSize(16);switch(e){case"bombExplosive":t=this.scene.fontSize(18),this.reasonText.setText(this.scene.lang.Text.reason_bomb);break;case"timeUp":t=this.scene.fontSize(20),this.reasonText.setText(this.scene.lang.Text.reason_time_out);break;default:this.reasonText.setText("You have failed the level!")}this.reasonText.setFontSize(t);const s=this.scene.lang.getCurrentLanguage();let o=0;switch(s){case"ja":o=5}Phaser.Display.Align.In.Center(this.reasonText,this.popup,o,57)}createContinueButton(){this.continueButton=new ve(this.scene,et,Et.BUTTON_GREEN_ROUNDED_RECT,184,51),this.continueButton.setName("Continue"),this.continueButtonBg=this.scene.make.image({key:et,frame:Et.BUTTON_BG}),this.continueButtonBg.setWorldSize(184,51),this.continueButton.onClick=this.handleShowRewardedVideoAd;const e=this.scene.add.image(0,0,et,Et.ICON_ADS);e.setWorldSize(27,29),Phaser.Display.Align.In.Center(e,this.continueButton,-60),this.continueButton.add(e);const t=this.scene.lang.getCurrentLanguage();let s=20;switch(t){case"ru":s=17;break;case"ja":s=18;break}const o=this.scene.make.bitmapText({text:this.scene.lang.Text.continue,font:B.SHADOW.KEY,origin:{x:.35,y:.75},size:this.scene.fontSize(s)});this.continueButton.add(o),Phaser.Display.Align.In.BottomCenter(this.continueButton,this.popup,0,-40),Phaser.Display.Align.In.Center(this.continueButtonBg,this.continueButton,0,-1)}handleRunCountdown=()=>{if(this.countdownCount-=1,this.setTime(this.countdownCount),this.countdownCount<=0){this.countdownTimer.remove(),this.progressTween.complete(),this.rescueTimeout();return}};rescueTimeout(){this.scene.time.delayedCall(800,()=>{this.runCloseAnimation(),this.isUseRescue||this.popupFadeOutAnimation.tween?.once(Phaser.Tweens.Events.TWEEN_COMPLETE,()=>{F.emit(G.SHOW_RESCUE_SCREEN,{level:this.level,reason:this.reason})})})}runContinueButtonAnimation(){this.continueButtonAnimation||(this.continueButtonAnimation=new Ns({targets:[this.continueButton],props:{scale:"-=0.02"}})),this.continueButtonAnimation?.play()}addContent(){this.contents=this.scene.add.group(),this.contents.addMultiple([this.countdownText,this.reasonText,this.continueButtonBg,this.continueButton]),this.popup.add(this.contents.getChildren())}runOpenAnimation(){this.popupShowUpAnimation?.tween?.isPlaying()||this.runPopupEntrancesAnimation(0,400)}runCloseAnimation(){this.popupFadeOutAnimation?.tween?.isPlaying()||this.runPopupExitsAnimation(0,200)}runPopupEntrancesAnimation(e,t){if(!this.popupShowUpAnimation){const{y:s,scale:o}=this.popup;this.popupShowUpAnimation=new Gs({targets:[this.popup],delay:e,duration:t,props:{y:{from:350,to:s},alpha:{start:1,from:1,to:1},scale:{start:0,from:0,to:o}},onComplete:()=>{this.runCountdown(),this.runContinueButtonAnimation()}})}this.popupShowUpAnimation.play()}runPopupExitsAnimation(e,t){this.popupFadeOutAnimation||(this.popupFadeOutAnimation=new is({targets:[this.popup],delay:e,duration:t,props:{y:250,scale:0},onComplete:()=>{this.popup.setY(0),this.scene.screen.close(this.name)}})),this.popupFadeOutAnimation.play()}}const rp={targets:[],duration:300,ease:zo,props:{scale:{from:1.2,to:1}}};class Zo extends Pe{constructor(e){super(rp,e)}}const{KEY:ap}=A.DEFAULT;class Eo extends ve{options;icon;constructor(e,t){super(e,ap,t.frameOn),this.options=t}processCallback(e){const{enable:t}=this.options;this.updateStatus(!t),e(!t)}updateStatus(e){this.options.enable=e;const t=this.getFrameByStatus();this.button.setFrame(t)}getFrameByStatus=()=>{const{enable:e,frameOn:t,frameOff:s}=this.options;return e?t:s};logButtonEvent(){const e=this.getParentName(),t=this.name,s=!this.options.enable;this.scene.analytics.event(U.BUTTON_CLICK,{button_name:t,screen_name:e,enable:s})}}class np extends Error{constructor(e,t){super(e,t),this.name="LoadResourceFail",this.message=e||"Load resource fail",this.payload=t}}const lp=()=>()=>{const{player:c,analytics:e,globalScene:t}=window.game;try{c.getPlayer().isUserNew&&e.event(U.NEW_USER),t.events.emit(Ao.SWITCH,re.GAME_SCENE)}catch(s){t.events.emit(Ao.SWITCH,re.GAME_SCENE),console.warn(s)}},Ca=c=>({type:na,payload:{sceneKey:c}}),cp={targets:[],duration:600,ease:Phaser.Math.Easing.Cubic.Out,props:{alpha:{start:0,from:0,to:1}}};class La extends Pe{constructor(e){super(cp,e)}}const dp=c=>c.scene.currentSceneKey,mp=de([dp],c=>c),{KEY:up,FRAME:hp}=A.DEFAULT;class fp extends Phaser.GameObjects.Container{fps=0;fpsString="FPS: %1";fpsText;background;zone;lastUpdate;constructor(e){super(e,0,0),this.createFps(),this.createInputZone(),this.setDepth(W.DEBUG),this.scene.add.existing(this),this.scene.events.on(Phaser.Scenes.Events.UPDATE,this.update)}update=e=>{if(e-this.lastUpdate<800)return;this.lastUpdate=e;const t=Math.floor(this.scene.game.loop.actualFps);this.setFps(t)};setFps(e){this.fps=e;const t=Phaser.Utils.String.Format(this.fpsString,[e]);this.fpsText.setText(t)}createFps(){this.background=this.scene.make.image({key:up,frame:hp.BLANK}),this.background.setName("BG"),this.background.setTint(13801480),this.background.setWorldSize(50,20),this.fpsText=this.scene.make.bitmapText({size:this.scene.fontSize(12),text:this.fpsString,font:B.PRIMARY.KEY,origin:{x:.5,y:.5}}),this.fpsText.setName("FPS Meter"),Phaser.Display.Align.In.Center(this.fpsText,this.background,0,-3),this.add([this.background,this.fpsText]),this.setFps(0)}createInputZone(){const{width:e,height:t}=this.background;this.zone=this.scene.make.zone({width:e,height:t}),this.add(this.zone),this.zone.setInteractive({useHandCursor:!0}),this.zone.on(Phaser.Input.Events.GAMEOBJECT_POINTER_DOWN,this.handleShowFps)}handleShowFps=()=>{const{fpsText:e,background:t}=this;e.setVisible(!e.visible),t.setVisible(!t.visible)}}const pp=fp;class bp extends Phaser.GameObjects.Container{performance;memory=0;maxMemoryLimit;maxPercentThreshold;normalColor=3459162;warningColor=16768343;alarmColor=15812200;memoryString="Memory: %1MB / %2MB";memoryText;lastUpdate;constructor(e){if(super(e,0,0),this.performance=window.performance,this.createMemory(),this.setDepth(W.DEBUG),this.scene.add.existing(this),!this.isSupport()){this.memoryText.setText("Memory: not supported!");return}const{jsHeapSizeLimit:t}=this.performance.memory;this.maxPercentThreshold=90,this.setMaxMemory(t/1048576),this.scene.events.on(Phaser.Scenes.Events.UPDATE,this.update)}update=e=>{if(e-this.lastUpdate<1e3)return;this.lastUpdate=e;const{usedJSHeapSize:t}=this.performance.memory,s=this.maxMemoryLimit*1048576,o=Math.round(t/1048576);this.setMemory(o),this.memoryText.setTint(this.normalColor),t>this.maxPercentThreshold/100*s&&this.memoryText.setTint(this.warningColor),t>s&&this.memoryText.setTint(this.alarmColor)};isSupport(){return this.performance&&!!this.performance?.memory}setMaxMemory(e){this.maxMemoryLimit=Math.round(e)}setMemory(e){this.memory=e;const t=Phaser.Utils.String.Format(this.memoryString,[e,this.maxMemoryLimit]);this.memoryText.setText(t)}createMemory(){this.memoryText=this.scene.make.bitmapText({size:this.scene.fontSize(14),text:this.memoryString,font:B.PRIMARY.KEY,depth:2e3}),this.memoryText.setName("Memory Meter"),this.add(this.memoryText),this.setMemory(0)}}const gp=bp,vp={targets:[],duration:600,ease:Phaser.Math.Easing.Linear,props:{angle:{from:0,to:360}}};class Tp extends Pe{constructor(e){super(vp,e)}}const wp=Tp,{KEY:Ep,FRAME:yp}=A.DEFAULT;class Pp extends Phaser.GameObjects.Image{anim;constructor(e){super(e,0,0,Ep,yp.PRELOADER),this.runAnimation(),this.setWorldSize(65,65),this.scene.add.existing(this)}runAnimation(){this.anim?.remove(),this.anim=new wp({targets:[this],repeat:-1,duration:1200}),this.anim.play()}setVisible(e){return super.setVisible(e),e?this.runAnimation():this.anim.stop(),this}}const cr={no_rewards_2_ru:`ВЫ НЕ ПОСМОТРЕЛИ
 РЕКЛАМУ ДО КОНЦА!`,no_ads_ru:`НЕТ ОБЪЯВЛЕНИЙ ДЛЯ
 ОТОБРАЖЕНИЯ!`};class Sp extends GameCore.Screen{loadingIcon;messageText;openAnimation;closeTimerEvent;constructor(e,t,s,o){super(e,t,s,o),this.addLoadingIcon(),this.addMessageText(),this.setDepth(Ct.PRIORITY),this.background.setAlpha(.8)}open(e){super.open(e);const[t="",s=0,o=!1]=this.getData(["message","duration","loading"]);this.setMessage(t),this.showLoading(o),this.closeTimerEvent?.remove(),s>0&&(this.closeTimerEvent=this.scene.time.addEvent({delay:s,callback:()=>{this.visible&&this.scene.screen.close(this.name)}})),this.runOpenAnimation()}addLoadingIcon(){this.loadingIcon=new Pp(this.scene),this.add(this.loadingIcon),Phaser.Display.Align.In.Center(this.loadingIcon,this.zone)}addMessageText(){const t=this.scene.lang.getCurrentLanguage()==="ru"?22:26;this.messageText=this.scene.make.bitmapText({size:this.scene.fontSize(t),font:B.PRIMARY.KEY,origin:{x:.5,y:.5}}),this.messageText.setTint(13007418),this.messageText.setCenterAlign(),this.add(this.messageText)}setMessage(e){let t=e;!this.scene.world.isLandscape()&&this.scene.lang.getCurrentLanguage()==="ru"&&(e.includes(this.scene.lang.Text.no_rewards_1)&&(t=`${this.scene.lang.Text.no_rewards_1}
${cr.no_rewards_2_ru}`),e.includes(this.scene.lang.Text.no_ads)&&(t=cr.no_ads_ru)),this.messageText.setText(t)}showLoading(e){this.loadingIcon.setVisible(e);const t=e===!1?20:60;Phaser.Display.Align.In.Center(this.messageText,this.zone,0,t)}runOpenAnimation(){this.openAnimation?.stop(),this.openAnimation?.remove(),this.openAnimation=new Zo({targets:[this.messageText,this.loadingIcon],props:{scale:{getStart:e=>e.scale-.3,getEnd:e=>e.scale}}}),this.openAnimation.play()}logPageviewOnOpen(){}logPageviewOnClose(){}}const kp=Sp,{KEY:xp,FRAME:Op}=A.DEFAULT;class Rp extends Ra{mask;fadeInAnim;fadeOutAnim;fpsMeter;memoryMeter;init(){this.listenScenesEvents(),this.game.globalScene=this}setup(){this.scaleGame(),this.addMask(),this.addNotifyScreen(),this.addFPS(),this.addMemory()}addNotifyScreen(){const e=this.screen.add($.NOTIFY_SCREEN,kp);Phaser.Display.Align.In.Center(e,this.gameZone)}addMask(){this.mask=this.make.image({key:xp,frame:Op.BLANK});const{width:e,height:t}=this.gameZone;this.mask.setAlpha(0),this.mask.setOrigin(0,0),this.mask.setTint(0),this.mask.setWorldSize(e,t)}addFPS(){const{ShowFPSInGame:e}=GameCore.Configs.Statistics;e&&(this.fpsMeter=new pp(this),Phaser.Display.Align.In.TopLeft(this.fpsMeter,this.gameZone,-25,-10))}addMemory(){const{ShowMemoryInGame:e}=GameCore.Configs.Statistics;e&&(this.memoryMeter=new gp(this),Phaser.Display.Align.In.TopLeft(this.memoryMeter,this.gameZone,-45,-3))}updateSceneState(){this.setGlobalSceneOnTop()}setGlobalSceneOnTop(){this.scene.bringToTop(this)}runMaskFadeInAnimation(){this.mask&&GameCore.Configs.EnableEffectSceneTransition&&(this.fadeInAnim?.remove(),this.fadeOutAnim?.remove(),this.fadeInAnim=new La({targets:[this.mask],duration:400,ease:Phaser.Math.Easing.Cubic.In,props:{alpha:{start:0,from:0,to:.6}}}),this.mask.setAlpha(0),this.fadeInAnim.play())}runMaskFadeOutAnimation(){this.mask&&GameCore.Configs.EnableEffectSceneTransition&&(this.fadeInAnim?.remove(),this.fadeOutAnim?.remove(),this.fadeOutAnim=new is({targets:[this.mask],duration:400,ease:Phaser.Math.Easing.Cubic.Out,props:{alpha:{start:.6,from:.6,to:0}}}),this.mask.setAlpha(1),this.fadeOutAnim.play())}listenScenesEvents(){this.scene.manager.getScenes(!1).forEach(t=>{t.events.on(Phaser.Scenes.Events.CREATE,this.emitGameEventStartScene),t.events.on(Phaser.Scenes.Events.SLEEP,this.emitGameEventSleepScene),t.events.on(Phaser.Scenes.Events.WAKE,this.emitGameEventWakeScene),t.events.on(Phaser.Scenes.Events.PAUSE,this.emitGameEventPauseScene),t.events.on(Phaser.Scenes.Events.RESUME,this.emitGameEventResumeScene),t.events.on(Phaser.Scenes.Events.SHUTDOWN,this.emitGameEventShutdownScene)}),this.events.on(Ao.SWITCH,this.switchScene)}getActiveScene(){return this.scene.manager.getScenes(!0)[0]}getCurrentScene(){return this.currentScene}get currentScene(){const e=this.storage.getState(),t=mp(e);let s;return t?s=this.scene.manager.getScene(t):s=this.getActiveScene(),s.scene}switchScene=e=>{this.currentScene.switch(e)};updateActiveSceneKey(e){e!==re.GLOBAL_SCENE&&this.storage.dispatch(Ca(e))}emitGameEventStartScene=e=>{const{key:t}=e.scene;console.info("%cScene start","color: #D27D2D",t),this.updateSceneState(),this.runMaskFadeOutAnimation(),this.updateActiveSceneKey(t),this.game.events.emit(Phaser.Scenes.Events.START,t),_o("scene",`Start scene: ${t}`)};emitGameEventSleepScene=e=>{const{key:t}=e.scene.scene;console.info("%cScene sleep","color: #D27D2D",t),t!==re.LOAD_SCENE&&(this.runMaskFadeInAnimation(),this.game.events.emit(Phaser.Scenes.Events.SLEEP,t))};emitGameEventWakeScene=e=>{const{key:t}=e.scene.scene;console.info("%cScene wake","color: #D27D2D",t),t!==re.LOAD_SCENE&&(this.updateSceneState(),this.runMaskFadeOutAnimation(),this.updateActiveSceneKey(t),this.game.events.emit(Phaser.Scenes.Events.WAKE,t))};emitGameEventPauseScene=e=>{const{key:t}=e.scene.scene;console.info("%cScene pause","color: #D27D2D",t),this.game.events.emit(Phaser.Scenes.Events.PAUSE,t)};emitGameEventResumeScene=e=>{const{key:t}=e.scene;console.info("%cScene resume","color: #D27D2D",t),this.game.events.emit(Phaser.Scenes.Events.RESUME,t)};emitGameEventShutdownScene=e=>{const{key:t}=e.scene.scene;console.info("%cScene shutdown","color: #D27D2D",t),this.game.events.emit(Phaser.Scenes.Events.SHUTDOWN,t)};logEventOpen(){}logPageviewOnOpen(){}}const qo=Rp,{NEW_EFFECTS:$0}=Ze,{Gameplay:Ap,Rollbar:_p}=GameCore.Configs;class Ip extends Phaser.Scene{isMusicLoaded=!1;isLazyLoadRequesting=!1;loadingPercent=0;preload(){window.getLoadingPerc=()=>this.loadingPercent,this.facebook.progressLoading.loadingProgressFbLoadScene(),this.analytics.event(U.SCREEN_OPEN,{screen_name:"LoadScene"});const e=t=>{this.loadingPercent=Math.max(this.loadingPercent,t*100),t===1&&this.load.off("progress",e),this.facebook.progressLoading.onProgress(t)};this.load.on("progress",e),this.load.on(Phaser.Loader.Events.FILE_LOAD_ERROR,t=>{const s=new np("Load resources at LoadScene failed.");tn(s,{file:t?.url})}),this.loadFonts(),this.load.image(Xe.AVATAR_DEFAULT.KEY,Xe.AVATAR_DEFAULT.FILE),this.world.isLandscape()?this.load.image(Xe.BACKGROUND.KEY,Xe.BACKGROUND.FILE_LANDSCAPE):this.load.image(Xe.BACKGROUND.KEY,Xe.BACKGROUND.FILE),this.load.atlas({key:A.DEFAULT.KEY,textureURL:A.DEFAULT.TEXTURE,atlasURL:A.DEFAULT.JSON}),this.load.multiatlas({key:A.GAMEPLAY.KEY,path:A.GAMEPLAY.PATH,atlasURL:A.GAMEPLAY.JSON}),this.load.multiatlas({key:A.EFFECTS.KEY,path:A.EFFECTS.PATH,atlasURL:A.EFFECTS.JSON}),this.load.atlas({key:A.TUTORIAL.KEY,textureURL:A.TUTORIAL.TEXTURE,atlasURL:A.TUTORIAL.JSON}),this.player.updateData().then(this.handleUpdateNotificationData).catch(t=>{this.rollbar.sendException(t)}),this.load.atlas({key:A.TILES.CANDY.KEY,textureURL:A.TILES.CANDY.TEXTURE,atlasURL:A.TILES.CANDY.JSON}),this.loadCurrentLevelTiles()}create(){this.audio.initSound(),this.analytics.event(U.LOAD_COMPLETE),this.facebook.on("startgame",this.handleFBInstantGameStarted),this.facebook.gameStarted(),this.setupGlobalScene(),this.lazyLoadResource(),this.logGlanceNewUserToRollbar(),this.setAdsAvailabilityThenStartGame()}setAdsAvailabilityThenStartGame(){if(!GameCore.Configs.Ads.Enabled){this.startGame();return}const e=setInterval(()=>{if(!window.__glanceAdsSDKInitiated)return;clearInterval(e),GameCore.Configs.Ads.Enabled=!1;const t=!window.GlanceGamingAdInterface,s=!window.GlanceGamingAdInterface.isLibraryInitialized||!window.GlanceGamingAdInterface.isLibraryInitialized(),o=!window.GlanceGamingAdInterface.showStickyBannerAd,i=!window.GlanceGamingAdInterface.loadRewardedAd;if(t||s||o||i){this.startGame();return}GameCore.Configs.Ads.Enabled=!0,this.startGame()},50)}handleFBInstantGameStarted=()=>{window.__fbGameReady=!0,this.player.updateData().catch(e=>{this.rollbar.sendException(e)}),this.player.requestConnectedPlayers()};handleUpdateNotificationData=()=>{const e=this.player.getPlayer(),{playerId:t,name:s,locale:o,data:i}=e,r=this.player.getCustomData("levelProgress");this.notification.updateData({playerId:t,name:s,photo:"",locale:o,friendIds:this.player.getConnectedPlayerIds(10,0),gameSettings:this.player.getPlayerSettings(),gameProgress:{currentLevel:r},gameStatistics:{highScore:i.score}}),this.notification.sendRequest()};setupGlobalScene(){const e=this.scene.get(re.GLOBAL_SCENE);e instanceof qo&&e.setup()}startGame=()=>{this.showStickyBannerAd(),this.preloadAds(),this.analytics.event(U.APP_READY),this.storage.dispatch(Ca(re.LOAD_SCENE)),this.storage.dispatch(lp())};showStickyBannerAd=()=>{this.ads.showBannerAdAsync().catch(e=>{console.warn(e)})};preloadAds=()=>{this.ads.preloadRewardedVideoAsync().catch(e=>{}),this.ads.preloadInterstitialAdAsync().catch(e=>{})};lazyLoadResource(){setTimeout(()=>{this.scene.wake(),this.loadSounds(),this.load.once(Phaser.Loader.Events.COMPLETE,()=>{this.scene.sleep()})},1500)}loadSounds(){const{player:e}=this.game,t=!!e.getPlayerSetting("music");this.loadSoundFX(),t&&this.loadMusic()}loadSoundFX(){Object.values(Z).forEach(t=>{this.load.audio(t,Ze.NEW_EFFECTS[t])})}loadMusic(){if(this.isMusicLoaded)return;this.isMusicLoaded=!0;const{FILE_KEY_COMPLETE:e}=Phaser.Loader.Events;this.scene.isSleeping()&&this.scene.wake(),this.load.once(`${e}audio-${Ze.BACKGROUND.KEY}`,this.handleLoadMusicCompleted),this.load.once(Phaser.Loader.Events.COMPLETE,()=>{this.scene.sleep()}),this.load.audio(Ze.BACKGROUND.KEY,Ze.BACKGROUND.FILE),this.load.start()}handleLoadMusicCompleted=()=>{this.audio.initMusic(Ze.BACKGROUND.KEY),this.audio.playMusic()};loadCurrentLevelTiles(){let e=this.player.getCustomData("levelProgress");GameCore.Utils.Valid.isNumber(e)||(e=1);let t=Ap.Themes;e<kt.length&&(t=kt[e].theme);for(const s of t)switch(s){case"cake":{console.log("Loaded cake"),this.load.atlas({key:A.TILES.CAKE.KEY,textureURL:A.TILES.CAKE.TEXTURE,atlasURL:A.TILES.CAKE.JSON});break}case"bird":{console.log("Loaded bird"),this.load.atlas({key:A.TILES.BIRD.KEY,textureURL:A.TILES.BIRD.TEXTURE,atlasURL:A.TILES.BIRD.JSON});break}case"fruit":{console.log("Loaded fruit"),this.load.atlas({key:A.TILES.FRUIT.KEY,textureURL:A.TILES.FRUIT.TEXTURE,atlasURL:A.TILES.FRUIT.JSON});break}case"flower":{console.log("Loaded flower"),this.load.atlas({key:A.TILES.FLOWER.KEY,textureURL:A.TILES.FLOWER.TEXTURE,atlasURL:A.TILES.FLOWER.JSON});break}case"umbrella":{console.log("Loaded umbrella"),this.load.atlas({key:A.TILES.UMBRELLA.KEY,textureURL:A.TILES.UMBRELLA.TEXTURE,atlasURL:A.TILES.UMBRELLA.JSON});break}case"food":{console.log("Loaded food"),this.load.atlas({key:A.TILES.FOOD.KEY,textureURL:A.TILES.FOOD.TEXTURE,atlasURL:A.TILES.FOOD.JSON});break}}}lazyLoadResources(){this.isLazyLoadRequesting=!1,this.lazyLoadTiles(),this.isLazyLoadRequesting&&(this.scene.wake(),this.load.once(Phaser.Loader.Events.COMPLETE,()=>{this.scene.sleep()}),this.load.start())}lazyLoadTiles(){this.textures.exists(A.TILES.CAKE.KEY)||(this.isLazyLoadRequesting=!0,console.log("Lazy load cake"),this.load.atlas({key:A.TILES.CAKE.KEY,textureURL:A.TILES.CAKE.TEXTURE,atlasURL:A.TILES.CAKE.JSON})),this.textures.exists(A.TILES.BIRD.KEY)||(this.isLazyLoadRequesting=!0,console.log("Lazy load bird"),this.load.atlas({key:A.TILES.BIRD.KEY,textureURL:A.TILES.BIRD.TEXTURE,atlasURL:A.TILES.BIRD.JSON})),this.textures.exists(A.TILES.FRUIT.KEY)||(this.isLazyLoadRequesting=!0,console.log("Lazy load fruit"),this.load.atlas({key:A.TILES.FRUIT.KEY,textureURL:A.TILES.FRUIT.TEXTURE,atlasURL:A.TILES.FRUIT.JSON})),this.textures.exists(A.TILES.FLOWER.KEY)||(this.isLazyLoadRequesting=!0,console.log("Lazy load flower"),this.load.atlas({key:A.TILES.FLOWER.KEY,textureURL:A.TILES.FLOWER.TEXTURE,atlasURL:A.TILES.FLOWER.JSON})),this.textures.exists(A.TILES.FOOD.KEY)||(this.isLazyLoadRequesting=!0,console.log("Lazy load food"),this.load.atlas({key:A.TILES.FOOD.KEY,textureURL:A.TILES.FOOD.TEXTURE,atlasURL:A.TILES.FOOD.JSON})),this.textures.exists(A.TILES.UMBRELLA.KEY)||(this.isLazyLoadRequesting=!0,console.log("Lazy load umbrella"),this.load.atlas({key:A.TILES.UMBRELLA.KEY,textureURL:A.TILES.UMBRELLA.TEXTURE,atlasURL:A.TILES.UMBRELLA.JSON}))}logGlanceNewUserToRollbar(){if(!_p.Enable)return;this.player.getPlayer().isUserNew&&"__GLANCE_ENV"in window&&this.rollbar.sendException(new Error("Glance new user"))}loadFonts(){switch(this.lang.getCurrentLanguage()){case"ja":B.PRIMARY={KEY:"Noto-Black-Normal",TEXTURE:"./assets/fonts/Noto-Black-Normal.png",DATA:"./assets/fonts/Noto-Black-Normal.xml"},B.SHADOW={KEY:"Noto-Black-Shadow",TEXTURE:"./assets/fonts/Noto-Black-Shadow.png",DATA:"./assets/fonts/Noto-Black-Shadow.xml"},B.RED_STROKE={KEY:"Noto-Black-Red-Stroke",TEXTURE:"./assets/fonts/Noto-Black-Red-Stroke.png",DATA:"./assets/fonts/Noto-Black-Red-Stroke.xml"},B.WHITE_AND_STROKE={KEY:"Noto-Black-White-Stroke",TEXTURE:"./assets/fonts/Noto-Black-White-Stroke.png",DATA:"./assets/fonts/Noto-Black-White-Stroke.xml"},B.YELLOW_AND_STROKE={KEY:"Noto-Black-Yellow-Stroke",TEXTURE:"./assets/fonts/Noto-Black-Yellow-Stroke.png",DATA:"./assets/fonts/Noto-Black-Yellow-Stroke.xml"},B.FONT_FAMILY="NotoSansJP-Black";break;case"zh":B.PRIMARY={KEY:"Noto-Black-Normal",TEXTURE:"./assets/fonts/NotoZh-Black-Normal.png",DATA:"./assets/fonts/NotoZh-Black-Normal.xml"},B.SHADOW={KEY:"Noto-Black-Shadow",TEXTURE:"./assets/fonts/NotoZh-Black-Shadow.png",DATA:"./assets/fonts/NotoZh-Black-Shadow.xml"},B.RED_STROKE={KEY:"Noto-Black-Red-Stroke",TEXTURE:"./assets/fonts/NotoZh-Black-Red-Stroke.png",DATA:"./assets/fonts/NotoZh-Black-Red-Stroke.xml"},B.WHITE_AND_STROKE={KEY:"Noto-Black-White-Stroke",TEXTURE:"./assets/fonts/NotoZh-Black-White-Stroke.png",DATA:"./assets/fonts/NotoZh-Black-White-Stroke.xml"},B.YELLOW_AND_STROKE={KEY:"Noto-Black-Yellow-Stroke",TEXTURE:"./assets/fonts/NotoZh-Black-Yellow-Stroke.png",DATA:"./assets/fonts/NotoZh-Black-Yellow-Stroke.xml"},B.FONT_FAMILY="NotoSansSC-Black";break;default:{const t=this.lang.getCurrentLanguage(),o=["en","id","ru"].indexOf(t)!==-1?"":`-${t}`;B.PRIMARY={KEY:"Roboto-Black-Normal",TEXTURE:`./assets/fonts/Roboto-Black-Normal${o}.png`,DATA:`./assets/fonts/Roboto-Black-Normal${o}.xml`},B.SHADOW={KEY:"Roboto-Black-Shadow",TEXTURE:`./assets/fonts/Roboto-Black-Shadow${o}.png`,DATA:`./assets/fonts/Roboto-Black-Shadow${o}.xml`},B.RED_STROKE={KEY:"Roboto-Black-Red-Stroke",TEXTURE:`./assets/fonts/Roboto-Black-Red-Stroke${o}.png`,DATA:`./assets/fonts/Roboto-Black-Red-Stroke${o}.xml`},B.WHITE_AND_STROKE={KEY:"Roboto-Black-White-Stroke",TEXTURE:`./assets/fonts/Roboto-Black-White-Stroke${o}.png`,DATA:`./assets/fonts/Roboto-Black-White-Stroke${o}.xml`},B.YELLOW_AND_STROKE={KEY:"Roboto-Black-Yellow-Stroke",TEXTURE:`./assets/fonts/Roboto-Black-Yellow-Stroke${o}.png`,DATA:`./assets/fonts/Roboto-Black-Yellow-Stroke${o}.xml`},B.FONT_FAMILY="Roboto-Black";break}}this.load.bitmapFont(B.SHADOW.KEY,B.SHADOW.TEXTURE,B.SHADOW.DATA),this.load.bitmapFont(B.PRIMARY.KEY,B.PRIMARY.TEXTURE,B.PRIMARY.DATA),this.load.bitmapFont(B.RED_STROKE.KEY,B.RED_STROKE.TEXTURE,B.RED_STROKE.DATA),this.load.bitmapFont(B.WHITE_AND_STROKE.KEY,B.WHITE_AND_STROKE.TEXTURE,B.WHITE_AND_STROKE.DATA),this.load.bitmapFont(B.YELLOW_AND_STROKE.KEY,B.YELLOW_AND_STROKE.TEXTURE,B.YELLOW_AND_STROKE.DATA)}}const Da=Ip,{KEY:Ce,FRAME:fe}=A.DEFAULT;class Mp extends GameCore.Screen{popup;title;buttonClose;contents;settingMusic;settingSound;settingVibrate;popupShowUpAnimation;popupFadeOutAnimation;contentShowUpAnimation;constructor(e,t,s,o){super(e,t,s,o),this.createPopup(),this.createTitle(),this.createButtons(),this.addItem(),this.arrangeItems(),this.createInput(),this.setDepth(Ct.POPUP),this.background.setAlpha(.8)}open(){super.open();const{player:e}=this.scene,t=e.getPlayerSettings(),{music:s,sound:o,vibrate:i}=t;this.settingMusic.updateStatus(s),this.settingSound.updateStatus(o),$s()&&this.settingVibrate.updateStatus(i),this.runOpenAnimation()}createInput(){this.buttonClose.setButtonHitSoundEffect(Z.CLOSE_POPUP_CLICK),this.buttonClose.onClick=this.handleClose,this.settingMusic.onClick=this.handleMusicSetting,this.settingSound.onClick=this.handleSoundSetting,$s()?this.settingVibrate.onClick=this.handleVibrateSetting:this.settingVibrate.kill()}handleClose=()=>{this.runCloseAnimation()};handleRestart=()=>{this.runCloseAnimation(),F.emit(G.REPLAY)};handleMusicSetting=e=>{if(this.scene.player.setSetting("music",e),e){const t=this.scene.game.scene.getScene(re.LOAD_SCENE);t instanceof Da&&t.loadMusic(),this.scene.audio.playMusic()}else this.scene.audio.pauseMusic()};handleSoundSetting=e=>{this.scene.player.setSetting("sound",e)};handleVibrateSetting=e=>{this.scene.player.setSetting("vibrate",e),ha(e)};createPopup(){this.popup=this.scene.add.container(0,0),this.popup.setSize(292,374);const e=this.scene.make.image({key:Ce,frame:fe.POPUP});e.setWorldSize(292,374),this.popup.add(e),this.add(this.popup),Phaser.Display.Align.In.Center(this.popup,this.zone)}createTitle(){this.title=this.scene.make.image({key:Ce,frame:this.scene.lang.Texture.text_pause});const e=this.scene.lang.getCurrentLanguage();let t=94,s=25;switch(e){case"ru":t=101,s=26;break;case"ja":t=112,s=28;break;case"it":t=97,s=25;break;case"tr":t=153,s=25;break;case"fr":t=93,s=25;break;case"de":t=93,s=25;break;case"id":t=77,s=25;break;case"pt":t=116,s=25;break;case"es":t=116,s=25;break;case"zh":t=56,s=29;break}this.title.setWorldSize(t,s),Phaser.Display.Align.In.TopCenter(this.title,this.popup,2,-23),this.popup.add(this.title)}createButtons(){const{music:e,sound:t,vibrate:s}=this.scene.player.getPlayerSettings();this.createCloseButton(),this.createContinueButton(),this.createRestartButton(),this.createMusicButton(e),this.createSoundButton(t),this.createVibrateButton(s)}createCloseButton(){this.buttonClose=new ve(this.scene,Ce,fe.BUTTON_RED_CIRCLE,36,36);const e=this.scene.make.image({key:Ce,frame:fe.ICON_X});e.setWorldSize(15,17),this.buttonClose.add(e),this.buttonClose.setName("Close"),this.popup.add(this.buttonClose),Phaser.Display.Align.In.TopRight(this.buttonClose,this.popup,-15,-15)}createContinueButton(){const e=new ve(this.scene,Ce,fe.BUTTON_BLUE_ROUNDED_RECT,184,51),t=this.scene.make.bitmapText({text:this.scene.lang.Text.continue,font:B.SHADOW.KEY,size:this.scene.fontSize(15),origin:{x:.5,y:.6}}),s=this.scene.make.image({key:Ce,frame:fe.ICON_CONTINUE});s.setWorldSize(21,26);const o=this.scene.make.image({key:Ce,frame:fe.BUTTON_BG});o.setWorldSize(184,51),e.add(s),e.add(t),Phaser.Display.Align.In.Center(t,e,16,-3),Phaser.Display.Align.In.LeftCenter(s,t,30,3),e.setName("Continue"),this.popup.add(o),this.popup.add(e),Phaser.Display.Align.In.Center(e,this.popup,0,30),Phaser.Display.Align.In.Center(o,this.popup,0,29.5),e.onClick=this.handleClose}createRestartButton(){const e=new ve(this.scene,Ce,fe.BUTTON_GREEN_ROUNDED_RECT,184,51),t=this.scene.make.bitmapText({text:this.scene.lang.Text.restart,font:B.SHADOW.KEY,size:this.scene.fontSize(15),origin:{x:.5,y:.6}}),s=this.scene.make.image({key:Ce,frame:fe.ICON_RESTART});s.setWorldSize(25,27);const o=this.scene.make.image({key:Ce,frame:fe.BUTTON_BG});o.setWorldSize(184,51),e.add(s),e.add(t);const r=this.scene.lang.getCurrentLanguage()==="ru"?30:35;Phaser.Display.Align.In.Center(t,e,16,-3),Phaser.Display.Align.In.LeftCenter(s,t,r,3),e.setName("Restart"),this.popup.add(o),this.popup.add(e);const n=20;Phaser.Display.Align.In.Center(e,this.popup,0,90+n),Phaser.Display.Align.In.Center(o,this.popup,0,89.5+n),e.onClick=this.handleRestart}createMusicButton(e){this.settingMusic=new Eo(this.scene,{enable:e,frameOn:fe.ICON_MUSIC_ON,frameOff:fe.ICON_MUSIC_OFF}),this.settingMusic.setName("Music"),this.settingMusic.button.setWorldSize(48,48)}createSoundButton(e){this.settingSound=new Eo(this.scene,{enable:e,frameOn:fe.ICON_SOUND_ON,frameOff:fe.ICON_SOUND_OFF}),this.settingSound.setName("Sound"),this.settingSound.button.setWorldSize(48,48)}createVibrateButton(e){this.settingVibrate=new Eo(this.scene,{enable:e,frameOn:fe.ICON_VIBRATE_ON,frameOff:fe.ICON_VIBRATE_OFF}),this.settingVibrate.setName("Vibrate"),this.settingVibrate.button.setWorldSize(48,48)}addItem(){this.contents=this.scene.add.group(),this.contents.addMultiple([this.settingMusic,this.settingSound,this.settingVibrate]),this.popup.add(this.contents.getChildren())}arrangeItems(){const t=-this.popup.height*.16;$s()?(this.settingSound.setPosition(-70,t),this.settingMusic.setPosition(0,t),this.settingVibrate.setPosition(70,t)):(this.settingSound.setPosition(-70,t),this.settingMusic.setPosition(70,t))}runOpenAnimation(){this.popupShowUpAnimation?.tween?.isPlaying()||(this.runPopupEntrancesAnimation(0,400),this.runPopupContentEntrancesAnimation(200,300))}runCloseAnimation(){this.popupFadeOutAnimation?.tween?.isPlaying()||this.runPopupExitsAnimation(0,200)}runPopupEntrancesAnimation(e,t){if(!this.popupShowUpAnimation){const{y:s,scale:o}=this.popup;this.popupShowUpAnimation=new Gs({targets:[this.popup],delay:e,duration:t,props:{y:{from:350,to:s},alpha:{start:1,from:1,to:1},scale:{start:0,from:0,to:o}}})}this.popupShowUpAnimation.play()}runPopupContentEntrancesAnimation(e,t){const s=this.contents.getChildren(),o=s.map(i=>i.alpha);s.forEach(i=>{i.setAlpha(0)}),this.contentShowUpAnimation?.remove(),this.contentShowUpAnimation=new Zo({targets:s,duration:t,delay:e,props:{alpha:{getStart:()=>0,getEnd:(i,r,n,a)=>o[a]}}}),this.contentShowUpAnimation.play()}runPopupExitsAnimation(e,t){this.popupFadeOutAnimation||(this.popupFadeOutAnimation=new is({targets:[this.popup],delay:e,duration:t,props:{y:250,scale:0},onComplete:()=>{this.popup.setY(0),this.scene.screen.close(this.name)}})),this.popupFadeOutAnimation.play()}}class Cp extends ve{paddingZone;showDebugZone;debugZone;constructor(e,t){const{key:s,frame:o,width:i,height:r,usePixelPerfect:n}=t;super(e,s,o,i,r,n);const{paddingZone:a=0,showDebugZone:l=!1}=t;this.paddingZone=a,this.showDebugZone=l,this.updateSize()}updateSize(){super.updateSize();const{width:e,height:t}=this,s=e+this.paddingZone,o=t+this.paddingZone;this.setSize(s,o),this.hitZone.setSize(s,o),this.showDebugZone&&(this.debugZone?.destroy(),this.debugZone=this.hitZone.drawDebugBox(10699282,.5),this.add(this.debugZone))}}const Na=Cp,{DEFAULT:Es,EFFECTS:dr}=A;class Lp extends Phaser.GameObjects.Container{whiteGlow;bomb;explosion;bombShakeTween;glowSpinTween;constructor(e){super(e),this.createWhiteGlow(),this.createBomb(),this.createExplosion()}createWhiteGlow(){const e=this.scene.add.image(0,0,Es.KEY,Es.FRAME.ART_WHITE_GLOW);e.setWorldSize(110,110),this.add(e),e.setPosition(0,0),this.whiteGlow=e}createBomb(){const e=this.scene.add.image(0,0,Es.KEY,Es.FRAME.ICON_BOMB);e.setWorldSize(57,63),this.add(e),e.setPosition(0,0),this.bomb=e}createExplosion(){const e=this.scene.add.sprite(0,0,dr.KEY,dr.FRAME.EFFECT_BOMB_EXPLOSION+"0");this.add(e),e.setPosition(0,0),e.setWorldSize(45,45),e.kill(),this.explosion=e}runBombShakeAnimation(){this.bombShakeTween?.stop(),this.bomb.setPosition(0,0),this.bomb.revive(),this.whiteGlow.revive(),this.explosion.kill(),this.bombShakeTween=this.scene.tweens.add({targets:this.bomb,x:-2,delay:800,duration:50,ease:"Sine.easeInOut",yoyo:!0,repeat:6,onComplete:this.runBombExplodeAnimation})}runGlowSpinAnimation(){this.glowSpinTween?.stop(),this.whiteGlow.revive(),this.whiteGlow.angle=0,this.glowSpinTween=this.scene.tweens.add({targets:this.whiteGlow,angle:360,duration:5e3,repeat:-1})}runBombExplodeAnimation=()=>{this.bomb.kill(),this.whiteGlow.kill(),this.explosion.revive(),this.explosion.anims.play(V.BOMB_EXPLOSION.KEY,!0),this.explosion.on(Phaser.Animations.Events.ANIMATION_COMPLETE,()=>{this.explosion.kill(),this.runBombShakeAnimation(),this.runGlowSpinAnimation()})};play(){this.runGlowSpinAnimation(),this.runBombShakeAnimation()}stop(){this.bombShakeTween?.stop(),this.glowSpinTween?.stop(),this.bomb.kill(),this.explosion.kill(),this.whiteGlow.kill()}revive(){super.revive(),this.whiteGlow.angle=0,this.whiteGlow.revive(),this.bomb.setPosition(0,0),this.bomb.revive()}}const Dp=Lp,{KEY:mr,FRAME:ur}=A.DEFAULT;class Np extends Phaser.GameObjects.Container{clock;clockSpinTween;whiteGlow;glowSpinTween;constructor(e){super(e),this.createWhiteGlow(),this.createClock()}createClock(){const e=this.scene.add.image(0,0,mr,ur.ICON_TIMEOUT_CLOCK);e.setWorldSize(50,68.7),this.add(e),e.setPosition(0,0),this.clock=e}createWhiteGlow(){const e=this.scene.add.image(0,0,mr,ur.ART_WHITE_GLOW);e.setWorldSize(110,110),this.add(e),e.setPosition(0,0),this.whiteGlow=e}runClockSpinAnimation(){this.clockSpinTween?.stop(),this.clock.angle=0,this.clock.setFlipY(!1),this.clock.revive(),this.clockSpinTween=this.scene.tweens.add({targets:this.clock,angle:this.clock.angle+180,duration:800,delay:800,ease:Phaser.Math.Easing.Sine.InOut,repeat:-1,repeatDelay:800,onStart:()=>{this.clock.setFlipY(!1)}})}runGlowSpinAnimation(){this.glowSpinTween?.stop(),this.whiteGlow.angle=0,this.whiteGlow.revive(),this.glowSpinTween=this.scene.tweens.add({targets:this.whiteGlow,angle:360,duration:5e3,repeat:-1})}play(){this.runClockSpinAnimation(),this.runGlowSpinAnimation()}stop(){this.clockSpinTween?.stop(),this.glowSpinTween?.stop()}revive(){super.revive(),this.clock.angle=0,this.clock.setFlipY(!1),this.clock.revive(),this.whiteGlow.angle=0,this.whiteGlow.revive()}}const Gp=Np,{KEY:Fe,FRAME:je}=A.DEFAULT;class Fp extends GameCore.Screen{level;reason;isUseRescue;popup;levelText;reasonText;reasonIcon;resultBombAnimation;resultTimeOutAnimation;rescueButton;replayButton;rescueButtonAnimation;adsTimer;popupShowUpAnimation;popupFadeOutAnimation;constructor(e,t,s,o){super(e,t,s,o),this.setDepth(Ct.POPUP),this.background.setAlpha(.8),this.createPopup()}open=e=>{super.open(),this.isUseRescue=!1,this.level=e.level,this.reason=e.reason,this.updateLevel(),this.updateReason(),this.runOpenAnimation(),this.runContinueButtonAnimation()};close(){this.resultBombAnimation.stop(),this.resultBombAnimation.kill(),this.resultTimeOutAnimation.stop(),this.resultTimeOutAnimation.kill(),super.close()}handleShowRewardedVideoAd=async()=>{const{globalScene:e,audio:t}=this.scene.game;let s=null;try{if(this.isUseRescue)return;this.isUseRescue=!0,s=e.time.delayedCall(200,()=>{e.screen.open($.NOTIFY_SCREEN,{message:this.scene.lang.Text.loading_ads,duration:0,loading:!0})}),t.pauseMusic(),t.pauseAllSounds(),t.muteAll(),await this.scene.ads.showRewardedVideoAsync(),e.screen.events.off(GameCore.Screens.Events.CLOSE),this.runCloseAnimation(),this.popupFadeOutAnimation.tween?.once(Phaser.Tweens.Events.TWEEN_COMPLETE,()=>{F.emit(G.RESCUE,{reason:this.reason})}),this.scene.audio.playSound(Z.DAILY_REWARD),s?.remove(),e.screen.close($.NOTIFY_SCREEN)}catch(o){if(s?.remove(),o instanceof Object&&GameCore.Utils.Object.hasOwn(o,"code")&&o.code==="USER_INPUT"){this.showNotifySkipAds();return}this.showNotifyNoAds()}finally{this.adsTimer?.destroy(),this.scene.audio.unmuteAll(),this.scene.audio.playMusic(),this.scene.audio.resumeAllSounds(),this.scene.ads.preloadRewardedVideoAsync().catch(o=>{})}};showNotifyNoAds=e=>{if(e&&e.name!==$.NOTIFY_SCREEN)return;const{globalScene:t}=this.scene.game;t.screen.events.off(GameCore.Screens.Events.CLOSE),t.screen.events.on(GameCore.Screens.Events.CLOSE,this.replayGame),t.screen.open($.NOTIFY_SCREEN,{message:this.scene.lang.Text.no_ads,duration:2e3,loading:!1})};showNotifySkipAds=()=>{const{globalScene:e}=this.scene.game;e.screen.events.off(GameCore.Screens.Events.CLOSE),e.screen.events.on(GameCore.Screens.Events.CLOSE,this.replayGame),e.screen.open($.NOTIFY_SCREEN,{message:`${this.scene.lang.Text.no_rewards_1}
${this.scene.lang.Text.no_rewards_2}`,duration:3e3,loading:!1})};replayGame=e=>{if(e&&e.name!==$.NOTIFY_SCREEN)return;const{globalScene:t}=this.scene.game;t.screen.events.off(GameCore.Screens.Events.CLOSE,this.replayGame),this.runCloseAnimation(),F.emit(G.GAME_OVER_REPLAY)};handleReplay=()=>{this.runCloseAnimation(),F.emit(G.GAME_OVER_REPLAY)};createContent(){this.createTitle(),this.createLevelText(),this.createReasonText(),this.createReasonIcon(),this.createResultBombAnimation(),this.createResultTimeOutAnimation(),this.createRescueButton(),this.createReplayText()}createPopup(){this.popup=this.scene.add.container(),this.popup.setSize(292,374);const e=this.scene.make.image({key:Fe,frame:je.POPUP});e.setWorldSize(292,374);const t=this.scene.make.image({key:Fe,frame:je.ART_BG_LIGHT});t.setWorldSize(244,244),this.popup.add([t,e]),this.add(this.popup),this.createContent(),Phaser.Display.Align.In.Center(this.popup,this.zone,0,-50)}createTitle(){const e=this.scene.make.image({key:Fe,frame:this.scene.lang.Texture.text_failed}),t=this.scene.lang.getCurrentLanguage();let s=118;switch(t){case"ru":s=181;break;case"ja":s=57;break;case"pt":s=127;break;case"es":s=118;break;case"de":s=222;break;case"it":s=232;break;case"fr":s=107*(30/36);break;case"zh":s=62*(30/33);break;case"tr":s=173*(30/37);break}e.setWorldSize(s,30),this.popup.add(e),Phaser.Display.Align.In.TopCenter(e,this.popup,0,-20)}createLevelText(){this.levelText=this.scene.make.bitmapText({size:this.scene.fontSize(20),font:B.YELLOW_AND_STROKE.KEY,origin:{x:.5,y:.5},text:"Level X"}),this.popup.add(this.levelText),Phaser.Display.Align.In.TopCenter(this.levelText,this.popup,0,-75)}createReasonText(){this.reasonText=this.scene.make.bitmapText({size:this.scene.fontSize(16),font:B.YELLOW_AND_STROKE.KEY,origin:{x:.5,y:.5}}),this.reasonText.kill(),this.popup.add(this.reasonText);const e=this.scene.lang.getCurrentLanguage();let t=0;switch(e){case"ja":t=5}Phaser.Display.Align.In.Center(this.reasonText,this.popup,t,60)}createReasonIcon(){this.reasonIcon=this.scene.make.image({key:Fe,frame:je.ICON_LOSE}),this.reasonIcon.setWorldSize(60,60),this.reasonIcon.kill(),this.popup.add(this.reasonIcon),Phaser.Display.Align.In.Center(this.reasonIcon,this.popup,-60,60)}createResultBombAnimation(){this.resultBombAnimation=new Dp(this.scene),this.popup.add(this.resultBombAnimation),Phaser.Display.Align.In.Center(this.resultBombAnimation,this.popup,0,-15),this.resultBombAnimation.kill()}createResultTimeOutAnimation(){this.resultTimeOutAnimation=new Gp(this.scene),this.popup.add(this.resultTimeOutAnimation),Phaser.Display.Align.In.Center(this.resultTimeOutAnimation,this.popup,0,-15),this.resultTimeOutAnimation.kill()}updateLevel(){this.levelText.setText(`${this.scene.lang.Text.level} ${this.level}`)}updateReason(){const e=this.scene.fontSize(16);switch(this.reasonText.revive(),this.reason){case"bombExplosive":this.resultBombAnimation.revive(),this.resultBombAnimation.play(),this.reasonText.setText(this.scene.lang.Text.reason_bomb);break;case"timeUp":this.resultTimeOutAnimation.revive(),this.resultTimeOutAnimation.play(),this.reasonIcon.setFrame(je.ICON_CLOCK),this.reasonText.setText(this.scene.lang.Text.reason_time_out);break;default:this.reasonText.setText("You have failed the level!")}this.reasonText.setFontSize(e)}createRescueButton(){this.rescueButton=new ve(this.scene,Fe,je.BUTTON_GREEN_ROUNDED_RECT,184,51),this.rescueButton.setName("Continue");const e=this.scene.make.image({key:Fe,frame:je.BUTTON_BG});e.setWorldSize(184,51),this.rescueButton.onClick=this.handleShowRewardedVideoAd;const t=this.scene.add.image(0,0,Fe,je.ICON_ADS);t.setWorldSize(27,29),Phaser.Display.Align.In.Center(t,this.rescueButton,-65),this.rescueButton.add(t);const s=this.scene.lang.getCurrentLanguage();let o=20;switch(s){case"ru":o=17;break;case"de":o=16;break}const i=this.scene.make.bitmapText({size:this.scene.fontSize(o),text:this.scene.lang.Text.resurrection,font:B.WHITE_AND_STROKE.KEY,origin:{x:.38,y:.75}});this.rescueButton.add(i),this.popup.add(e),this.popup.add(this.rescueButton),Phaser.Display.Align.In.BottomCenter(this.rescueButton,this.popup,0,-40),Phaser.Display.Align.In.Center(e,this.rescueButton)}createReplayText(){this.replayButton=new Na(this.scene,{key:Fe,frame:je.NO_THANK_TEXT,paddingZone:0}),this.replayButton.button.kill(),this.replayButton.setName("Replay");const e=this.scene.make.image({key:Fe,frame:this.scene.lang.Texture.text_replay}),t=this.scene.lang.getCurrentLanguage();let s=59,o=19;switch(t){case"ru":s=75,o=18;break;case"ja":s=57,o=19;break;case"id":s=149,o=19;break;case"de":s=143,o=18;break;case"tr":s=143,o=18;break;case"it":s=137,o=18;break;case"pt":s=100,o=22;break;case"es":s=107,o=22;break;case"zh":s=70,o=18;break;case"fr":s=81,o=18;break}e.setWorldSize(s,o),this.replayButton.add(e),this.popup.add(this.replayButton),this.replayButton.onClick=this.handleReplay,this.replayButton.setPosition(0,this.popup.height/2+15)}runContinueButtonAnimation(){this.rescueButtonAnimation||(this.rescueButtonAnimation=new Ns({targets:[this.rescueButton],props:{scale:"-=0.02"}})),this.rescueButtonAnimation?.play()}runOpenAnimation(){this.popupShowUpAnimation?.tween?.isPlaying()||this.runPopupEntrancesAnimation(0,400)}runCloseAnimation(){this.popupFadeOutAnimation?.tween?.isPlaying()||this.runPopupExitsAnimation(0,200)}runPopupEntrancesAnimation(e,t){if(!this.popupShowUpAnimation){const{y:s,scale:o}=this.popup;this.popupShowUpAnimation=new Gs({targets:[this.popup],delay:e,duration:t,props:{y:{from:s+400,to:s},alpha:{start:1,from:1,to:1},scale:{start:0,from:0,to:o}},onComplete:()=>{this.updateLevel(),this.updateReason()}})}this.popupShowUpAnimation.play()}runPopupExitsAnimation(e,t){this.popupFadeOutAnimation||(this.popupFadeOutAnimation=new is({targets:[this.popup],delay:e,duration:t,props:{y:250,scale:0},onComplete:()=>{this.popup.setY(0),this.scene.screen.close(this.name)}})),this.popupFadeOutAnimation.play()}}const Bp={targets:[],repeat:3,duration:33,ease:Phaser.Math.Easing.Linear,props:{y:5},yoyo:!0};class Up extends Pe{targetY;shakeAmount;constructor(e){super(Bp,e),this.config?.props&&(this.targetY=this.config.targets[0].y,this.shakeAmount=this.config.props.y-this.targetY,this.tween?.on(Phaser.Tweens.Events.TWEEN_REPEAT,this.handleSwitchPosition))}handleSwitchPosition=()=>{this.shakeAmount*=-.7,this.tween?.updateTo("y",this.targetY+this.shakeAmount)}}const{KEY:Hp,TEXTURE:Yp,FRAME_RATE:Wp,END:Kp,PREFIX:zp,ZERO_PAD:jp}=V.RIBBON_A;class $p extends Phaser.Animations.Animation{constructor(e){const t={repeat:-1,frameRate:Wp,frames:e.generateFrameNames(Yp,{prefix:zp,end:Kp,zeroPad:jp,start:1}),yoyo:!0,showOnStart:!0};super(e,Hp,t)}}const Vp=$p,{KEY:Xp,TEXTURE:Zp,FRAME_RATE:qp,END:Jp,PREFIX:Qp,ZERO_PAD:eb}=V.RIBBON_B;class tb extends Phaser.Animations.Animation{constructor(e){const t={repeat:-1,frameRate:qp,frames:e.generateFrameNames(Zp,{prefix:Qp,end:Jp,zeroPad:eb,start:1}),yoyo:!0,showOnStart:!0};super(e,Xp,t)}}const sb=tb,{KEY:ob,TEXTURE:ib,FRAME_RATE:rb,END:ab,PREFIX:nb,ZERO_PAD:lb}=V.RIBBON_C;class cb extends Phaser.Animations.Animation{constructor(e){const t={repeat:-1,frameRate:rb,frames:e.generateFrameNames(ib,{prefix:nb,end:ab,zeroPad:lb,start:1}),yoyo:!0,showOnStart:!0};super(e,ob,t)}}const db=cb,{KEY:mb,TEXTURE:ub,FRAME_RATE:hb,END:fb,PREFIX:pb,ZERO_PAD:bb}=V.RIBBON_D;class gb extends Phaser.Animations.Animation{constructor(e){const t={repeat:-1,frameRate:hb,frames:e.generateFrameNames(ub,{prefix:pb,end:fb,zeroPad:bb,start:1}),yoyo:!0,showOnStart:!0};super(e,mb,t)}}const vb=gb,{KEY:Tb,TEXTURE:wb,FRAME_RATE:Eb,END:yb,PREFIX:Pb,ZERO_PAD:Sb}=V.CONFETTI_STAR_X;class kb extends Phaser.Animations.Animation{constructor(e){const t={repeat:-1,frameRate:Eb,frames:e.generateFrameNames(wb,{prefix:Pb,end:yb,zeroPad:Sb,start:1}),yoyo:!0,showOnStart:!0};super(e,Tb,t)}}const xb=kb,{KEY:Ob,TEXTURE:Rb,FRAME_RATE:Ab,END:_b,PREFIX:Ib,ZERO_PAD:Mb}=V.CONFETTI_STAR_Y;class Cb extends Phaser.Animations.Animation{constructor(e){const t={repeat:-1,frameRate:Ab,frames:e.generateFrameNames(Rb,{prefix:Ib,end:_b,zeroPad:Mb,start:1}),showOnStart:!0};super(e,Ob,t)}}const Lb=Cb;class Db extends Phaser.GameObjects.Particles.Particle{scene;ribbon;graphics;colorUse;lastChange;currentFrame;isYoyo;isGravityChanged;points;constructor(e){super(e),this.scene=e.manager.scene,this.points=new Array(10).fill(null).map(()=>({x:0,y:0})),this.isYoyo=!1,this.isGravityChanged=!1,this.lastChange=0,this.currentFrame=-1,this.createGraphics(),this.randomRibbonUsedWhenFall()}randomRibbonUsedWhenFall(){switch(Phaser.Math.Between(0,3)){case 0:this.ribbon=this.scene.anims.get(V.RIBBON_A.KEY);break;case 1:this.ribbon=this.scene.anims.get(V.RIBBON_B.KEY);break;case 2:this.ribbon=this.scene.anims.get(V.RIBBON_C.KEY);break;case 3:this.ribbon=this.scene.anims.get(V.RIBBON_D.KEY);break;default:this.ribbon=this.scene.anims.get(V.RIBBON_A.KEY);break}}setRibbonPosition(e,t){this.points.map(s=>{s.x=e,s.y=t})}createGraphics(){const e=[8443204,2928867,12013036,16376097,15285798];this.colorUse=e[Phaser.Math.Between(0,e.length-1)],this.graphics=this.scene.add.graphics({lineStyle:{width:3,color:this.colorUse}});const{x:t,y:s,depth:o}=this.emitter.manager;this.graphics.setDepth(o),this.graphics.setPosition(t,s)}update(e,t,s){const o=super.update(e,t,s);return this.updateFrames(e),this.updatePoints(),this.updateGraphics(),this.updateGravity(),this.updateVelocity(),this.updateColor(),o}updateFrames(e){this.lastChange+=e,this.lastChange>=this.ribbon.msPerFrame&&(this.isYoyo?this.currentFrame--:this.currentFrame++,this.currentFrame<0&&(this.isYoyo=!1,this.currentFrame=1),this.currentFrame>=this.ribbon.frames.length&&(this.isYoyo=!0,this.currentFrame-=1),this.frame=this.ribbon.frames[this.currentFrame].frame,this.lastChange-=this.ribbon.msPerFrame)}updatePoints(){this.graphics.visible&&(this.points.shift(),this.points.push({x:this.x,y:this.y}))}updateGraphics(){if(this.graphics.visible){for(const e of this.points)if(e.y===0)return;this.graphics.clear(),this.graphics.strokePoints(this.points)}}updateGravity(){this.lifeCurrent>this.life-2e3||this.isGravityChanged||(this.isGravityChanged=!0,this.graphics.destroy(),this.emitter.setVisible(!0),this.emitter.setGravityY(45))}updateVelocity(){if(this.graphics.visible){if(this.lifeCurrent>this.life-1800){this.velocityX+=Phaser.Math.Between(-12,12);return}this.velocityX>0?this.velocityX+=Phaser.Math.Between(-10,6):this.velocityX+=Phaser.Math.Between(-6,10)}}updateColor(){this.graphics.visible||(this.tint=this.colorUse)}}const Nb=Db;class Gb extends Phaser.GameObjects.Particles.Particle{scene;isYoyo;isGravityChanged;lastChange;currentFrame;star;starX;starY;constructor(e){super(e),this.isYoyo=!1,this.isGravityChanged=!1,this.lastChange=0,this.currentFrame=-1,this.scene=e.manager.scene,this.starX=this.scene.anims.get(V.CONFETTI_STAR_X.KEY),this.starY=this.scene.anims.get(V.CONFETTI_STAR_Y.KEY),this.star=this.starX}update(e,t,s){const o=super.update(e,t,s);return this.updateGravity(),this.updateVelocity(),this.updateFrameRate(),this.updateFrames(e),o}updateGravity(){this.lifeCurrent>this.life-2e3||this.isGravityChanged||(this.isGravityChanged=!0,this.emitter.setGravityY(15),this.emitter.setSpeedX(0))}updateVelocity(){this.lifeCurrent>this.life-2e3||(this.velocityX>0?this.velocityX+=Phaser.Math.Between(-6,3):this.velocityX+=Phaser.Math.Between(-3,6))}updateFrames(e){if(this.lastChange+=e,this.lastChange>=this.star.msPerFrame){const t=Phaser.Math.RND.between(0,1);this.star=t>0?this.starX:this.starY,this.isYoyo?this.currentFrame--:this.currentFrame++,this.currentFrame<0&&(this.isYoyo=!1,this.currentFrame=1,this.emitter.setAlpha(1)),this.currentFrame>=this.star.frames.length&&(this.isYoyo=!0,this.currentFrame-=1,this.emitter.setAlpha(.8)),this.frame=this.star.frames[this.currentFrame].frame,this.lastChange-=this.star.msPerFrame}}updateFrameRate(){this.lifeCurrent<this.life-2e3?this.star.msPerFrame=150:this.star.msPerFrame=Phaser.Math.RND.between(300,600)}}const Fb=Gb,{KEY:Bb,FRAME:yo}=A.EFFECTS;class Ub extends Phaser.GameObjects.Particles.ParticleEmitterManager{emitterConfetti;emitterRibbons;ribbonConfig;confettiConfig;width;height;isDesktop;constructor(e,t){super(e,Bb,yo.BLANK),this.isDesktop=t,this.emitterRibbons=[],this.emitterConfetti=[],this.createConfigs(),this.createAnimations(),this.scene.add.existing(this)}createConfigs(){const e=[7915829,3184860,10768119,16766779,11337728],t=1/this.scene.world.getPixelRatio();this.ribbonConfig={on:!1,visible:!1,timeScale:1.5,frame:yo.BLANK,particleBringToTop:!0,speedY:{min:this.isDesktop?-250:-480,max:this.isDesktop?-330:-560},gravityY:this.isDesktop?160:290,lifespan:{min:4e3,max:6e3},rotate:{start:0,end:360*5,random:!0},scale:{min:t*.6,max:t},particleClass:Nb},this.confettiConfig={on:!1,delay:200,timeScale:2,tint:e,particleBringToTop:!0,frame:yo.PREFIX_ANIMATION_RIBBON_CONFETTI_A+"1",speedY:{min:this.isDesktop?-250:-460,max:this.isDesktop?-330:-580},gravityY:this.isDesktop?160:280,lifespan:{min:5e3,max:8e3},rotate:{start:0,end:360*3},scale:{min:t*.6,max:t},particleClass:Fb}}createAnimations(){if(!this.scene.anims.get(V.CONFETTI_STAR_X.KEY)){const e=new xb(this.scene.anims);this.scene.anims.add(V.CONFETTI_STAR_X.KEY,e)}if(!this.scene.anims.get(V.CONFETTI_STAR_Y.KEY)){const e=new Lb(this.scene.anims);this.scene.anims.add(V.CONFETTI_STAR_Y.KEY,e)}if(!this.scene.anims.get(V.RIBBON_A.KEY)){const e=new Vp(this.scene.anims);this.scene.anims.add(V.RIBBON_A.KEY,e)}if(!this.scene.anims.get(V.RIBBON_B.KEY)){const e=new sb(this.scene.anims);this.scene.anims.add(V.RIBBON_B.KEY,e)}if(!this.scene.anims.get(V.RIBBON_C.KEY)){const e=new db(this.scene.anims);this.scene.anims.add(V.RIBBON_C.KEY,e)}if(!this.scene.anims.get(V.RIBBON_D.KEY)){const e=new vb(this.scene.anims);this.scene.anims.add(V.RIBBON_D.KEY,e)}}run(e,t,s,o){this.setPosition(e,t),this.width=s,this.height=o,this.createEmitters(),this.emitterConfetti.forEach(i=>{i.emitParticle(this.isDesktop?40:25)}),this.emitterRibbons.forEach(i=>{i.emitParticle(this.isDesktop?35:20)})}stop(){this.emitterConfetti.forEach(e=>{e.killAll()}),this.emitterRibbons.forEach(e=>{e.killAll()}),this.kill()}createEmitters(){this.emitterRibbons=[],this.emitterConfetti=[],this.createConfettiLeftEmitter(),this.createConfettiRightEmitter(),this.createRibbonLeftEmitter(),this.createRibbonRightEmitter()}createConfettiLeftEmitter(){const e={...this.confettiConfig,speedX:{min:5,max:90}},t=this.createEmitter(e);this.emitterConfetti.push(t)}createConfettiRightEmitter(){const{width:e}=this,t={...this.confettiConfig,x:e,speedX:{min:-5,max:-90}},s=this.createEmitter(t);this.emitterConfetti.push(s)}createRibbonLeftEmitter(){const e={...this.ribbonConfig,speedX:{min:20,max:80},emitCallback:s=>{s.setRibbonPosition(0,0)}},t=this.createEmitter(e);this.emitterRibbons.push(t)}createRibbonRightEmitter(){const{width:e}=this,t={...this.ribbonConfig,x:e,speedX:{min:-20,max:-80},emitCallback:o=>{o.setRibbonPosition(e,0)}},s=this.createEmitter(t);this.emitterRibbons.push(s)}killAllParticles(){this.emitterConfetti.forEach(e=>{e.forEachAlive(t=>{t.lifeCurrent=0},this)}),this.emitterRibbons.forEach(e=>{e.forEachAlive(t=>{t.lifeCurrent=0},this)})}}const{KEY:Hb,FRAME:Yb}=A.EFFECTS;class Wb extends Phaser.GameObjects.Particles.ParticleEmitterManager{emitter;emitZone;constructor(e,t){super(e,Hb),this.createEmitZone(),this.setDepth(W.ON_TOP),this.createExplodeAnimation(t),this.scene.add.existing(this)}createEmitZone(){this.emitZone=new Phaser.Geom.Circle(0,0,25)}createExplodeAnimation(e){const t=1/this.scene.world.getPixelRatio();let s={frame:[Yb.ANIMATION_STAR_X+"1"],scale:{start:t*1.5,end:t*5,random:!0},lifespan:{min:600,max:900},alpha:{start:.5,end:1},speed:{min:50,max:60},rotate:{start:0,end:360},tint:[16777215,16776960,16750848],emitZone:{source:this.emitZone,type:"random"},particleClass:Kb,on:!1};e&&(s=Ye(s,e)),this.emitter=this.createEmitter(s)}explode(e=8,t,s){this.emitter.explode(e,t,s)}}class Kb extends Phaser.GameObjects.Particles.Particle{constructor(e){super(e);const t=Math.random()*.18+.01;this.data={tint:{min:16777215,max:16777215,current:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:t},scaleY:{min:1,max:1}}}fire(e,t){super.fire(e,t);const{x:s,y:o}=this.emitter;e||(e=s.defaultValue),t||(t=o.defaultValue);const i=Phaser.Math.Distance.Between(0,0,this.velocityX,this.velocityY),r=Math.atan2(this.y-t,this.x-e);this.velocityX=i*Math.cos(r),this.velocityY=i*Math.sin(r),this.rotation=r}update(e,t,s){return super.update(e,t,s)}}const{KEY:zb,FRAME:hr}=A.EFFECTS;class jb extends Phaser.GameObjects.Particles.ParticleEmitterManager{config;emitZone;emitter;constructor(e,t){super(e,zb,hr.BLANK),this.config=t||{},this.createEmitZone(),this.createEmitters(),this.scene.add.existing(this)}createEmitZone(){this.emitZone=new Phaser.Geom.Rectangle}createEmitters(){const e=1/this.scene.world.getPixelRatio(),t={on:!1,frame:hr.FX_STAR_YELLOW,emitZone:{source:this.emitZone,type:"random"},timeScale:1,frequency:150,speedY:{min:-20,max:-60},alpha:{start:1,end:0,ease:Phaser.Math.Easing.Cubic.Out},scale:{start:e*1,end:0,ease:Phaser.Math.Easing.Cubic.Out},lifespan:{min:1500,max:2500}},s=Ye(t,this.config);this.emitter=this.createEmitter(s)}run(e,t,s,o,i){this.stop(),this.emitZone.setSize(o,i),this.emitZone.setPosition(t-o/2,s-i/2),this.emitter.setQuantity(e),this.emitter.start()}stop(){this.emitter?.killAll(),this.emitter?.stop()}explode(){this.emitter.explode(100,0,0)}}class $b extends ve{constructor(e,t,s,o,i,r=!1){super(e,t,s,o,i,r)}processCallback(e){this.upAnimation?.stop(),this.downAnimation?.stop(),this.scaleUp!==-1&&this.setScale(this.scaleUp),e()}}const Ga=$b,{KEY:fr,FRAME:pr}=A.DEFAULT;class Vb extends Ga{text1;icon;x2;text2;constructor(e,t,s,o,i){super(e,t,s,o,i),this.createAdsICon(),this.createTexts()}createAdsICon(){const e=this.scene.lang.getCurrentLanguage();let t=-50,s=1;switch(e){case"ru":t=-65,s=.9;break;case"es":case"pt":t=-65;break;case"fr":case"it":t=-55;break}const o=this.scene.make.image({key:fr,frame:pr.ICON_ADS});o.setOrigin(.5,.5),o.setWorldSize(30.5*s,33*s),o.setPosition(t,0),this.add(o),this.icon=o}createTexts(){const e=this.scene.lang.getCurrentLanguage();let t=23,s=50,o=23,i=0,r=1;switch(e){case"ru":t=20,s=65,o=18,r=.75;break;case"ja":t=23,i=-3;break;case"id":o=21,r=.75;break;case"pt":case"es":o=20,r=.8,s=65;break;case"fr":case"it":o=20,r=.8,s=55;break;case"de":o=21;break}const n=this.scene.make.bitmapText({font:B.SHADOW.KEY,text:this.scene.lang.Text.get,size:this.scene.fontSize(o),origin:{x:.5,y:.75}});this.add(n),this.text1=n;const a=this.scene.make.image({key:fr,frame:pr.X2});a.setWorldSize(42*r,27*r),a.setPosition(s,0),this.add(a),this.x2=a;const l=this.scene.make.bitmapText({font:B.SHADOW.KEY,text:this.scene.lang.Text.continue,size:this.scene.fontSize(t),origin:{x:.5,y:.7}});this.add(l),l.setPosition(0,i),this.text2=l}setMode(e){e==="item"?(this.text1.revive(),this.icon.revive(),this.x2.revive(),this.text2.kill()):(this.text1.kill(),this.icon.kill(),this.x2.kill(),this.text2.revive())}}const Xb=Vb,{KEY:Re,FRAME:Be}=A.DEFAULT,{KEY:Zb,FRAME:zt}=A.GAMEPLAY;class qb extends Phaser.GameObjects.Container{popup;ribbon;listStars=[];starOriginScale=0;levelStars=0;levelText;levelTextOriginScale=0;buttonBg;buttonBgOriginScale=0;button;getContinueBtn;itemContainer;itemIcon;currentItem;bigGlow;bigGlowTween;glow;glowTween;onGreenClick;onGetContinueClick;confettiAnimation;continueButtonAnimation;starsParticle=[];listTimeLine=[];twinkle;constructor(e){super(e),this.createPopup(),this.updateSize(),this.createRibbon(),this.createBigGlow(),this.createStarsParticle(),this.createStars(),this.createLevelText(),this.createWinText(),this.createButton(),this.createItem(),this.createGetContinueBtn(),this.createEffect(),this.setDepth(W.POPUP),this.scene.add.existing(this)}createEffect(){const e=this.scene.world.isLandscape();this.confettiAnimation=new Ub(this.scene,e),this.confettiAnimation.setDepth(W.ON_TOP);const t=1/this.scene.world.getPixelRatio();this.twinkle=new jb(this.scene,{scale:{min:.05*t,max:t*.4}}),this.twinkle.setDepth(W.EFFECT),this.add(this.twinkle)}createStarsParticle(){for(let e=0;e<3;e++){const t=new Wb(this.scene);this.starsParticle.push(t)}this.add(this.starsParticle)}createPopup(){const e=this.scene.make.image({key:Re,frame:Be.POPUP});e.setWorldSize(291.5,374),this.add(e),this.popup=e}createRibbon(){const e=this.scene.make.image({key:Re,frame:Be.RESULT_RIBBON});e.setWorldSize(365.5,115),e.setPosition(0,-40),this.add(e),this.ribbon=e}createBigGlow(){const e=this.scene.make.image({key:Re,frame:Be.ART_WHITE_GLOW});e.setWorldSize(63.5*3,66.25*3),e.setPosition(0,-70),this.add(e),this.bigGlow=e,e.kill()}createStars(){const e=this.scene.make.image({key:Re,frame:Be.RESULT_STAR});e.setWorldSize(359/4,370/4),e.setPosition(-85,-60),e.setAngle(-12),this.listStars.push(e);const t=this.scene.make.image({key:Re,frame:Be.RESULT_STAR});t.setWorldSize(359/4,370/4),t.setPosition(0,-70),t.setAngle(0),this.listStars.push(t);const s=this.scene.make.image({key:Re,frame:Be.RESULT_STAR});s.setWorldSize(359/4,370/4),s.setPosition(85,-60),s.setAngle(12),this.listStars.push(s),this.add([e,s,t]),this.starOriginScale=e.scaleX}updateSize(){const{displayWidth:e,displayHeight:t}=this.popup;this.setSize(e,t)}createLevelText(){const e=this.scene.make.bitmapText({font:B.YELLOW_AND_STROKE.KEY,text:"Level 1",size:this.scene.fontSize(25),origin:{x:.5,y:.5}});e.setPosition(0,0),this.add(e),this.levelText=e,this.levelTextOriginScale=e.scale}createWinText(){const e=this.scene.make.image({key:Re,frame:this.scene.lang.Texture.victory}),t=this.scene.lang.getCurrentLanguage();let s=152,o=31;switch(t){case"ru":s=133,o=34;break;case"ja":s=67.5,o=35.5;break;case"id":s=205,o=25;break;case"pt":s=130,o=35;break;case"es":s=152,o=29;break;case"it":s=151,o=29;break;case"fr":s=147,o=29;break;case"tr":s=102,o=28;break;case"de":s=72,o=29;break;case"zh":s=62,o=33;break}e.setPosition(0,-152),e.setWorldSize(s,o),this.add(e)}createButton(){const e=new Xb(this.scene,Re,Be.BUTTON_GREEN,180,46.5);e.setPosition(0,120),e.onClick=this.handleOnGreenBtnClick,this.button=e;const t=this.scene.make.image({key:Re,frame:Be.BUTTON_BG});t.setWorldSize(184,50.5),t.setPosition(e.x,e.y),this.buttonBg=t,this.buttonBgOriginScale=t.scale,this.add([t,e])}createItem(){this.itemContainer=this.scene.make.container({}),this.add(this.itemContainer),this.itemContainer.setPosition(0,50);const e=this.scene.make.image({key:Re,frame:Be.ART_WHITE_GLOW});e.setWorldSize(63.5,66.25),e.setPosition(-15,0),this.itemContainer.add(e),this.glow=e;const t=this.scene.make.image({key:Zb,frame:zt.BLANK});t.setPosition(-17,0),t.setWorldSize(25,25),this.itemContainer.add(t),this.itemIcon=t;const s=this.scene.make.bitmapText({font:B.WHITE_AND_STROKE.KEY,text:"+1",size:this.scene.fontSize(22),origin:{x:.5,y:.57}});s.setPosition(17,0),this.itemContainer.add(s)}createGetContinueBtn(){const e=this.scene.lang.getCurrentLanguage();let t=152,s=18.5;switch(e){case"ru":t=224,s=18;break;case"ja":t=108,s=22;break;case"zh":t=88,s=18;break;case"fr":t=235,s=18;break;case"de":t=224,s=18;break;case"id":t=205,s=19;break;case"it":t=184,s=18;break;case"pt":t=189,s=18;break;case"es":t=164,s=18;break;case"tr":t=146,s=18;break}const o=new Na(this.scene,{key:Re,frame:this.scene.lang.Texture.get_continue,width:t,height:s,paddingZone:40});Phaser.Display.Align.In.BottomCenter(o,this.popup,0,50),o.onClick=this.handleOnGetContinueBtnClick,this.add(o),this.getContinueBtn=o}setLevel(e){this.levelText.setText(`${this.scene.lang.Text.level} ${e}`)}setStars(e){this.levelStars=e}setItem(e){if(this.currentItem!==e){switch(this.currentItem=e,e){case"defuse":this.itemIcon.setFrame(zt.DEFUSE_ITEM),this.itemIcon.setWorldSize(26,34.5);break;case"hint":this.itemIcon.setFrame(zt.HINT_ITEM),this.itemIcon.setWorldSize(26.5,36.5);break;case"shuffle":this.itemIcon.setFrame(zt.ITEM_SHUFFLE),this.itemIcon.setWorldSize(26.5,35.5);break;case"rocket":this.itemIcon.setFrame(zt.ROCKET_ITEM),this.itemIcon.setWorldSize(23,36);break;case"none":this.itemContainer.kill()}e!=="none"?this.button.setMode("item"):this.button.setMode("continue")}}handleOnGreenBtnClick=()=>{this.onGreenClick&&this.onGreenClick()};handleOnGetContinueBtnClick=()=>{this.onGetContinueClick&&this.onGetContinueClick()};playAnimation(e=0){this.playShowUpAnimation(e)}playShowUpAnimation(e){this.listTimeLine?.forEach(m=>m.stop()),this.listTimeLine=[],this.bigGlow.kill(),this.twinkle.stop();const t=e;this.listStars.forEach((m,f)=>{if(f>=this.levelStars){m.kill();return}this.listStars[f].revive(),this.listStars[f].setScale(0)}),this.listStars[0].setAngle(-10),this.listStars[1].setAngle(0),this.listStars[2].setAngle(10);const s=this.playStarAnimation(this.listStars[0],t,200,400,366,"-=10","+=10"),o=this.playStarAnimation(this.listStars[1],t+166,200,233,566,"+=0","+=0"),i=this.playStarAnimation(this.listStars[2],t+333,200,100,466,"+=10","-=10");this.listTimeLine?.push(s,o,i),this.scaleObject(t,400,this.listStars[0],0,this.starOriginScale*1.75,Phaser.Math.Easing.Sine.In,()=>{this.scene.audio.playSound(Z.PROGRESS_STAR)}),this.scaleObject(t+166,366,this.listStars[1],0,this.starOriginScale*1.75,Phaser.Math.Easing.Sine.In),this.scaleObject(t+333,200,this.listStars[2],0,this.starOriginScale*1.75,Phaser.Math.Easing.Sine.In),this.scaleObject(t+400,400,this.listStars[0],this.starOriginScale*1.75,this.starOriginScale-.1,Phaser.Math.Easing.Cubic.In,void 0,()=>{this.starsParticle[0].explode(50,this.listStars[0].x,this.listStars[0].y)}),this.scaleObject(t+533,266,[this.listStars[1],this.listStars[2]],this.starOriginScale*1.75,this.starOriginScale-.1,Phaser.Math.Easing.Cubic.In,void 0,()=>{this.starsParticle[1].explode(50,this.listStars[1].x,this.listStars[1].y),this.starsParticle[2].explode(50,this.listStars[2].x,this.listStars[2].y),new Up({targets:[this.ribbon],props:{y:this.ribbon.y+5}}).play(),this.runEffect3Stars(),this.scene.audio.playSound(Z.THREE_STARS)}),this.scaleObject(t+800,166,this.listStars,this.starOriginScale-.1,this.starOriginScale,void 0,void 0,()=>{this.scene.audio.playSound(Z.LEVEL_COMPLETE)});const r=800+166,n=[this.levelText],a=[this.levelTextOriginScale];this.levelText.setScale(0);const l=this.scene.tweens.createTimeline();l.add({targets:n,delay:r+t,duration:800,props:{scale:{getStart:()=>0,getEnd:(m,f,h,p)=>a[p],ease:Phaser.Math.Easing.Elastic.Out,easeParams:[.1,.45]}}}),this.currentItem!=="none"?(this.getContinueBtn.revive(),this.itemContainer.revive(),this.itemContainer.setScale(0),this.glowTween?.remove(),this.glowTween=this.scene.add.tween({targets:this.glow,duration:1e6,ease:Phaser.Math.Easing.Linear,repeat:-1,props:{rotation:{start:0,to:180}}}),l.add({targets:this.itemContainer,duration:800,props:{scale:{getStart:()=>0,getEnd:()=>1,ease:Phaser.Math.Easing.Elastic.Out,easeParams:[.1,.45]}},onStart:()=>{this.scene.audio.playSound(Z.HINT_ITEM,{volume:1.5})}})):(this.getContinueBtn.kill(),this.itemContainer.kill());const d=[this.button,this.buttonBg],u=[1,this.buttonBgOriginScale];this.button.setScale(0),this.buttonBg.setScale(0),l.add({targets:d,duration:800,props:{scale:{getStart:()=>0,getEnd:(m,f,h,p)=>u[p],ease:Phaser.Math.Easing.Elastic.Out,easeParams:[.1,.45]}},onComplete:()=>{this.runContinueButtonAnimation()}}),this.currentItem!=="none"&&(this.getContinueBtn.setScale(0),l.add({targets:this.getContinueBtn,duration:300,props:{scale:{from:0,to:1}}})),l.play(),this.listTimeLine.push(l)}scaleObject(e,t,s,o,i,r,n,a){this.scene.tweens.add({targets:s,duration:t,delay:e,props:{scale:{from:o,to:i}},ease:r,onStart:n,onComplete:a})}playStarAnimation(e,t,s,o,i,r,n){const a=this.scene.tweens.createTimeline();return a.add({targets:e,delay:t,duration:s,props:{angle:"-=15"}}),a.add({targets:e,duration:o,props:{angle:"+=15"}}),a.add({targets:e,delay:i,duration:1300,props:{angle:r,scale:"+=0.1"}}),a.add({targets:e,duration:2333,props:{angle:n,scale:"-=0.1"},yoyo:!0,repeat:-1,ease:Phaser.Math.Easing.Sine.InOut}),a.play(),a}runEffect3Stars(){const e=this.bigGlow.scale;this.bigGlow.revive(),this.bigGlow.setScale(0),this.scene.tweens.add({targets:this.bigGlow,scale:{from:0,to:e},duration:500,ease:Phaser.Math.Easing.Sine.Out}),this.bigGlowTween=this.scene.tweens.add({targets:this.bigGlow,rotation:{from:0,to:Math.PI*2},duration:5e3,repeat:-1}),this.twinkle.run(2,this.x,this.y,230,80),this.runConfetti()}runConfetti(){const{displayWidth:e,displayHeight:t}=this.scene.gameZone,s=this.scene.world.isLandscape();this.confettiAnimation.run(s?e/4:0,t,s?e/2:e,t*.75)}stopAnimation(){this.bigGlowTween?.remove(),this.glowTween?.remove(),this.twinkle.stop(),this.stopConfetti(),this.continueButtonAnimation?.stop(),this.button.setScale(1),this.listTimeLine.forEach(e=>{e.stop()}),this.listTimeLine=[]}stopConfetti(){this.confettiAnimation.killAllParticles()}runContinueButtonAnimation(){this.button.setScale(1),this.continueButtonAnimation?.stop(),this.continueButtonAnimation=this.scene.add.tween({targets:[this.button],yoyo:!0,repeat:-1,duration:600,repeatDelay:50,ease:$o,easeParams:[0,.9],props:{scale:{from:1,to:.98}}})}}const Jb=qb,{Gameplay:Qb}=GameCore.Configs,{RewardItemResultPopupRatio:e0}=Qb;class t0 extends GameCore.Screen{popup;popupShowUpAnimation;item="none";rewardAmount;adsTimer;constructor(e,t,s,o){super(e,t,s,o),this.createPopup(),this.setDepth(Ct.POPUP),this.background.setAlpha(.6)}open=e=>{super.open(e),this.updateData(),this.scene.audio.setMusicVolume(0),this.runOpenAnimation()};updateData(){const e=this.getData("level"),t=this.getData("eatStars");if(this.popup.setLevel(e||1),this.popup.setStars(t||0),Math.random()>e0){this.item="none",this.popup.setItem("none");return}const o=["ItemHint","ItemShuffle"],i=["hint","shuffle"];let r=[.54,1];e>=7&&(o.push("ItemBombDefuse"),i.push("defuse"),r=[.4,.73,1]),e>=11&&(o.push("ItemRocket"),i.push("rocket"),r=[.29,.54,.74,1]);const n=Math.random(),a=r.findIndex(u=>n<=u),l=o[a],d=i[a];this.item=l,this.popup.setItem(d)}createPopup(){this.popup=new Jb(this.scene),this.add(this.popup),this.popup.onGreenClick=this.handleGreenBtnClick,this.popup.onGetContinueClick=this.handleContinueLevel,Phaser.Display.Align.In.Center(this.popup,this.zone,0,-50)}handleGreenBtnClick=async()=>{if(this.item==="none")this.handleContinueLevel();else try{await this.handleShowRewardedVideoAd()}catch(e){console.log(e)}};handleContinueLevel=()=>{this.rewardItem(1),this.closeAndNextLevel()};closeAndNextLevel(){this.item!=="none"&&this.scene.game.analytics.event(U.GET_FREE_ITEM,{item_name:this.item,value:this.rewardAmount}),this.popup.stopAnimation(),this.scene.screen.close(this.name),F.emit(G.NEXT_LEVEL)}handleShowRewardedVideoAd=async()=>{let e=null;try{const{audio:t,game:s}=this.scene;e=s.globalScene.time.delayedCall(200,()=>{s.globalScene.screen.open($.NOTIFY_SCREEN,{message:this.scene.lang.Text.loading_ads,duration:0,loading:!0})}),t.pauseMusic(),t.pauseAllSounds(),t.muteAll(),await this.scene.ads.showRewardedVideoAsync(),e?.remove(),s.globalScene.screen.close($.NOTIFY_SCREEN),this.rewardItem(2),this.closeAndNextLevel()}catch(t){if(e?.remove(),t instanceof Object&&GameCore.Utils.Object.hasOwn(t,"code")&&t.code==="USER_INPUT"){this.showNotifySkipAds(),this.popup.runContinueButtonAnimation();return}this.showNotifyNoAds(),this.popup.runContinueButtonAnimation()}finally{this.adsTimer?.destroy(),this.scene.audio.unmuteAll(),this.scene.audio.playMusic(),this.scene.audio.resumeAllSounds(),this.scene.ads.preloadRewardedVideoAsync().catch(t=>{})}};showNotifySkipAds=()=>{const{globalScene:e}=this.scene.game;e.screen.open($.NOTIFY_SCREEN,{message:`${this.scene.lang.Text.no_rewards_1}
${this.scene.lang.Text.no_rewards_2}`,duration:1500,loading:!1})};showNotifyNoAds=e=>{if(e&&e.name!==$.NOTIFY_SCREEN)return;const{globalScene:t}=this.scene.game;t.screen.open($.NOTIFY_SCREEN,{message:this.scene.lang.Text.no_ads,duration:1500,loading:!1})};rewardItem(e){if(this.item==="none")return;this.rewardAmount=e;const t=this.scene.scene.get(re.GAME_SCENE);if(!(t instanceof rt))return;const{itemManager:s}=t;s.increaseItem(this.item,this.rewardAmount)}runOpenAnimation(){this.runPopupEntrancesAnimation(0,300),this.popup.playAnimation(300)}runPopupEntrancesAnimation(e,t){if(!this.popupShowUpAnimation){const{y:s,scale:o}=this.popup;this.popupShowUpAnimation=new Gs({targets:[this.popup],delay:e,duration:t,props:{y:{from:350,to:s},alpha:{start:1,from:1,to:1},scale:{start:0,from:0,to:o}}})}this.popupShowUpAnimation.play()}}const s0={targets:[],duration:1e3,ease:Phaser.Math.Easing.Quadratic.InOut,props:{scale:.2}};class o0 extends Pe{spline;constructor(e){super(s0,e);const{curve:t}=this.config;t&&(this.spline=new Phaser.Curves.Spline(t),this.tween?.on(Phaser.Tweens.Events.TWEEN_START,this.createCounter))}createCounter=(e,t)=>{const{onCurveUpdate:s}=this.config,o=typeof s=="function"?s:null;t.forEach((i,r)=>{if(!this.scene)return;const{duration:n,delay:a}=e.data[r],l=new Phaser.Math.Vector2;this.scene.tweens.addCounter({delay:a,duration:n,ease:Phaser.Math.Easing.Quadratic.InOut,onUpdate:d=>{this.spline.getPoint(d.getValue(),l),i.x=l.x,i.y=l.y,o&&o(i)}})})}}const{KEY:i0,FRAME:r0}=A.TUTORIAL;class a0 extends Phaser.GameObjects.Container{hand;constructor(e){super(e),this.name="TapTutorialHand",this.addHand(),this.scene.add.existing(this)}addHand(){this.hand=this.scene.make.image({key:i0,frame:r0.HAND,origin:{x:.5,y:.5}}),this.hand.setWorldSize(65.5,55.5),this.add(this.hand)}playAnimation(e=0,t=800){const s=1/this.scene.world.getPixelRatio();this.hand.angle=30,this.scene?.tweens.add({delay:e,targets:[this.hand],ease:Phaser.Math.Easing.Cubic.Out,props:{alpha:{start:0,value:1,duration:200},scale:{duration:400,start:s*1.6,to:s*1.2},angle:{from:30,value:0,duration:400}},onComplete:()=>{this.scene?.tweens.add({targets:[this.hand],delay:200,duration:200,ease:Phaser.Math.Easing.Cubic.Out,props:{alpha:0},onComplete:()=>{this.hand.x=0,this.hand.y=0,this.hand.scale=s,this.playAnimation(t)}})}})}stopAnimation(){this.scene.tweens.killTweensOf(this.hand)}preDestroy(){this.scene.tweens.killTweensOf(this.hand)}}const{KEY:n0,FRAME:br}=A.EFFECTS;class l0 extends Phaser.GameObjects.Particles.ParticleEmitterManager{emitZone;emitter;constructor(e){super(e,n0,br.FX_STAR_YELLOW),this.createEmitZone(),this.scene.add.existing(this)}createEmitZone(){this.emitZone=new Phaser.Geom.Rectangle}createEmitters(){const e=1/this.scene.world.getPixelRatio();this.emitter=this.createEmitter({on:!1,frame:br.FX_COMET,emitZone:{source:this.emitZone,type:"random"},speed:20,timeScale:1,frequency:100,alpha:{start:1,end:0,ease:Phaser.Math.Easing.Expo.Out},scale:{start:e*2,end:e*.1,ease:Phaser.Math.Easing.Expo.Out},lifespan:2666})}run(e,t,s,o,i){this.stop(),this.reset(),this.emitZone.setSize(o,i),this.emitZone.setPosition(t-o/2,s-i/2),this.emitter.setQuantity(e),this.emitter.start()}explode(e,t,s){this.emitter||this.reset(),this.emitter.explode(e,t,s)}stop(){this.emitter?.killAll(),this.emitter?.stop()}reset(){this.createEmitters()}}const{KEY:c0,FRAME:gr}=A.EFFECTS;class d0 extends Phaser.GameObjects.Particles.ParticleEmitterManager{deathZone;emitter;constructor(e){super(e,c0,gr.FX_SPARK),this.createDeathZone(),this.createEmitters(),this.setActive(!1),this.setVisible(!1),this.scene.add.existing(this)}createDeathZone(){this.deathZone=new Phaser.Geom.Circle}createEmitters(){const e=1/this.scene.world.getPixelRatio();this.emitter=this.createEmitter({on:!1,frame:gr.FX_SPARK,speed:{min:10,max:1200},scale:{start:e*1.33,end:0},alpha:{start:1,end:0,ease:Phaser.Math.Easing.Expo.Out},deathZone:{source:this.deathZone,type:"onLeave"},lifespan:3e3})}explode(e,t,s,o){this.setActive(!0),this.setVisible(!0),this.deathZone.radius=o,this.deathZone.setPosition(t,s),this.emitter.explode(e,t,s)}}const{KEY:m0,FRAME:vr}=A.EFFECTS;class u0 extends Phaser.GameObjects.Particles.ParticleEmitterManager{emitZone;emitter;constructor(e){super(e,m0,vr.FX_COMET),this.createEmitZone(),this.createEmitters(),this.scene.add.existing(this)}createEmitZone(){this.emitZone=new Phaser.Geom.Rectangle}createEmitters(){const e=1/this.scene.world.getPixelRatio();this.emitter=this.createEmitter({on:!1,frame:vr.FX_COMET,emitZone:{source:this.emitZone,type:"random"},deathZone:{source:this.emitZone,type:"onLeave"},timeScale:1,frequency:150,speedY:{min:-20,max:-60},alpha:{start:1,end:0,ease:Phaser.Math.Easing.Cubic.Out},scale:{start:e*1,end:0,ease:Phaser.Math.Easing.Cubic.Out},lifespan:{min:1500,max:2500}})}run(e,t,s,o,i){this.stop(),this.emitZone.setSize(o,i),this.emitZone.setPosition(t-o/2,s-i/2),this.emitter.setQuantity(e),this.emitter.start()}stop(){this.emitter?.killAll(),this.emitter?.stop()}}const{DEFAULT:le,GAMEPLAY:Le}=A;class h0 extends GameCore.Screen{hand;giftIcon;giftIconWhite;popup;itemIcon;descText;quantityText;viewAdButton;closeButton;viewAdBg;whiteGlow;itemId;popupContents;cometTwinkle;starTwinkleUp;sparksExplosive;popupFadeOutAnimation;backgroundFadeInAnimation;contentShowUpAnimation;giftEntrancesAnimation;giftAttentionAnimation;giftShakeAnimation;giftOpenAnimation;glowSpinTween;viewAdButtonAnimation;adsTimer;constructor(e,t,s,o){super(e,t,s,o),this.setDepth(Ct.POPUP),this.background.setAlpha(.8),this.createPopup(),this.createEffects(),this.createGiftIcon(),this.createHand(),this.createContentsGroup()}open=e=>{super.open(e),this.itemId=e.itemId,this.updateScreen(),this.runGlowSpinTween(),this.runOpenAnimation()};updateScreen(){switch(this.itemId){case C.HINT.ID:this.itemIcon.setTexture(Le.KEY,Le.FRAME.HINT_ITEM),this.descText.setText(this.scene.lang.Text.hint_description);break;case C.ROCKET.ID:this.itemIcon.setTexture(Le.KEY,Le.FRAME.ROCKET_ITEM),this.descText.setText(this.scene.lang.Text.rocket_description);break;case C.BOMB_DEFUSE.ID:this.itemIcon.setTexture(Le.KEY,Le.FRAME.DEFUSE_ITEM),this.descText.setText(this.scene.lang.Text.defuse_description);break;case C.SHUFFLE.ID:this.itemIcon.setTexture(Le.KEY,Le.FRAME.ITEM_SHUFFLE),this.descText.setText(this.scene.lang.Text.shuffle_description);break}}handleClosePopup=()=>{this.glowSpinTween?.stop(),this.runCloseAnimation()};handleShowRewardedVideoAd=async()=>{let e=null;try{const{audio:t,game:s}=this.scene;this.viewAdButton.setDisabled(!0),e=s.globalScene.time.delayedCall(200,()=>{s.globalScene.screen.open($.NOTIFY_SCREEN,{message:this.scene.lang.Text.loading_ads,duration:0,loading:!0})}),t.pauseMusic(),t.pauseAllSounds(),t.muteAll(),await this.scene.ads.showRewardedVideoAsync(),e?.remove(),s.globalScene.screen.close($.NOTIFY_SCREEN),this.starTwinkleUp.stop(),this.scene.audio.playSound(Z.DAILY_REWARD),this.popupContents.setActive(!1),this.popupContents.setVisible(!1),this.runTheGiftEntrancesAnimation(0,1500)}catch(t){if(e?.remove(),t instanceof Object&&GameCore.Utils.Object.hasOwn(t,"code")&&t.code==="USER_INPUT"){this.showNotifySkipAds();return}this.showNotifyNoAds()}finally{this.scene.ads.preloadRewardedVideoAsync().catch(t=>{}),this.adsTimer?.destroy(),this.scene.audio.unmuteAll(),this.scene.audio.playMusic(),this.scene.audio.resumeAllSounds(),this.viewAdButton.setDisabled(!1)}};setTheGiftClickable(e){e?this.giftIcon.setInteractive():this.giftIcon.disableInteractive()}handleTheGiftClick=()=>{this.setTheGiftClickable(!1),this.logButtonEvent("OpenGift"),this.hand.kill(),this.giftIconWhite.revive(),this.scene.tweens.killTweensOf(this.giftIcon),Phaser.Display.Align.In.Center(this.giftIconWhite,this.giftIcon),this.scene.audio.playSound(Z.GIFT_CHARGE),this.runShakeTheGift(),this.runOpenTheGift()};logButtonEvent(e){const t=this.getScreenName();this.scene.analytics.event(U.BUTTON_CLICK,{button_name:e,screen_name:t})}showNotifyNoAds=e=>{if(e&&e.name!==$.NOTIFY_SCREEN)return;const{globalScene:t}=this.scene.game;t.screen.open($.NOTIFY_SCREEN,{message:this.scene.lang.Text.no_ads,duration:1200,loading:!1})};showNotifySkipAds=()=>{const{globalScene:e}=this.scene.game;e.screen.open($.NOTIFY_SCREEN,{message:`${this.scene.lang.Text.no_rewards_1}
${this.scene.lang.Text.no_rewards_2}`,duration:1500,loading:!1})};runOpenAnimation(){this.revive(),this.hand.kill(),this.popupContents.setActive(!0),this.popupContents.setVisible(!0),this.starTwinkleUp.stop(),this.runBackgroundEntrancesAnimation(0,200),this.runPopupContentEntrancesAnimation(100,400)}runCloseAnimation=()=>{this.runExitsAnimation(0,200)};runBackgroundEntrancesAnimation(e,t){this.backgroundFadeInAnimation||(this.backgroundFadeInAnimation=new La({targets:[this.background],delay:e,duration:t,props:{alpha:{start:0,to:.8}}})),this.backgroundFadeInAnimation.play()}runPopupContentEntrancesAnimation(e,t){this.viewAdButton.setDisabled(!0),this.viewAdButton.setAlpha(0),this.contentShowUpAnimation?.remove(),this.contentShowUpAnimation=new Zo({targets:this.popupContents.getChildren(),duration:t,delay:this.scene.tweens.stagger(100,{start:e}),props:{scale:{getStart:s=>s===this.descText?s.scale:s.scale-.3,getEnd:s=>s.scale},alpha:{start:0,from:0,to:1}},onComplete:()=>{this.viewAdButton.setDisabled(!1),this.runViewAdButtonAnimation()}}),this.contentShowUpAnimation.play()}runTheGiftEntrancesAnimation(e,t){this.giftIcon.revive(),this.giftIcon.setAlpha(1),Phaser.Display.Align.In.TopRight(this.giftIcon,this.zone),this.giftEntrancesAnimation?.remove();const{x:s,y:o}=this.giftIcon,{x:i,y:r}=this.popup,n={x:s,y:o},a={x:i,y:r},l=1/this.scene.world.getPixelRatio();this.giftEntrancesAnimation=new o0({targets:[this.giftIcon],delay:e,duration:t,curve:[[n.x,n.y],[n.x-80,n.y+80],[a.x,a.y]],props:{scale:{start:l*.5,to:l},angle:{start:20,to:0}},onCurveUpdate:d=>{const m=d.x+Phaser.Math.RND.between(-40,40),f=d.y+Phaser.Math.RND.between(-40,40);this.cometTwinkle.explode(1,m,f)},onComplete:()=>{this.scene.audio.playSound(Z.GIFT_REVEAL);const d=1.5;this.starTwinkleUp.setScale(d);const{x:u,y:m,width:f,height:h}=this.giftIcon;this.starTwinkleUp.run(1,u,m,f/d,h/d),this.moveTo(this.starTwinkleUp,this.length-1),this.runTheGiftAttentionAnimation()}}),this.giftEntrancesAnimation.play()}runTheGiftAttentionAnimation(){this.giftAttentionAnimation||(this.giftAttentionAnimation=new Ns({targets:[this.giftIcon],props:{scale:"+=0.05"}})),this.hand.revive(),this.hand.playAnimation(),Phaser.Display.Align.In.Center(this.hand,this.giftIcon,20,20),this.setTheGiftClickable(!0),this.giftAttentionAnimation.play()}runShakeTheGift(){this.giftShakeAnimation||(this.giftShakeAnimation=new Pa({targets:[this.giftIcon,this.giftIconWhite],duration:22})),this.giftShakeAnimation.play()}runOpenTheGift(){if(!this.giftOpenAnimation){const e=1/this.scene.world.getPixelRatio();this.giftOpenAnimation=new Ms({targets:[this.giftIcon,this.giftIconWhite],duration:1500,props:{alpha:0,scale:e},onUpdate:()=>{this.giftIconWhite.setAlpha(1)},onComplete:()=>{this.giftShakeAnimation.stop(),this.giftIcon.kill(),this.giftIconWhite.kill(),this.sparksExplosive.explode(100,this.giftIcon.x,this.giftIcon.y,230),this.scene.audio.playSound(Z.GIFT_EXPLODE),this.scene.time.delayedCall(500,this.runCloseAnimation);const[t,s]=this.getData(["itemId","rewardCount"]);F.emit(G.RECEIVE_ITEM,{itemId:t,rewardCount:s})}})}this.giftOpenAnimation.play()}runExitsAnimation(e,t){this.popupFadeOutAnimation||(this.popupFadeOutAnimation=new is({targets:this.getAll(),delay:e,duration:t,props:{alpha:{start:.8,to:0}},onComplete:()=>{this.scene.screen.close(this.name),this.descText.setText("")}})),this.popupFadeOutAnimation.play()}createHand(){this.hand=new a0(this.scene),this.add(this.hand)}createContentsGroup(){this.popupContents=this.scene.make.group({}),this.popupContents.addMultiple([this.popup,this.closeButton,this.whiteGlow,this.itemIcon,this.quantityText,this.descText,this.viewAdBg,this.viewAdButton])}createPopup(){this.popup=this.scene.add.container(0,0),this.popup.setSize(283,345.5);const e=this.scene.make.image({key:le.KEY,frame:le.FRAME.POPUP});e.setWorldSize(283,345.5),this.popup.add(e),this.add(this.popup),this.createItemIcon(),this.createQuantityText(),this.createDescriptionText(),this.createViewAdsButton(),this.createCloseButton(),Phaser.Display.Align.In.Center(this.popup,this.zone,0,-50)}createItemIcon(){this.whiteGlow=this.scene.make.image({key:le.KEY,frame:le.FRAME.ART_WHITE_GLOW}),this.whiteGlow.setWorldSize(100,100),this.popup.add(this.whiteGlow);const e=this.scene.make.image({key:Le.KEY,frame:Le.FRAME.HINT_ITEM});e.setWorldSize(55,55),this.popup.add(e),Phaser.Display.Align.In.Center(e,this.popup,0,-75),this.whiteGlow.setPosition(e.x,e.y),this.itemIcon=e}createQuantityText(){const e=this.scene.make.bitmapText({text:"x1",font:B.YELLOW_AND_STROKE.KEY,size:this.scene.fontSize(35),origin:{x:.5,y:.5}});this.popup.add(e),Phaser.Display.Align.In.Center(e,this.popup,0,-30),this.quantityText=e}createDescriptionText(){const t=this.scene.lang.getCurrentLanguage()==="ru"?17:20,s=this.scene.make.bitmapText({text:"",origin:{x:.5,y:0},font:B.YELLOW_AND_STROKE.KEY,size:this.scene.fontSize(t)});s.setMaxWidth(200),s.setCenterAlign(),this.popup.add(s),Phaser.Display.Align.In.Center(s,this.popup,0,10),this.descText=s}createViewAdsButton(){const e=new Ga(this.scene,le.KEY,le.FRAME.BUTTON_GREEN_ROUNDED_RECT,184,51),t=this.scene.add.image(0,0,le.KEY,le.FRAME.ICON_ADS);t.setWorldSize(27,29),Phaser.Display.Align.In.Center(t,e),t.setX(e.x-60),e.add(t);const s=this.scene.make.bitmapText({text:this.scene.lang.Text.get_now,origin:{x:.5,y:.5},font:B.SHADOW.KEY,size:this.scene.fontSize(22)}),o=this.scene.make.image({key:le.KEY,frame:le.FRAME.BUTTON_BG});o.setWorldSize(184,51),e.add(s),Phaser.Display.Align.In.Center(s,e,18,-4),Phaser.Display.Align.In.Center(e,this.popup,0,110),this.popup.add(o),this.popup.add(e),Phaser.Display.Align.In.Center(o,e,0,-1),this.viewAdButton=e,this.viewAdBg=o,e.onClick=this.handleShowRewardedVideoAd}createCloseButton(){const e=new ve(this.scene,le.KEY,le.FRAME.BUTTON_CLOSE,38,39);Phaser.Display.Align.In.TopRight(e,this.popup,-15,-11),this.popup.add(e),e.onClick=this.handleClosePopup,this.closeButton=e}createGiftIcon(){this.giftIconWhite=this.scene.make.image({key:le.KEY,frame:le.FRAME.LOGO_GIFT_WHITE,visible:!1}),this.giftIconWhite.setWorldSize(150,150),this.giftIconWhite.setDepth(W.PRIORITY),this.add(this.giftIconWhite),this.giftIcon=this.scene.make.image({key:le.KEY,frame:le.FRAME.LOGO_GIFT,visible:!1}),this.giftIcon.setInteractive({useHandCursor:!0}),this.giftIcon.setWorldSize(150,150),this.giftIcon.on(Phaser.Input.Events.GAMEOBJECT_POINTER_DOWN,this.handleTheGiftClick),this.setTheGiftClickable(!1),this.add(this.giftIcon)}createEffects(){this.cometTwinkle=new l0(this.scene),this.starTwinkleUp=new u0(this.scene),this.sparksExplosive=new d0(this.scene),this.add([this.cometTwinkle,this.starTwinkleUp,this.sparksExplosive])}runGlowSpinTween(){this.glowSpinTween?.stop(),this.whiteGlow.angle=0,this.whiteGlow.setPosition(this.itemIcon.x,this.itemIcon.y),this.glowSpinTween=this.scene.tweens.add({targets:this.whiteGlow,angle:360,duration:5e3,repeat:-1,ease:"Linear"})}runViewAdButtonAnimation(){this.viewAdButtonAnimation?.stop(),this.viewAdButtonAnimation=this.scene.add.tween({targets:[this.viewAdButton],yoyo:!0,repeat:-1,duration:600,repeatDelay:50,ease:$o,easeParams:[0,.9],props:{scale:{from:1,to:.98}}})}}class f0 extends Me{scene;isLandscape;constructor(e){super(e),this.scene=e,this.isLandscape=this.scene.world.isLandscape()}start(){this.isRunning()||super.start()}showPauseScreen=()=>{const{screen:e}=this.scene.game.globalScene;let t=e.get($.PAUSE_SCREEN);t||(t=e.add($.PAUSE_SCREEN,Mp),this.isLandscape&&t.incScale(-.3)),t.once(GameCore.Screens.Events.OPEN,()=>{const{tileManager:s}=this.scene;s.hideAllTiles(),s.hideHintEffect(),this.scene.scene.pause()}),t.once(GameCore.Screens.Events.CLOSE,s=>{s.off(GameCore.Screens.Events.OPEN);const{tileManager:o}=this.scene;o.showAllTiles(),o.showHintEffect(),this.scene.scene.resume()}),e.open($.PAUSE_SCREEN)};showRescueScreen(e,t){const{screen:s}=this.scene.game.globalScene;let o=s.get($.RESCUE_SCREEN);o||(o=s.add($.RESCUE_SCREEN,Fp),this.isLandscape&&(o.incScale(-.3),o.incY(10))),o.once(GameCore.Screens.Events.OPEN,()=>{const{tileManager:i}=this.scene;i.hideAllTiles(),this.scene.scene.pause()}),o.once(GameCore.Screens.Events.CLOSE,i=>{i.off(GameCore.Screens.Events.OPEN);const{tileManager:r}=this.scene;r.showAllTiles(),this.scene.scene.resume()}),s.open($.RESCUE_SCREEN,{level:e,reason:t})}showResultScreen=(e,t)=>{const{screen:s}=this.scene.game.globalScene;let o=s.get($.RESULT_SCREEN);o||(o=s.add($.RESULT_SCREEN,t0),this.isLandscape&&(o.incScale(-.3),o.incY(10))),o.once(GameCore.Screens.Events.OPEN,()=>{this.scene.scene.pause()}),o.once(GameCore.Screens.Events.CLOSE,i=>{i.off(GameCore.Screens.Events.OPEN),this.scene.scene.resume()}),s.open($.RESULT_SCREEN,{eatStars:e,level:t})};showContinueScreen=(e,t)=>{const{screen:s}=this.scene.game.globalScene;let o=s.get($.CONTINUE_SCREEN);o||(o=s.add($.CONTINUE_SCREEN,ip),this.isLandscape&&(o.incScale(-.3),o.incY(-20))),o.once(GameCore.Screens.Events.OPEN,()=>{const{tileManager:i}=this.scene;i.hideAllTiles(),this.scene.scene.pause()}),o.once(GameCore.Screens.Events.CLOSE,i=>{i.off(GameCore.Screens.Events.OPEN);const{tileManager:r}=this.scene;r.showAllTiles(),this.scene.scene.resume()}),s.open($.CONTINUE_SCREEN,{level:e,reason:t})};showRewardItemScreen=(e,t)=>{const{screen:s}=this.scene.game.globalScene;let o=s.get($.REWARD_ITEM_SCREEN);o||(o=s.add($.REWARD_ITEM_SCREEN,h0),this.isLandscape&&o.incScale(-.3)),o.once(GameCore.Screens.Events.OPEN,()=>{this.scene.scene.pause()}),o.once(GameCore.Screens.Events.CLOSE,i=>{i.off(GameCore.Screens.Events.OPEN),this.scene.scene.resume()}),s.open($.REWARD_ITEM_SCREEN,{itemId:e,rewardCount:t})}}const{Gameplay:jt}=GameCore.Configs,{DailyRewardItems:yt}=GameCore.Configs.Gameplay;class p0 extends Ra{prevScore=0;gameplayMode;gameStatus;currentScore=0;prevTargetScore=0;isReachTargetScore=!1;levelHandler;uiManager;tileManager;modeManager;itemManager;boardManager;comboManager;effectManager;layoutManager;screenManager;tutorialManager;animationManager;levelStartAt;levelEndAt;delayTimer;preload(){this.events.on(Phaser.Scenes.Events.WAKE,this.run),this.events.on(Phaser.Scenes.Events.CREATE,this.run)}create=()=>{super.create(),this.checkOfflineReward(),this.levelStartAt=0,this.levelEndAt=0,this.createBackground(Xe.BACKGROUND.KEY),this.createHandler(),this.createManager(),this.listenEvents(),this.addGlobalMethodsForGlance(),window.__resetData=this.resetData};addGlobalMethodsForGlance=()=>{const e=()=>{this.game.globalScene.screen.get($.PAUSE_SCREEN)?.visible&&this.game.globalScene.screen.close($.PAUSE_SCREEN)};window.pauseEvent=()=>{this.game.globalScene.screen.get($.PAUSE_SCREEN)?.visible||this.screenManager.showPauseScreen()},window.resumeEvent=()=>{e()},window.replayGameEvent=async()=>{e(),F.emit(G.REPLAY)},window.nextLevelEvent=()=>{this.finishLevel(!0)},window.gotoLevel=t=>{t<0||(this.levelHandler.setConfig(t),F.emit(G.NEXT_LEVEL))},window.gotoHomeEvent=()=>{e(),this.player.updateBestScore(this.currentScore),this.analytics.levelFail(this.levelHandler.level,this.currentScore),F.emit(G.REPLAY)},window.enableSound=t=>{t&&(this.audio.unmuteAll(),this.audio.playMusic(),this.audio.resumeAllSounds()),t||(this.audio.muteAll(),this.audio.stopMusic(),this.audio.pauseAllSounds())}};resetData=async()=>{const e=new _t({}).toObject();await FBInstant.player.setDataAsync(e),this.player.setMultiCustomData({levelProgress:1})};checkOfflineReward(){const e=this.player.getCustomData("lastTimePlayed");if(!GameCore.Utils.Valid.isNumber(e)){this.player.setCustomData("lastTimePlayed",Date.now());return}if(!Ps(e)){this.player.setCustomData("lastTimePlayed",Date.now());const t=this.player.getCustomData("items");if(!GameCore.Utils.Valid.isObject(t))return;const s=t[C.HINT.ID],o=t[C.BOMB_DEFUSE.ID],i=t[C.ROCKET.ID],r=t[C.SHUFFLE.ID];if(!GameCore.Utils.Valid.isNumber(s)||!GameCore.Utils.Valid.isNumber(o)||!GameCore.Utils.Valid.isNumber(i)||!GameCore.Utils.Valid.isNumber(r))return;const n=this.player.getCustomData("levelProgress");let a=0,l=0;GameCore.Utils.Valid.isNumber(n)&&(a=n>=11?yt.ItemRocket:0,l=n>=7?yt.ItemBombDefuse:0),this.player.setCustomData("items",{[C.HINT.ID]:s+yt.ItemHint,[C.BOMB_DEFUSE.ID]:o+l,[C.SHUFFLE.ID]:r+yt.ItemShuffle,[C.ROCKET.ID]:i+a}),this.game.analytics.event(U.GET_FREE_ITEM,{item_name:C.HINT.ID,value:yt.ItemHint}),l>0&&this.game.analytics.event(U.GET_FREE_ITEM,{item_name:C.BOMB_DEFUSE.ID,value:l}),this.game.analytics.event(U.GET_FREE_ITEM,{item_name:C.SHUFFLE.ID,value:yt.ItemShuffle}),a>0&&this.game.analytics.event(U.GET_FREE_ITEM,{item_name:C.ROCKET.ID,value:a});return}this.player.setCustomData("lastTimePlayed",Date.now())}createHandler(){this.levelHandler=new Ju(this)}initHandler(){this.levelHandler.init()}createManager(){this.layoutManager=new ep(this),this.animationManager=new jm(this),this.tileManager=new yh(this),this.modeManager=new Qu(this),this.itemManager=new Hu(this),this.boardManager=new xu(this),this.comboManager=new wf(this),this.effectManager=new Tf(this),this.screenManager=new f0(this),this.tutorialManager=new Vh(this),this.uiManager=new Xh(this)}initManager(){this.uiManager.init(),this.boardManager.init(),this.tileManager.init(),this.modeManager.init(),this.itemManager.init(),this.comboManager.init(),this.screenManager.init(),this.effectManager.init(),this.tutorialManager.init(),this.animationManager.init(),this.layoutManager.init()}stopManager(){this.uiManager.stop(),this.boardManager.stop(),this.tileManager.stop(),this.modeManager.stop(),this.itemManager.stop(),this.comboManager.stop(),this.screenManager.stop(),this.effectManager.stop(),this.tutorialManager.stop(),this.animationManager.stop(),this.layoutManager.stop()}startManager(){this.boardManager.start(),this.tileManager.start(),this.modeManager.start(),this.itemManager.start(),this.comboManager.start(),this.screenManager.start(),this.effectManager.start(),this.tutorialManager.start(),this.animationManager.start(),this.uiManager.start(),this.layoutManager.start()}listenEvents(){F.on(G.REPLAY,this.replay),F.on(G.GAME_OVER_REPLAY,this.gameOverReplay),F.on(G.RESCUE,this.rescued),F.on(G.CONTINUE,this.continue),F.on(G.NEXT_LEVEL,this.handleNextLevel),F.on(G.RECEIVE_ITEM,this.handleReceiveItem),F.on(G.SHOW_RESCUE_SCREEN,this.showRescueScreen)}run=()=>{this.startGame(),this.scene.get(re.LOAD_SCENE).lazyLoadResources()};startGame(){const{player:e}=this.game;!!e.getPlayerSetting("music")&&this.audio.setMusicVolume(1),this.levelStartAt=Date.now(),this.gameplayMode=Ef.NORMAL,this.gameStatus=ge.PLAYING,this.prevScore=jt.StartScore,this.prevTargetScore=0,this.currentScore=0,this.initHandler(),this.initManager(),this.setScore(this.prevScore);const{level:s}=this.levelHandler,{objects:o,groups:i}=this.layoutManager;i.gameUI.reviveGroup(),this.uiManager.updateLevel(s),o.starProgressBar.setProcess(0),this.analytics.levelStart(s,this.currentScore),this.tutorialManager.checkIsValidForTutorial()&&this.uiManager.showUIForGuide(),this.layoutManager.layout.alignItems(),this.audio.playSound(Z.LEVEL_START),this.audio.playMusic(),this.startManager()}setScore(e){this.currentScore=e;const{targetScore:t}=this.levelHandler;this.isReachTargetScore=this.currentScore>=t}eatScore=e=>{if(this.gameStatus!==ge.PLAYING)return;this.currentScore+=e;const{targetScore:t}=this.levelHandler,{objects:s}=this.layoutManager;s.starProgressBar.setProcess(this.currentScore/t),this.setScore(this.currentScore)};die=(e,t)=>{this.gameStatus!==ge.DYING&&(this.gameStatus=ge.DYING,F.emit(G.DIE),this.tileManager.isSelectable=!1,this.tileManager.removeSuggestPairHint(),this.itemManager.setIsUseableItem(!1),this.uiManager.disablePause(),this.updateNotificationData(),this.delayTimer?.remove(),this.delayTimer=this.time.addEvent({delay:jt.DelayEndGame,callback:()=>{this.audio.pauseMusic(),this.showRescueScreen({level:e,reason:t})}}))};rescued=e=>{const t=this.levelHandler.level;if(this.analytics.levelRescue(t,this.currentScore),this.gameStatus=ge.PLAYING,this.audio.playSound(Z.LEVEL_START),this.delayTimer?.remove(),this.delayTimer=this.time.addEvent({delay:jt.DelayStart/2,callback:()=>{this.tileManager.isSelectable=!0,this.itemManager.setIsUseableItem(!0)}}),this.analytics.gameLifeEnd(1,t,this.currentScore),!GameCore.Utils.Valid.isObject(e))return;const{reason:s}=e;if(s==="timeUp"){const{objects:o}=this.layoutManager;o.playtimeClock.handleRescueTimeout()}};continue=e=>{this.rescued(e)};replay=()=>{const e=this.levelHandler.level;this.analytics.levelFail(e,this.currentScore),this.stopManager(),this.startGame()};gameOverReplay=async()=>{const e=this.levelHandler.level;this.analyticLevelFail(e),await this.handleShowInterstitialAd(),this.stopManager(),this.startGame()};updateNotificationData=()=>{const e=this.player.getBestScore(),t=this.levelHandler.level,s=this.player.getCustomData("items");let o=[];GameCore.Utils.Valid.isObject(s)&&(o=Object.keys(s).map(r=>({itemId:r,quantity:s[r]})).filter(r=>!!r.itemId)),this.notification.updateData({friendIds:this.player.getConnectedPlayerIds(10,0),gameSettings:this.player.getPlayerSettings(),gameProgress:{currentLevel:t,itemsCollected:o},gameStatistics:{highScore:e}}),this.notification.sendRequest()};analyticLevelFail(e){this.levelEndAt=Date.now(),this.analytics.levelFail(e,this.currentScore)}endGame(){this.replay()}finishLevel=(e=!1)=>{if(!e&&this.gameStatus===ge.FINISHED)return;this.uiManager.disablePause();const{objects:t}=this.layoutManager;t.playtimeClock.pauseClock(),this.tileManager.removeSuggestPairHint();const{targetScore:s,level:o}=this.levelHandler,i=this.levelHandler.up();if(F.emit(G.FINISH),!i){this.die(o,"levelFail");return}this.gameStatus=ge.FINISHED,t.starProgressBar.setProcess(1),this.levelEndAt=Date.now(),this.analytics.levelComplete(o,this.currentScore),this.analytics.gameMilestone("reach_milestone",{milestone:o+1},0,this.currentScore),this.prevTargetScore=s,this.prevScore=this.currentScore,this.setScore(this.currentScore),this.updateNotificationData(),o===1?this.handleFinishLevel(o)():this.time.delayedCall(jt.DelayLevelUp,this.handleFinishLevel(o))};handleFinishLevel=e=>()=>{this.effectManager.playFlyingStarFromClockEffect(async()=>{if(e===1){this.handleNextLevel();return}const s=await this.handleShowInterstitialAd()?0:1e3;this.delayTimer?.remove(),this.delayTimer=this.time.addEvent({delay:s,callback:()=>{this.audio.pauseMusic();const{starProgressBar:o}=this.layoutManager.objects,{level:i}=this.levelHandler;this.comboManager.stop();const r=o.getStarAmount();this.showResultScreen(r,i-1)}})})};handleNextLevel=async()=>{this.stopManager(),this.startGame()};handleShowInterstitialAd=async()=>{const{level:e}=this.levelHandler;let t=!1;if(e>=jt.StartAdAtLevel&&this.ads.canbeShowInterstitialAd()){const{globalScene:s,lang:o}=this.game;let i=null;try{i=this.time.delayedCall(200,()=>{this.game.globalScene.screen.open($.NOTIFY_SCREEN,{message:o.Text.loading_ads,duration:0,loading:!0})}),this.audio.pauseAllSounds(),this.audio.pauseMusic(),this.ads.getAdStatus(GameCore.Ads.Types.INTERSTITIAL)===GameCore.Ads.Status.IDLE&&await this.ads.preloadInterstitialAdAsync(),await this.ads.showInterstitialAdAsync(),t=!0}catch(r){console.warn("Show interstitial ad error",r)}finally{this.audio.playMusic(),this.audio.resumeAllSounds(),s.screen.events.off(GameCore.Screens.Events.CLOSE),i?.remove(),this.ads.preloadInterstitialAdAsync().catch(()=>{}),s.screen.close($.NOTIFY_SCREEN)}}return t};handleReceiveItem=e=>{const{itemId:t,rewardCount:s}=e;this.itemManager.addItemAmount(t,s),this.game.analytics.event(U.EARN_ITEM,{item_name:t,value:s})};showRescueScreen=e=>{const{level:t,reason:s}=e;this.time.delayedCall(0,()=>{this.screenManager.showRescueScreen(t,s)})};showResultScreen=(e,t)=>{this.screenManager.showResultScreen(e,t)};getPlayedTimeSeconds(){return Math.floor((this.levelEndAt-this.levelStartAt)/1e3)}}const rt=p0,b0=c=>c.context,g0=c=>c.context.currentGameMode;de([b0],c=>c);const v0=de([g0],c=>c),T0=[U.SCREEN_OPEN];class V0 extends GameCore.Analytics.BaseAnalytics{game;trackingId;currentPath="/";constructor(e,t){super("GoogleAnalytics",{...t},"#E35335");const{trackingId:s}=t;this.game=e;const{consoleLog:o}=GameCore.Configs.Analytics.GoogleAnalytics||{};this.selfLog=!!o,this.trackingId=s}processEvent(e,t,s){if(T0.indexOf(e)>=0)return;const o=this.formatEventName(e);let i=t?{...t}:{};i=s?{...i,value:s}:i,i={...i,page_path:this.currentPath,send_to:"GA"},gtag("event",o,i)}processLevelStart(e,t,s){this.processEvent(U.LEVEL_START,{level:e,score:t,level_name:s})}processLevelRescue(e,t,s){this.processEvent(U.LEVEL_RESCUE,{level:e,score:t,level_name:s})}processLevelFail(e,t,s){this.processEvent(U.LEVEL_END,{level:e,score:t,level_name:s,success:!1})}processLevelComplete(e,t,s){this.processEvent(U.LEVEL_END,{level:e,score:t,level_name:s,success:!0})}processShowInterstitialAd(e){const t=window.game.globalScene.scene.get(re.GAME_SCENE);let s=window.game.player.getCustomData("levelProgress");GameCore.Utils.Valid.isNumber(s)||(s=1),t instanceof rt&&t.gameStatus===ge.FINISHED&&(s-=1),this.processEvent(U.AD_SHOW,{ad_type:"interstitial",screen_name:`${e}`,level:s}),this.processEvent(U.AD_IMPRESSION,{ad_format:"Interstitial"})}processShowRewardedVideoAd(e){const t=window.game.globalScene.scene.get(re.GAME_SCENE);let s=window.game.player.getCustomData("levelProgress");GameCore.Utils.Valid.isNumber(s)||(s=1),t instanceof rt&&t.gameStatus===ge.FINISHED&&(s-=1),this.processEvent(U.AD_SHOW,{ad_type:"rewarded_video",screen_name:`${e}`,level:s}),this.processEvent(U.AD_IMPRESSION,{ad_format:"Rewarded"})}processShowAdFail(e,t){const s=window.game.globalScene.scene.get(re.GAME_SCENE);let o=window.game.player.getCustomData("levelProgress");GameCore.Utils.Valid.isNumber(o)||(o=1),s instanceof rt&&s.gameStatus===ge.FINISHED&&(o-=1);const i=e===GameCore.Ads.Types.REWARDED?"rewarded_video":"interstitial";this.processEvent(U.AD_SHOW_FAILED,{ad_type:i,screen_name:`${t}`,level:o})}processPageView(e){const s=`/${this.getGameplayMode()}/${e}`;this.currentPath=s,gtag("event","page_view",{page_path:this.currentPath,send_to:["GA",this.trackingId]})}getGameplayMode(){const{storage:e}=this.game,t=e.getState();return v0(t)}formatEventName(e){return e.toLowerCase().replace(/:/g,"_")}}class w0 extends Phaser.Scene{create(){this.facebook.progressLoading.loadingProgressFbBootScene(),this.startGame()}startGame=async()=>{try{await this.auth.requestToken(),await this.storage.syncStore(),this.configureSentry(),this.configureRollbar(),this.detectGameMode(),this.initAnalytics(),this.analytics.event(U.LOAD_START),this.scene.launch(re.GLOBAL_SCENE),this.scene.start(re.LOAD_SCENE),this.analytics.pageview(re.LOAD_SCENE)}catch(e){pe(e)}finally{this.facebook.progressLoading.finishLoadingProgressFbBootScene(),this.scene.sleep(re.BOOT_SCENE)}};configureSentry(){const e=this.player.getPlayer();en({id:e.playerId,username:e.name})}configureRollbar(){if(!this.rollbar)return;const e=this.player.getPlayer();this.rollbar.configure({payload:{person:{id:e.playerId,name:e.name}}})}detectGameMode(){this.storage.dispatch(td())}initAnalytics(){this.analytics.add(new $d(this.game,{}))}}const E0=w0,{Valid:Tr}=GameCore.Utils;class y0{currencies;constructor(e){this.initDefaultValues(),Tr.isObject(e)&&Object.keys(e).forEach(t=>{Object.hasOwn(e,t)&&Tr.isNumber(e[t])&&(this.currencies[t]=e[t])})}initDefaultValues(){this.currencies={}}toObject(){return{...this.currencies}}}const P0=y0,{Object:tt,Valid:$e}=GameCore.Utils;class S0{currentLevel;itemsCollected;levelsCompleted;constructor(e){this.initDefaultValues(),$e.isObject(e)&&(tt.hasOwn(e,"currentLevel")&&$e.isNumber(e.currentLevel)&&(this.currentLevel=e.currentLevel),tt.hasOwn(e,"itemsCollected")&&Array.isArray(e.itemsCollected)&&(this.itemsCollected=e.itemsCollected.filter(t=>!(!$e.isObject(t)||!tt.hasOwn(t,"itemId")||!$e.isString(t.itemId)||!tt.hasOwn(t,"quantity")||!$e.isNumber(t.quantity)))),tt.hasOwn(e,"levelsCompleted")&&Array.isArray(e.levelsCompleted)&&(this.levelsCompleted=e.levelsCompleted.filter(t=>!(!$e.isObject(t)||!tt.hasOwn(t,"score")||!$e.isNumber(t.score)||!tt.hasOwn(t,"levelId")||!$e.isString(t.levelId)))))}initDefaultValues(){this.currentLevel=0,this.levelsCompleted=[],this.itemsCollected=[]}toObject(){return{currentLevel:this.currentLevel,itemsCollected:this.itemsCollected,levelsCompleted:this.levelsCompleted}}}const k0=S0,{Object:ys,Valid:$t}=GameCore.Utils;class x0{highScore;timePlayed;totalGamesWon;totalGamesLose;constructor(e){this.initDefaultValues(),$t.isObject(e)&&(ys.hasOwn(e,"highScore")&&$t.isNumber(e.highScore)&&(this.highScore=e.highScore),ys.hasOwn(e,"timePlayed")&&$t.isNumber(e.timePlayed)&&(this.timePlayed=e.timePlayed),ys.hasOwn(e,"totalGamesWon")&&$t.isNumber(e.totalGamesWon)&&(this.totalGamesWon=e.totalGamesWon),ys.hasOwn(e,"totalGamesLose")&&$t.isNumber(e.totalGamesLose)&&(this.totalGamesLose=e.totalGamesLose))}initDefaultValues(){this.highScore=0,this.timePlayed=0,this.totalGamesWon=0,this.totalGamesLose=0}toObject(){return{highScore:this.highScore,timePlayed:this.timePlayed,totalGamesWon:this.totalGamesWon,totalGamesLose:this.totalGamesLose}}}const O0=x0,{sound:R0,music:A0,theme:_0,vibrate:I0,language:M0}=Rt,{Object:Vt,Valid:Pt}=GameCore.Utils;class C0{sound;music;vibrate;theme;language;constructor(e){this.initDefaultData(),Pt.isObject(e)&&(Vt.hasOwn(e,"sound")&&Pt.isBoolean(e.sound)&&(this.sound=e.sound),Vt.hasOwn(e,"music")&&Pt.isBoolean(e.music)&&(this.music=e.music),Vt.hasOwn(e,"vibrate")&&Pt.isBoolean(e.vibrate)&&(this.vibrate=e.vibrate),Vt.hasOwn(e,"theme")&&Pt.isString(e.theme)&&(this.theme=e.theme),Vt.hasOwn(e,"language")&&Pt.isString(e.language)&&(this.language=e.language))}initDefaultData(){this.sound=R0,this.music=A0,this.theme=_0,this.vibrate=I0,this.language=M0}toObject(){return{sound:this.sound,music:this.music,theme:this.theme,vibrate:this.vibrate,language:this.language}}}const{settings:L0}=Ur,{Object:ye,Valid:Ve}=GameCore.Utils;class D0{gpId;appId;glanceId;playerId;name;photo;locale;friendIds;gameProgress;gameSettings;gameStatistics;currencyBalance;constructor(e){this.initDefaultValues(),Ve.isObject(e)&&(ye.hasOwn(e,"gpId")&&Ve.isString(e.gpId)&&(this.gpId=e.gpId),ye.hasOwn(e,"appId")&&Ve.isString(e.appId)&&(this.appId=e.appId),ye.hasOwn(e,"glanceId")&&Ve.isString(e.glanceId)&&(this.glanceId=e.glanceId),ye.hasOwn(e,"playerId")&&Ve.isString(e.playerId)&&(this.playerId=e.playerId),ye.hasOwn(e,"name")&&Ve.isString(e.name)&&(this.name=e.name),ye.hasOwn(e,"photo")&&Ve.isString(e.photo)&&(this.photo=e.photo),ye.hasOwn(e,"locale")&&Ve.isString(e.locale)&&(this.locale=e.locale),ye.hasOwn(e,"friendIds")&&Array.isArray(e.friendIds)&&(this.friendIds=e.friendIds),ye.hasOwn(e,"gameProgress")&&(this.gameProgress=new k0(e.gameProgress).toObject()),ye.hasOwn(e,"gameStatistics")&&(this.gameStatistics=new O0(e.gameStatistics).toObject()),ye.hasOwn(e,"currencyBalance")&&(this.currencyBalance=new P0(e.currencyBalance).toObject()),ye.hasOwn(e,"gameSettings")&&(this.gameSettings=new C0(e.gameSettings).toObject()))}initDefaultValues(){this.gpId="",this.appId="",this.glanceId="",this.playerId="",this.name="",this.photo="",this.locale="en_US",this.friendIds=[],this.gameProgress={currentLevel:0,itemsCollected:[],levelsCompleted:[]},this.gameSettings={...L0},this.gameStatistics={highScore:0,timePlayed:0,totalGamesWon:0,totalGamesLose:0},this.currencyBalance={}}toObject(){return{gpId:this.gpId,appId:this.appId,glanceId:this.glanceId,playerId:this.playerId,name:this.name,photo:this.photo,locale:this.locale,friendIds:this.friendIds,gameProgress:this.gameProgress,gameSettings:this.gameSettings,gameStatistics:this.gameStatistics,currencyBalance:this.currencyBalance}}}const N0=D0;class G0 extends Phaser.Plugins.BasePlugin{data;endpoint;enabled;async setup(e,t){this.enabled=!0,this.endpoint=e,console.log("NotificationPlugin: configure",e,t),this.updateData(t)}updateData=async e=>{if(!this.enabled)return;const t=Ye(this.data,e);this.data=new N0(t).toObject(),console.log("NotificationPlugin: updatePayload",this.data)};sendRequest=async()=>{try{if(!this.enabled)return;const{playerId:e}=this.data,t={...this.data};console.log("NotificationPlugin: sendRequest",t);const o=(await Br(`players/${e}`,t,{},this.endpoint,10))?.data||{};this.updateData(o)}catch(e){console.warn("NotificationPlugin: sendRequest",e)}}}class wr extends GameCore.Ads.AdInstance{instance;placementId;constructor(e,t){super(e),this.instance=null,this.placementId=t}static setGame(e){self.game=e}async loadAsync(){if(console.log("loadAsync",this.type,this.status),this.status===GameCore.Ads.Status.IDLE)try{if(this.status=GameCore.Ads.Status.LOADING,this.instance=await this.createInstanceByType(this.type),this.instance===null)throw new GameCore.Ads.AdError("AD_INSTANCE_NOT_INITIATED","Ad instance didn't initiated.");await this.instance.loadAsync(),this.status=GameCore.Ads.Status.FILLED}catch(e){throw this.status=GameCore.Ads.Status.IDLE,this.instance=null,e}}async showAsync(){try{if(console.log("showAsync",this.type,this.status),this.status===GameCore.Ads.Status.LOADING)throw new GameCore.Ads.AdError("AD_ARE_LOADING","Ads are loading.");if(this.status!==GameCore.Ads.Status.FILLED)throw new GameCore.Ads.AdError("AD_NOT_FILLED","Ads no fill.");if(this.status=GameCore.Ads.Status.SHOWING,this.instance===null)throw new GameCore.Ads.AdError("AD_INSTANCE_NOT_INITIATED","Ad instance didn't initiated.");this.type===GameCore.Ads.Types.INTERSTITIAL&&window.sendCustomAnalyticsEvent(U.GLANCE_GAME_LEVEL,{successCB:()=>window.handleNextLevel()}),this.type===GameCore.Ads.Types.REWARDED&&window.sendCustomAnalyticsEvent(U.GLANCE_REWARDED_AD,{failureCB:()=>window.handleRewardedFail(),successCB:()=>window.handleRewardedSuccess()}),await this.instance.showAsync();const e=this.getSceneName();this.type===GameCore.Ads.Types.INTERSTITIAL&&self.game.analytics.showInterstitialAd(e),this.type===GameCore.Ads.Types.REWARDED&&self.game.analytics.showRewardedVideoAd(e),this.status=GameCore.Ads.Status.IDLE,this.instance=null}catch(e){console.warn("showAsync error",e),e instanceof Object&&GameCore.Utils.Object.hasOwn(e,"code")?e.code:(this.status=GameCore.Ads.Status.IDLE,this.instance=null);const t=this.getSceneName();throw self.game.analytics.showAdFail(this.type,t,e),e}}getStatus(){return this.status}async createInstanceByType(e){const{facebook:t}=self.game;switch(e){case GameCore.Ads.Types.REWARDED:return await t.getRewardedVideoAsync(this.placementId);case GameCore.Ads.Types.INTERSTITIAL:return await t.getInterstitialAdAsync(this.placementId);default:return null}}getSceneName(){try{const{globalScene:e}=self.game;return e instanceof qo?e.getCurrentScene().scene.getSceneName():"unknown"}catch{return"unknown"}}}const{Object:Er,Valid:Ue}=GameCore.Utils;class F0 extends Phaser.Game{constructor(e){super(e)}async boot(){super.boot(),this.addExtraGameObjectMethods(),this.addExtraFBInstantFunctions(),this.addPlugins(),await this.addDevPlugins(),await this.initAdsAsync(),this.addScenes(),this.addDevScenes(),this.initWorld(),this.initStorage(),this.initLanguage(),this.initUtils(),this.initRollbar(),this.initConsole(),this.initDebugger(),this.initStatistics(),this.initParticleEditor(),this.initNotificationPlugin(),this.initAdaptivePerformance(),this.initProfilerPlugin(),this.handleShowInterAdWhenStartGame(),this.addGlanceGlobalMethods()}start(){super.start()}addExtraGameObjectMethods(){const e=new mn;e.addKillRevive(),e.addKillReviveGroup(),e.addDrawDebugBox(),e.addSetWorldSize(),e.addSetWorldSizeForContainer(),e.addGetWorldPosition(),e.addHighQuality()}addExtraFBInstantFunctions(){const e=new cn(this.facebook);this.facebook.getLocale=e.getLocale,this.facebook.shareAsync=e.shareAsync,this.facebook.inviteAsync=e.inviteAsync,this.facebook.switchAsync=e.switchAsync,this.facebook.chooseAsync=e.chooseAsync,this.facebook.createAsync=e.createAsync,this.facebook.sendMessage=e.sendMessage,this.facebook.getContextID=e.getContextID,this.facebook.getPlayerToken=e.getPlayerToken,this.facebook.matchPlayerAsync=e.matchPlayerAsync,this.facebook.getContextPlayers=e.getContextPlayers,this.facebook.setLoadingProgress=e.setLoadingProgress,this.facebook.attemptToAddShortcut=e.attemptToAddShortcut,this.facebook.attemptToSubscribeBot=e.attemptToSubscribeBot,this.facebook.postSessionScoreAsync=e.postSessionScoreAsync,this.facebook.getRewardedVideoAsync=e.getRewardedVideoAsync,this.facebook.sendNotificationAsync=e.sendNotificationAsync,this.facebook.getInterstitialAdAsync=e.getInterstitialAdAsync,e.injectTournament(),this.facebook.progressLoading=new dn(this)}addPlugins(){this.plugins.install("Storage",jc,!0,"storage"),this.plugins.install("Rollbar",$l,!0,"rollbar"),this.plugins.install("AdsManager",bn,!0,"ads"),this.plugins.install("AuthManager",Fn,!0,"auth"),this.plugins.install("AudioManager",Sn,!0,"audio"),this.plugins.install("WorldManager",Jc,!0,"world"),this.plugins.install("PlayerManager",Al,!0,"player"),this.plugins.install("LanguageManager",jd,!0,"lang"),this.plugins.install("ProfileManager",Gl,!0,"profile"),this.plugins.install("AnalyticsManager",Tn,!0,"analytics"),this.plugins.install("NotificationPlugin",G0,!0,"notification"),this.plugins.install("AdaptivePerformance",Vn,!0,"performance"),this.plugins.installScenePlugin("textStyler",qc,"textStyler"),this.plugins.installScenePlugin("ScreenManager",ec,"screen"),this.plugins.installScenePlugin("FrameCapture",Kn,"frameCapture"),window.SpinePlugin&&this.plugins.installScenePlugin("SpinePlugin",SpinePlugin,"spine"),this.storage=this.plugins.get("Storage"),this.rollbar=this.plugins.get("Rollbar"),this.ads=this.plugins.get("AdsManager"),this.auth=this.plugins.get("AuthManager"),this.audio=this.plugins.get("AudioManager"),this.world=this.plugins.get("WorldManager"),this.player=this.plugins.get("PlayerManager"),this.lang=this.plugins.get("LanguageManager"),this.profile=this.plugins.get("ProfileManager"),this.analytics=this.plugins.get("AnalyticsManager"),this.notification=this.plugins.get("NotificationPlugin"),this.performance=this.plugins.get("AdaptivePerformance")}async addDevPlugins(){if(!Ue.isDebugger())return;const e=(await mt(()=>import("./devtool.js").then(r=>r.i),[],import.meta.url)).default,t=(await mt(()=>import("./devtool.js").then(r=>r.a),[],import.meta.url)).default,s=(await mt(()=>import("./devtool.js").then(r=>r.b),[],import.meta.url)).default,o=(await mt(()=>import("./devtool.js").then(r=>r.c),[],import.meta.url)).default,i=(await mt(()=>import("./devtool.js").then(r=>r.d),[],import.meta.url)).default;this.plugins.install("Console",e,!0,"console"),this.plugins.install("Debugger",t,!0,"debugger"),this.plugins.install("Profiler",o,!0,"profiler"),this.plugins.install("Statistics",s,!0,"statistics"),this.plugins.install("ParticleEditor",i,!0,"particle-editor"),this.eruda=this.plugins.get("Console"),this.debugger=this.plugins.get("Debugger"),this.profiler=this.plugins.get("Profiler"),this.statistics=this.plugins.get("Statistics"),this.particleEditor=this.plugins.get("ParticleEditor")}addScenes(){this.scene.add(re.BOOT_SCENE,E0,!0),this.scene.add(re.LOAD_SCENE,Da,!1),this.scene.add(re.GAME_SCENE,rt,!1),this.scene.add(re.GLOBAL_SCENE,qo,!1)}async addDevScenes(){if(!Ue.isDebugger())return;const e=(await mt(()=>import("./devscene.js"),["./devscene.js","./engine.js"],import.meta.url)).default;this.scene.add(re.TEST_SCENE,e,!1)}async initAdsAsync(){const{Ads:e}=GameCore.Configs;wr.setGame(this);const t=wr,s={...e.InterstitialAdOptions};s.showWhenStartGame&&(s.secondsFirstTime=0),this.ads.configure(t,{enabled:e.Enabled,calculateSafeAreaBottom:e.CalculateSafeAreaBottom,enableRewardVideoResetInterstitial:e.EnableRewardVideoResetInterstitial,interstitialAdOptions:s,rewardAdOptions:e.RewardAdOptions,bannerAdOptions:e.BannerAdOptions})}initWorld(){const{Game:e}=GameCore.Configs,{AutoResize:t,PortraitRatio:s,PortraitWidth:o,PortraitHeight:i,LandscapeRatio:r,LandscapeWidth:n,LandscapeHeight:a,DisableLandscape:l,FullSizeOnLandscape:d}=e,u=t,m=l,f=d,h=s,p=o,v=i,b=r,g=n,T=a;this.world.configure({autoResize:u,portraitRatio:h,portraitWidth:p,portraitHeight:v,landscapeRatio:b,landscapeWidth:g,landscapeHeight:T,disableLandscape:m,fullSizeOnLandscape:f}),this.world.resize(e.ForcePixelRatio)}initStorage(){const e=new ld(this);this.storage.setInitiator(e)}initLanguage(){const e=this.facebook.getLocale();this.lang.configure({locale:e,upperCaseText:!1})}initUtils(){this.handlePauseAudio(),this.removeUnusedPipelines(),rd()}initConsole(){if(!Ue.isDebugger())return;const{ShowConsole:e}=GameCore.Configs.Debugger;e&&this.eruda.configure({tool:["console","info"],defaults:{theme:"Dark"}})}initDebugger(){if(!Ue.isDebugger())return;const{ShowInspector:e,ShowMonitoring:t}=GameCore.Configs.Debugger;!e&&!t||this.debugger.configure(GameCore.Configs.Debugger)}initStatistics(){if(!Ue.isDebugger())return;const{Enable:e}=GameCore.Configs.Statistics;e&&this.statistics.configure(GameCore.Configs.Statistics)}initParticleEditor(){if(!Ue.isDebugger())return;const{Enable:e}=GameCore.Configs.ParticleEditor;e&&this.particleEditor.configure(GameCore.Configs.ParticleEditor)}initProfilerPlugin(){if(!Ue.isDebugger())return;const{Enable:e}=GameCore.Configs.ProfilerPlugin;e&&this.profiler.configure()}initNotificationPlugin(){const{AppId:e}=GameCore.Configs,{Enable:t,ApiUrl:s}=GameCore.Configs.Notification;if(!t)return;let o=null;if(Er.hasOwn(window.__glancePlayerData,"glanceId")&&Ue.isString(window.__glancePlayerData.glanceId)&&(o=window.__glancePlayerData.glanceId),!o)return;let i=null;if(Er.hasOwn(window.__glancePlayerData,"gpID")&&Ue.isString(window.__glancePlayerData.gpID)&&(i=window.__glancePlayerData.gpID),!i)return;const r={gpId:i,appId:e,glanceId:o};this.notification.setup(s,r)}addGlanceGlobalMethods(){window.enableSound=e=>{this.player.setSetting("music",e),this.player.setSetting("sound",e),e?this.audio.playMusic():this.audio.pauseMusic()}}initAdaptivePerformance(){const{Enable:e,...t}=GameCore.Configs.Performance;if(!e)return;const s=this.world.getPixelRatio();this.performance.configure({pixelRatio:s,...t}),this.performance.active()}initRollbar(){const{Enable:e}=GameCore.Configs.Rollbar;console.warn({isRollbarEnabled:e}),e&&this.rollbar.setup()}handlePauseAudio(){this.sound.pauseOnBlur=!1,document.addEventListener("visibilitychange",()=>{if(document.hidden){this.audio.pauseMusic(!0),this.audio.pauseAllSounds();return}this.audio.playMusic(),this.audio.resumeAllSounds()})}removeUnusedPipelines(){const e=this.renderer;if(!(e instanceof Phaser.Renderer.WebGL.WebGLRenderer))return;const{pipelines:t}=e,s=Phaser.Renderer.WebGL.Pipelines;if(!s)return;[s.ROPE_PIPELINE,s.LIGHT_PIPELINE,s.POSTFX_PIPELINE,s.POINTLIGHT_PIPELINE,s.BITMAPMASK_PIPELINE].forEach(i=>{t.get(i)?.destroy(),t.remove(i)})}async handleShowInterAdWhenStartGame(){const{InterstitialAdOptions:e}=GameCore.Configs.Ads;if(e.showWhenStartGame)try{this.audio.stopMusic(),this.audio.muteAll(),await this.ads.showInterstitialAdAsync()}catch(t){pe(t)}finally{this.audio.unmuteAll(),this.audio.playMusic(),await this.ads.preloadInterstitialAdAsync()}}}const{ShowInspector:B0}=GameCore.Configs.Debugger,U0={parent:"app",type:Phaser.AUTO,width:0,height:0,scale:{autoRound:!0},dom:{createContainer:!1},loader:{maxParallelDownloads:6,crossOrigin:"no-cros"},audio:{},input:{gamepad:!1,keyboard:B0,touch:{capture:!0},smoothFactor:1,activePointers:1,windowEvents:!1},disableContextMenu:!0,render:{pixelArt:!1,antialias:!0,antialiasGL:!0,transparent:!0,desynchronized:!1,powerPreference:"high-performance",clearBeforeRender:!1,roundPixels:!1},plugins:{global:[]}};Qa();const H0=()=>{try{const c=new F0(U0);window.game=c}catch(c){pe(c)}},Y0=()=>{const c=setInterval(()=>{if(!window.__analyticsInitiated||!window.FBInstant)return;//! temporarily fix for not use adapter
window.GameSDK=window.FBInstant,window.__fbGameReady=!1,clearInterval(c),clearInterval(window.__fbInstantLoadingTimer),GameSDK.setLoadingProgress(30),"gtag"in window&&gtag("event","app_initialize",{send_to:["GA"]}),H0()},50)};Y0();export{Ra as B,W as D,A as S,ea as c,ts as g};
